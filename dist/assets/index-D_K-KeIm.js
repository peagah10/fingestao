var ZV=Object.defineProperty;var QV=(e,t,r)=>t in e?ZV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pb=(e,t,r)=>QV(e,typeof t!="symbol"?t+"":t,r);function eH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tH(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Lb={exports:{}},v0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI;function rH(){if(DI)return v0;DI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return v0.Fragment=t,v0.jsx=r,v0.jsxs=r,v0}var MI;function nH(){return MI||(MI=1,Lb.exports=rH()),Lb.exports}var l=nH(),Fb={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI;function aH(){if(PI)return yt;PI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function N(H,L,J){this.props=H,this.context=L,this.refs=_,this.updater=J||b}N.prototype.isReactComponent={},N.prototype.setState=function(H,L){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,L,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=N.prototype;function A(H,L,J){this.props=H,this.context=L,this.refs=_,this.updater=J||b}var D=A.prototype=new k;D.constructor=A,y(D,N.prototype),D.isPureReactComponent=!0;var j=Array.isArray;function O(){}var I={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(H,L,J){var U=J.ref;return{$$typeof:e,type:H,key:L,ref:U!==void 0?U:null,props:J}}function z(H,L){return R(H.type,L,H.props)}function q(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function F(H){var L={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(J){return L[J]})}var Y=/\/+/g;function de(H,L){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):L.toString(36)}function ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(O,O):(H.status="pending",H.then(function(L){H.status==="pending"&&(H.status="fulfilled",H.value=L)},function(L){H.status==="pending"&&(H.status="rejected",H.reason=L)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,L,J,U,B){var se=typeof H;(se==="undefined"||se==="boolean")&&(H=null);var fe=!1;if(H===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(H.$$typeof){case e:case t:fe=!0;break;case h:return fe=H._init,K(fe(H._payload),L,J,U,B)}}if(fe)return B=B(H),fe=U===""?"."+de(H,0):U,j(B)?(J="",fe!=null&&(J=fe.replace(Y,"$&/")+"/"),K(B,L,J,"",function(ge){return ge})):B!=null&&(q(B)&&(B=z(B,J+(B.key==null||H&&H.key===B.key?"":(""+B.key).replace(Y,"$&/")+"/")+fe)),L.push(B)),1;fe=0;var Te=U===""?".":U+":";if(j(H))for(var te=0;te<H.length;te++)U=H[te],se=Te+de(U,te),fe+=K(U,L,J,se,B);else if(te=x(H),typeof te=="function")for(H=te.call(H),te=0;!(U=H.next()).done;)U=U.value,se=Te+de(U,te++),fe+=K(U,L,J,se,B);else if(se==="object"){if(typeof H.then=="function")return K(ce(H),L,J,U,B);throw L=String(H),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return fe}function ae(H,L,J){if(H==null)return H;var U=[],B=0;return K(H,U,"","",function(se){return L.call(J,se,B++)}),U}function Z(H){if(H._status===-1){var L=H._result;L=L(),L.then(function(J){(H._status===0||H._status===-1)&&(H._status=1,H._result=J)},function(J){(H._status===0||H._status===-1)&&(H._status=2,H._result=J)}),H._status===-1&&(H._status=0,H._result=L)}if(H._status===1)return H._result.default;throw H._result}var W=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ee={map:ae,forEach:function(H,L,J){ae(H,function(){L.apply(this,arguments)},J)},count:function(H){var L=0;return ae(H,function(){L++}),L},toArray:function(H){return ae(H,function(L){return L})||[]},only:function(H){if(!q(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return yt.Activity=m,yt.Children=ee,yt.Component=N,yt.Fragment=r,yt.Profiler=a,yt.PureComponent=A,yt.StrictMode=n,yt.Suspense=u,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,yt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},yt.cache=function(H){return function(){return H.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(H,L,J){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var U=y({},H.props),B=H.key;if(L!=null)for(se in L.key!==void 0&&(B=""+L.key),L)!M.call(L,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&L.ref===void 0||(U[se]=L[se]);var se=arguments.length-2;if(se===1)U.children=J;else if(1<se){for(var fe=Array(se),Te=0;Te<se;Te++)fe[Te]=arguments[Te+2];U.children=fe}return R(H.type,B,U)},yt.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},yt.createElement=function(H,L,J){var U,B={},se=null;if(L!=null)for(U in L.key!==void 0&&(se=""+L.key),L)M.call(L,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(B[U]=L[U]);var fe=arguments.length-2;if(fe===1)B.children=J;else if(1<fe){for(var Te=Array(fe),te=0;te<fe;te++)Te[te]=arguments[te+2];B.children=Te}if(H&&H.defaultProps)for(U in fe=H.defaultProps,fe)B[U]===void 0&&(B[U]=fe[U]);return R(H,se,B)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(H){return{$$typeof:o,render:H}},yt.isValidElement=q,yt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:Z}},yt.memo=function(H,L){return{$$typeof:d,type:H,compare:L===void 0?null:L}},yt.startTransition=function(H){var L=I.T,J={};I.T=J;try{var U=H(),B=I.S;B!==null&&B(J,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(O,W)}catch(se){W(se)}finally{L!==null&&J.types!==null&&(L.types=J.types),I.T=L}},yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},yt.use=function(H){return I.H.use(H)},yt.useActionState=function(H,L,J){return I.H.useActionState(H,L,J)},yt.useCallback=function(H,L){return I.H.useCallback(H,L)},yt.useContext=function(H){return I.H.useContext(H)},yt.useDebugValue=function(){},yt.useDeferredValue=function(H,L){return I.H.useDeferredValue(H,L)},yt.useEffect=function(H,L){return I.H.useEffect(H,L)},yt.useEffectEvent=function(H){return I.H.useEffectEvent(H)},yt.useId=function(){return I.H.useId()},yt.useImperativeHandle=function(H,L,J){return I.H.useImperativeHandle(H,L,J)},yt.useInsertionEffect=function(H,L){return I.H.useInsertionEffect(H,L)},yt.useLayoutEffect=function(H,L){return I.H.useLayoutEffect(H,L)},yt.useMemo=function(H,L){return I.H.useMemo(H,L)},yt.useOptimistic=function(H,L){return I.H.useOptimistic(H,L)},yt.useReducer=function(H,L,J){return I.H.useReducer(H,L,J)},yt.useRef=function(H){return I.H.useRef(H)},yt.useState=function(H){return I.H.useState(H)},yt.useSyncExternalStore=function(H,L,J){return I.H.useSyncExternalStore(H,L,J)},yt.useTransition=function(){return I.H.useTransition()},yt.version="19.2.3",yt}var LI;function df(){return LI||(LI=1,Fb.exports=aH()),Fb.exports}var S=df();const dv=ds(S),iH=eH({__proto__:null,default:dv},[S]);var Bb={exports:{}},y0={},Ub={exports:{}},zb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function sH(){return FI||(FI=1,(function(e){function t(K,ae){var Z=K.length;K.push(ae);e:for(;0<Z;){var W=Z-1>>>1,ee=K[W];if(0<a(ee,ae))K[W]=ae,K[Z]=ee,Z=W;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ae=K[0],Z=K.pop();if(Z!==ae){K[0]=Z;e:for(var W=0,ee=K.length,H=ee>>>1;W<H;){var L=2*(W+1)-1,J=K[L],U=L+1,B=K[U];if(0>a(J,Z))U<ee&&0>a(B,J)?(K[W]=B,K[U]=Z,W=U):(K[W]=J,K[L]=Z,W=L);else if(U<ee&&0>a(B,Z))K[W]=B,K[U]=Z,W=U;else break e}}return ae}function a(K,ae){var Z=K.sortIndex-ae.sortIndex;return Z!==0?Z:K.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],d=[],h=1,m=null,g=3,x=!1,b=!1,y=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=K)n(d),ae.sortIndex=ae.expirationTime,t(u,ae);else break;ae=r(d)}}function j(K){if(y=!1,D(K),!b)if(r(u)!==null)b=!0,O||(O=!0,F());else{var ae=r(d);ae!==null&&ce(j,ae.startTime-K)}}var O=!1,I=-1,M=5,R=-1;function z(){return _?!0:!(e.unstable_now()-R<M)}function q(){if(_=!1,O){var K=e.unstable_now();R=K;var ae=!0;try{e:{b=!1,y&&(y=!1,k(I),I=-1),x=!0;var Z=g;try{t:{for(D(K),m=r(u);m!==null&&!(m.expirationTime>K&&z());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var ee=W(m.expirationTime<=K);if(K=e.unstable_now(),typeof ee=="function"){m.callback=ee,D(K),ae=!0;break t}m===r(u)&&n(u),D(K)}else n(u);m=r(u)}if(m!==null)ae=!0;else{var H=r(d);H!==null&&ce(j,H.startTime-K),ae=!1}}break e}finally{m=null,g=Z,x=!1}ae=void 0}}finally{ae?F():O=!1}}}var F;if(typeof A=="function")F=function(){A(q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,de=Y.port2;Y.port1.onmessage=q,F=function(){de.postMessage(null)}}else F=function(){N(q,0)};function ce(K,ae){I=N(function(){K(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ae=3;break;default:ae=g}var Z=g;g=ae;try{return K()}finally{g=Z}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=g;g=K;try{return ae()}finally{g=Z}},e.unstable_scheduleCallback=function(K,ae,Z){var W=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,K={id:h++,callback:ae,priorityLevel:K,startTime:Z,expirationTime:ee,sortIndex:-1},Z>W?(K.sortIndex=Z,t(d,K),r(u)===null&&K===r(d)&&(y?(k(I),I=-1):y=!0,ce(j,Z-W))):(K.sortIndex=ee,t(u,K),b||x||(b=!0,O||(O=!0,F()))),K},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(K){var ae=g;return function(){var Z=g;g=ae;try{return K.apply(this,arguments)}finally{g=Z}}}})(zb)),zb}var BI;function oH(){return BI||(BI=1,Ub.exports=sH()),Ub.exports}var $b={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function lH(){if(UI)return qn;UI=1;var e=df();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,qn.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(u,d,null,h)},qn.flushSync=function(u){var d=s.T,h=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=d,n.p=h,n.d.f()}},qn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},qn.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},qn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=o(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},qn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin);n.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qn.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=o(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},qn.requestFormReset=function(u){n.d.r(u)},qn.unstable_batchedUpdates=function(u,d){return u(d)},qn.useFormState=function(u,d,h){return s.H.useFormState(u,d,h)},qn.useFormStatus=function(){return s.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var zI;function d5(){if(zI)return $b.exports;zI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$b.exports=lH(),$b.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I;function cH(){if($I)return y0;$I=1;var e=oH(),t=df(),r=d5();function n(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var f=c,p=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(p=f.return),c=f.return;while(c)}return f.tag===3?p:null}function s(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function d(c){var f=c.alternate;if(!f){if(f=i(c),f===null)throw Error(n(188));return f!==c?null:c}for(var p=c,v=f;;){var T=p.return;if(T===null)break;var C=T.alternate;if(C===null){if(v=T.return,v!==null){p=v;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===p)return u(T),c;if(C===v)return u(T),f;C=C.sibling}throw Error(n(188))}if(p.return!==v.return)p=T,v=C;else{for(var P=!1,Q=T.child;Q;){if(Q===p){P=!0,p=T,v=C;break}if(Q===v){P=!0,v=T,p=C;break}Q=Q.sibling}if(!P){for(Q=C.child;Q;){if(Q===p){P=!0,p=C,v=T;break}if(Q===v){P=!0,v=C,p=T;break}Q=Q.sibling}if(!P)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=q&&c[q]||c["@@iterator"],typeof c=="function"?c:null)}var Y=Symbol.for("react.client.reference");function de(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Y?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case A:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case D:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case I:return f=c.displayName||null,f!==null?f:de(c.type)||"Memo";case M:f=c._payload,c=c._init;try{return de(c(f))}catch{}}return null}var ce=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},W=[],ee=-1;function H(c){return{current:c}}function L(c){0>ee||(c.current=W[ee],W[ee]=null,ee--)}function J(c,f){ee++,W[ee]=c.current,c.current=f}var U=H(null),B=H(null),se=H(null),fe=H(null);function Te(c,f){switch(J(se,f),J(B,c),J(U,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?nI(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=nI(f),c=aI(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}L(U),J(U,c)}function te(){L(U),L(B),L(se)}function ge(c){c.memoizedState!==null&&J(fe,c);var f=U.current,p=aI(f,c.type);f!==p&&(J(B,c),J(U,p))}function Se(c){B.current===c&&(L(U),L(B)),fe.current===c&&(L(fe),m0._currentValue=Z)}var G,_e;function ue(c){if(G===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);G=f&&f[1]||"",_e=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+_e}var be=!1;function Le(c,f){if(!c||be)return"";be=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Ie){var Ce=Ie}Reflect.construct(c,[],Be)}else{try{Be.call()}catch(Ie){Ce=Ie}c.call(Be.prototype)}}else{try{throw Error()}catch(Ie){Ce=Ie}(Be=c())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Ie){if(Ie&&Ce&&typeof Ie.stack=="string")return[Ie.stack,Ce.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),P=C[0],Q=C[1];if(P&&Q){var he=P.split(`
`),Ae=Q.split(`
`);for(T=v=0;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;for(;T<Ae.length&&!Ae[T].includes("DetermineComponentFrameRoot");)T++;if(v===he.length||T===Ae.length)for(v=he.length-1,T=Ae.length-1;1<=v&&0<=T&&he[v]!==Ae[T];)T--;for(;1<=v&&0<=T;v--,T--)if(he[v]!==Ae[T]){if(v!==1||T!==1)do if(v--,T--,0>T||he[v]!==Ae[T]){var Pe=`
`+he[v].replace(" at new "," at ");return c.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",c.displayName)),Pe}while(1<=v&&0<=T);break}}}finally{be=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?ue(p):""}function me(c,f){switch(c.tag){case 26:case 27:case 5:return ue(c.type);case 16:return ue("Lazy");case 13:return c.child!==f&&f!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return Le(c.type,!1);case 11:return Le(c.type.render,!1);case 1:return Le(c.type,!0);case 31:return ue("Activity");default:return""}}function Re(c){try{var f="",p=null;do f+=me(c,p),p=c,c=c.return;while(c);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var je=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,Oe=e.unstable_shouldYield,ut=e.unstable_requestPaint,ot=e.unstable_now,Rt=e.unstable_getCurrentPriorityLevel,pn=e.unstable_ImmediatePriority,kn=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,kr=e.unstable_LowPriority,ft=e.unstable_IdlePriority,sr=e.log,Gn=e.unstable_setDisableYieldValue,or=null,Sr=null;function Pa(c){if(typeof sr=="function"&&Gn(c),Sr&&typeof Sr.setStrictMode=="function")try{Sr.setStrictMode(or,c)}catch{}}var In=Math.clz32?Math.clz32:Su,kf=Math.log,Eu=Math.LN2;function Su(c){return c>>>=0,c===0?32:31-(kf(c)/Eu|0)|0}var Ls=256,Fs=262144,qo=4194304;function ya(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Wo(c,f,p){var v=c.pendingLanes;if(v===0)return 0;var T=0,C=c.suspendedLanes,P=c.pingedLanes;c=c.warmLanes;var Q=v&134217727;return Q!==0?(v=Q&~C,v!==0?T=ya(v):(P&=Q,P!==0?T=ya(P):p||(p=Q&~c,p!==0&&(T=ya(p))))):(Q=v&~C,Q!==0?T=ya(Q):P!==0?T=ya(P):p||(p=v&~c,p!==0&&(T=ya(p)))),T===0?0:f!==0&&f!==T&&(f&C)===0&&(C=T&-T,p=f&-f,C>=p||C===32&&(p&4194048)!==0)?f:T}function Bs(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Tu(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var c=qo;return qo<<=1,(qo&62914560)===0&&(qo=4194304),c}function Ko(c){for(var f=[],p=0;31>p;p++)f.push(c);return f}function Us(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Xl(c,f,p,v,T,C){var P=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var Q=c.entanglements,he=c.expirationTimes,Ae=c.hiddenUpdates;for(p=P&~p;0<p;){var Pe=31-In(p),Be=1<<Pe;Q[Pe]=0,he[Pe]=-1;var Ce=Ae[Pe];if(Ce!==null)for(Ae[Pe]=null,Pe=0;Pe<Ce.length;Pe++){var Ie=Ce[Pe];Ie!==null&&(Ie.lane&=-536870913)}p&=~Be}v!==0&&Au(c,v,0),C!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=C&~(P&~f))}function Au(c,f,p){c.pendingLanes|=f,c.suspendedLanes&=~f;var v=31-In(f);c.entangledLanes|=f,c.entanglements[v]=c.entanglements[v]|1073741824|p&261930}function Yo(c,f){var p=c.entangledLanes|=f;for(c=c.entanglements;p;){var v=31-In(p),T=1<<v;T&f|c[v]&f&&(c[v]|=f),p&=~T}}function Cu(c,f){var p=f&-f;return p=(p&42)!==0?1:Jl(p),(p&(c.suspendedLanes|f))!==0?0:p}function Jl(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Zl(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function X(){var c=ae.p;return c!==0?c:(c=window.event,c===void 0?32:AI(c.type))}function le(c,f){var p=ae.p;try{return ae.p=c,f()}finally{ae.p=p}}var re=Math.random().toString(36).slice(2),ne="__reactFiber$"+re,ie="__reactProps$"+re,V="__reactContainer$"+re,oe="__reactEvents$"+re,pe="__reactListeners$"+re,xe="__reactHandles$"+re,ve="__reactResources$"+re,we="__reactMarker$"+re;function Me(c){delete c[ne],delete c[ie],delete c[oe],delete c[pe],delete c[xe]}function Ve(c){var f=c[ne];if(f)return f;for(var p=c.parentNode;p;){if(f=p[V]||p[ne]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(c=dI(c);c!==null;){if(p=c[ne])return p;c=dI(c)}return f}c=p,p=c.parentNode}return null}function He(c){if(c=c[ne]||c[V]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function Ue(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(n(33))}function Ge(c){var f=c[ve];return f||(f=c[ve]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function nt(c){c[we]=!0}var Wt=new Set,Ht={};function br(c,f){oi(c,f),oi(c+"Capture",f)}function oi(c,f){for(Ht[c]=f,c=0;c<f.length;c++)Wt.add(f[c])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},ms={};function If(c){return je.call(ms,c)?!0:je.call(Xo,c)?!1:Ql.test(c)?ms[c]=!0:(Xo[c]=!0,!1)}function ba(c,f,p){if(If(f))if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+p)}}function Nm(c,f,p){if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+p)}}function zs(c,f,p,v){if(v===null)c.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(f,p,""+v)}}function li(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function YN(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function G9(c,f,p){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,C=v.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return T.call(this)},set:function(P){p=""+P,C.call(this,P)}}),Object.defineProperty(c,f,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function ky(c){if(!c._valueTracker){var f=YN(c)?"checked":"value";c._valueTracker=G9(c,f,""+c[f])}}function XN(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var p=f.getValue(),v="";return c&&(v=YN(c)?c.checked?"true":"false":c.value),c=v,c!==p?(f.setValue(c),!0):!1}function Am(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var q9=/[\n"\\]/g;function ci(c){return c.replace(q9,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Iy(c,f,p,v,T,C,P,Q){c.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?c.type=P:c.removeAttribute("type"),f!=null?P==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+li(f)):c.value!==""+li(f)&&(c.value=""+li(f)):P!=="submit"&&P!=="reset"||c.removeAttribute("value"),f!=null?jy(c,P,li(f)):p!=null?jy(c,P,li(p)):v!=null&&c.removeAttribute("value"),T==null&&C!=null&&(c.defaultChecked=!!C),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?c.name=""+li(Q):c.removeAttribute("name")}function JN(c,f,p,v,T,C,P,Q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),f!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){ky(c);return}p=p!=null?""+li(p):"",f=f!=null?""+li(f):p,Q||f===c.value||(c.value=f),c.defaultValue=f}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=Q?c.checked:!!v,c.defaultChecked=!!v,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(c.name=P),ky(c)}function jy(c,f,p){f==="number"&&Am(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function ku(c,f,p,v){if(c=c.options,f){f={};for(var T=0;T<p.length;T++)f["$"+p[T]]=!0;for(p=0;p<c.length;p++)T=f.hasOwnProperty("$"+c[p].value),c[p].selected!==T&&(c[p].selected=T),T&&v&&(c[p].defaultSelected=!0)}else{for(p=""+li(p),f=null,T=0;T<c.length;T++){if(c[T].value===p){c[T].selected=!0,v&&(c[T].defaultSelected=!0);return}f!==null||c[T].disabled||(f=c[T])}f!==null&&(f.selected=!0)}}function ZN(c,f,p){if(f!=null&&(f=""+li(f),f!==c.value&&(c.value=f),p==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=p!=null?""+li(p):""}function QN(c,f,p,v){if(f==null){if(v!=null){if(p!=null)throw Error(n(92));if(ce(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),f=p}p=li(f),c.defaultValue=p,v=c.textContent,v===p&&v!==""&&v!==null&&(c.value=v),ky(c)}function Iu(c,f){if(f){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=f;return}}c.textContent=f}var W9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eA(c,f,p){var v=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":v?c.setProperty(f,p):typeof p!="number"||p===0||W9.has(f)?f==="float"?c.cssFloat=p:c[f]=(""+p).trim():c[f]=p+"px"}function tA(c,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(c=c.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var T in f)v=f[T],f.hasOwnProperty(T)&&p[T]!==v&&eA(c,T,v)}else for(var C in f)f.hasOwnProperty(C)&&eA(c,C,f[C])}function Ry(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cm(c){return Y9.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function $s(){}var Oy=null;function Dy(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ju=null,Ru=null;function rA(c){var f=He(c);if(f&&(c=f.stateNode)){var p=c[ie]||null;e:switch(c=f.stateNode,f.type){case"input":if(Iy(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ci(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var v=p[f];if(v!==c&&v.form===c.form){var T=v[ie]||null;if(!T)throw Error(n(90));Iy(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<p.length;f++)v=p[f],v.form===c.form&&XN(v)}break e;case"textarea":ZN(c,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&ku(c,!!p.multiple,f,!1)}}}var My=!1;function nA(c,f,p){if(My)return c(f,p);My=!0;try{var v=c(f);return v}finally{if(My=!1,(ju!==null||Ru!==null)&&(pp(),ju&&(f=ju,c=Ru,Ru=ju=null,rA(f),c)))for(f=0;f<c.length;f++)rA(c[f])}}function jf(c,f){var p=c.stateNode;if(p===null)return null;var v=p[ie]||null;if(v===null)return null;p=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=!1;if(Vs)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){Py=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{Py=!1}var Jo=null,Ly=null,km=null;function aA(){if(km)return km;var c,f=Ly,p=f.length,v,T="value"in Jo?Jo.value:Jo.textContent,C=T.length;for(c=0;c<p&&f[c]===T[c];c++);var P=p-c;for(v=1;v<=P&&f[p-v]===T[C-v];v++);return km=T.slice(c,1<v?1-v:void 0)}function Im(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function jm(){return!0}function iA(){return!1}function wa(c){function f(p,v,T,C,P){this._reactName=p,this._targetInst=T,this.type=v,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(p=c[Q],this[Q]=p?p(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?jm:iA,this.isPropagationStopped=iA,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),f}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=wa(ec),Of=m({},ec,{view:0,detail:0}),X9=wa(Of),Fy,By,Df,Om=m({},Of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Df&&(Df&&c.type==="mousemove"?(Fy=c.screenX-Df.screenX,By=c.screenY-Df.screenY):By=Fy=0,Df=c),Fy)},movementY:function(c){return"movementY"in c?c.movementY:By}}),sA=wa(Om),J9=m({},Om,{dataTransfer:0}),Z9=wa(J9),Q9=m({},Of,{relatedTarget:0}),Uy=wa(Q9),e$=m({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),t$=wa(e$),r$=m({},ec,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),n$=wa(r$),a$=m({},ec,{data:0}),oA=wa(a$),i$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l$(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=o$[c])?!!f[c]:!1}function zy(){return l$}var c$=m({},Of,{key:function(c){if(c.key){var f=i$[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Im(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?s$[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(c){return c.type==="keypress"?Im(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Im(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),u$=wa(c$),d$=m({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lA=wa(d$),f$=m({},Of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),h$=wa(f$),m$=m({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),p$=wa(m$),g$=m({},Om,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),x$=wa(g$),v$=m({},ec,{newState:0,oldState:0}),y$=wa(v$),b$=[9,13,27,32],$y=Vs&&"CompositionEvent"in window,Mf=null;Vs&&"documentMode"in document&&(Mf=document.documentMode);var w$=Vs&&"TextEvent"in window&&!Mf,cA=Vs&&(!$y||Mf&&8<Mf&&11>=Mf),uA=" ",dA=!1;function fA(c,f){switch(c){case"keyup":return b$.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ou=!1;function _$(c,f){switch(c){case"compositionend":return hA(f);case"keypress":return f.which!==32?null:(dA=!0,uA);case"textInput":return c=f.data,c===uA&&dA?null:c;default:return null}}function E$(c,f){if(Ou)return c==="compositionend"||!$y&&fA(c,f)?(c=aA(),km=Ly=Jo=null,Ou=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return cA&&f.locale!=="ko"?null:f.data;default:return null}}var S$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mA(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!S$[c.type]:f==="textarea"}function pA(c,f,p,v){ju?Ru?Ru.push(v):Ru=[v]:ju=v,f=_p(f,"onChange"),0<f.length&&(p=new Rm("onChange","change",null,p,v),c.push({event:p,listeners:f}))}var Pf=null,Lf=null;function T$(c){Jk(c,0)}function Dm(c){var f=Ue(c);if(XN(f))return c}function gA(c,f){if(c==="change")return f}var xA=!1;if(Vs){var Vy;if(Vs){var Hy="oninput"in document;if(!Hy){var vA=document.createElement("div");vA.setAttribute("oninput","return;"),Hy=typeof vA.oninput=="function"}Vy=Hy}else Vy=!1;xA=Vy&&(!document.documentMode||9<document.documentMode)}function yA(){Pf&&(Pf.detachEvent("onpropertychange",bA),Lf=Pf=null)}function bA(c){if(c.propertyName==="value"&&Dm(Lf)){var f=[];pA(f,Lf,c,Dy(c)),nA(T$,f)}}function N$(c,f,p){c==="focusin"?(yA(),Pf=f,Lf=p,Pf.attachEvent("onpropertychange",bA)):c==="focusout"&&yA()}function A$(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Dm(Lf)}function C$(c,f){if(c==="click")return Dm(f)}function k$(c,f){if(c==="input"||c==="change")return Dm(f)}function I$(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var La=typeof Object.is=="function"?Object.is:I$;function Ff(c,f){if(La(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var p=Object.keys(c),v=Object.keys(f);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var T=p[v];if(!je.call(f,T)||!La(c[T],f[T]))return!1}return!0}function wA(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function _A(c,f){var p=wA(c);c=0;for(var v;p;){if(p.nodeType===3){if(v=c+p.textContent.length,c<=f&&v>=f)return{node:p,offset:f-c};c=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=wA(p)}}function EA(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?EA(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function SA(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=Am(c.document);f instanceof c.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)c=f.contentWindow;else break;f=Am(c.document)}return f}function Gy(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var j$=Vs&&"documentMode"in document&&11>=document.documentMode,Du=null,qy=null,Bf=null,Wy=!1;function TA(c,f,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Wy||Du==null||Du!==Am(v)||(v=Du,"selectionStart"in v&&Gy(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Bf&&Ff(Bf,v)||(Bf=v,v=_p(qy,"onSelect"),0<v.length&&(f=new Rm("onSelect","select",null,f,p),c.push({event:f,listeners:v}),f.target=Du)))}function tc(c,f){var p={};return p[c.toLowerCase()]=f.toLowerCase(),p["Webkit"+c]="webkit"+f,p["Moz"+c]="moz"+f,p}var Mu={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},Ky={},NA={};Vs&&(NA=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function rc(c){if(Ky[c])return Ky[c];if(!Mu[c])return c;var f=Mu[c],p;for(p in f)if(f.hasOwnProperty(p)&&p in NA)return Ky[c]=f[p];return c}var AA=rc("animationend"),CA=rc("animationiteration"),kA=rc("animationstart"),R$=rc("transitionrun"),O$=rc("transitionstart"),D$=rc("transitioncancel"),IA=rc("transitionend"),jA=new Map,Yy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yy.push("scrollEnd");function Vi(c,f){jA.set(c,f),br(f,[c])}var Mm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},ui=[],Pu=0,Xy=0;function Pm(){for(var c=Pu,f=Xy=Pu=0;f<c;){var p=ui[f];ui[f++]=null;var v=ui[f];ui[f++]=null;var T=ui[f];ui[f++]=null;var C=ui[f];if(ui[f++]=null,v!==null&&T!==null){var P=v.pending;P===null?T.next=T:(T.next=P.next,P.next=T),v.pending=T}C!==0&&RA(p,T,C)}}function Lm(c,f,p,v){ui[Pu++]=c,ui[Pu++]=f,ui[Pu++]=p,ui[Pu++]=v,Xy|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Jy(c,f,p,v){return Lm(c,f,p,v),Fm(c)}function nc(c,f){return Lm(c,null,null,f),Fm(c)}function RA(c,f,p){c.lanes|=p;var v=c.alternate;v!==null&&(v.lanes|=p);for(var T=!1,C=c.return;C!==null;)C.childLanes|=p,v=C.alternate,v!==null&&(v.childLanes|=p),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(T=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,T&&f!==null&&(T=31-In(p),c=C.hiddenUpdates,v=c[T],v===null?c[T]=[f]:v.push(f),f.lane=p|536870912),C):null}function Fm(c){if(50<o0)throw o0=0,sb=null,Error(n(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Lu={};function M$(c,f,p,v){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(c,f,p,v){return new M$(c,f,p,v)}function Zy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Hs(c,f){var p=c.alternate;return p===null?(p=Fa(c.tag,f,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=f,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,f=c.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function OA(c,f){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,f=p.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Bm(c,f,p,v,T,C){var P=0;if(v=c,typeof c=="function")Zy(c)&&(P=1);else if(typeof c=="string")P=UV(c,p,U.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case R:return c=Fa(31,p,f,T),c.elementType=R,c.lanes=C,c;case y:return ac(p.children,T,C,f);case _:P=8,T|=24;break;case N:return c=Fa(12,p,f,T|2),c.elementType=N,c.lanes=C,c;case j:return c=Fa(13,p,f,T),c.elementType=j,c.lanes=C,c;case O:return c=Fa(19,p,f,T),c.elementType=O,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:P=10;break e;case k:P=9;break e;case D:P=11;break e;case I:P=14;break e;case M:P=16,v=null;break e}P=29,p=Error(n(130,c===null?"null":typeof c,"")),v=null}return f=Fa(P,p,f,T),f.elementType=c,f.type=v,f.lanes=C,f}function ac(c,f,p,v){return c=Fa(7,c,v,f),c.lanes=p,c}function Qy(c,f,p){return c=Fa(6,c,null,f),c.lanes=p,c}function DA(c){var f=Fa(18,null,null,0);return f.stateNode=c,f}function e1(c,f,p){return f=Fa(4,c.children!==null?c.children:[],c.key,f),f.lanes=p,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var MA=new WeakMap;function di(c,f){if(typeof c=="object"&&c!==null){var p=MA.get(c);return p!==void 0?p:(f={value:c,source:f,stack:Re(f)},MA.set(c,f),f)}return{value:c,source:f,stack:Re(f)}}var Fu=[],Bu=0,Um=null,Uf=0,fi=[],hi=0,Zo=null,ps=1,gs="";function Gs(c,f){Fu[Bu++]=Uf,Fu[Bu++]=Um,Um=c,Uf=f}function PA(c,f,p){fi[hi++]=ps,fi[hi++]=gs,fi[hi++]=Zo,Zo=c;var v=ps;c=gs;var T=32-In(v)-1;v&=~(1<<T),p+=1;var C=32-In(f)+T;if(30<C){var P=T-T%5;C=(v&(1<<P)-1).toString(32),v>>=P,T-=P,ps=1<<32-In(f)+T|p<<T|v,gs=C+c}else ps=1<<C|p<<T|v,gs=c}function t1(c){c.return!==null&&(Gs(c,1),PA(c,1,0))}function r1(c){for(;c===Um;)Um=Fu[--Bu],Fu[Bu]=null,Uf=Fu[--Bu],Fu[Bu]=null;for(;c===Zo;)Zo=fi[--hi],fi[hi]=null,gs=fi[--hi],fi[hi]=null,ps=fi[--hi],fi[hi]=null}function LA(c,f){fi[hi++]=ps,fi[hi++]=gs,fi[hi++]=Zo,ps=f.id,gs=f.overflow,Zo=c}var jn=null,hr=null,It=!1,Qo=null,mi=!1,n1=Error(n(519));function el(c){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zf(di(f,c)),n1}function FA(c){var f=c.stateNode,p=c.type,v=c.memoizedProps;switch(f[ne]=c,f[ie]=v,p){case"dialog":At("cancel",f),At("close",f);break;case"iframe":case"object":case"embed":At("load",f);break;case"video":case"audio":for(p=0;p<c0.length;p++)At(c0[p],f);break;case"source":At("error",f);break;case"img":case"image":case"link":At("error",f),At("load",f);break;case"details":At("toggle",f);break;case"input":At("invalid",f),JN(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":At("invalid",f);break;case"textarea":At("invalid",f),QN(f,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||v.suppressHydrationWarning===!0||tI(f.textContent,p)?(v.popover!=null&&(At("beforetoggle",f),At("toggle",f)),v.onScroll!=null&&At("scroll",f),v.onScrollEnd!=null&&At("scrollend",f),v.onClick!=null&&(f.onclick=$s),f=!0):f=!1,f||el(c,!0)}function BA(c){for(jn=c.return;jn;)switch(jn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:jn=jn.return}}function Uu(c){if(c!==jn)return!1;if(!It)return BA(c),It=!0,!1;var f=c.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||wb(c.type,c.memoizedProps)),p=!p),p&&hr&&el(c),BA(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));hr=uI(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));hr=uI(c)}else f===27?(f=hr,ml(c.type)?(c=Nb,Nb=null,hr=c):hr=f):hr=jn?gi(c.stateNode.nextSibling):null;return!0}function ic(){hr=jn=null,It=!1}function a1(){var c=Qo;return c!==null&&(Ta===null?Ta=c:Ta.push.apply(Ta,c),Qo=null),c}function zf(c){Qo===null?Qo=[c]:Qo.push(c)}var i1=H(null),sc=null,qs=null;function tl(c,f,p){J(i1,f._currentValue),f._currentValue=p}function Ws(c){c._currentValue=i1.current,L(i1)}function s1(c,f,p){for(;c!==null;){var v=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),c===p)break;c=c.return}}function o1(c,f,p,v){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var C=T.dependencies;if(C!==null){var P=T.child;C=C.firstContext;e:for(;C!==null;){var Q=C;C=T;for(var he=0;he<f.length;he++)if(Q.context===f[he]){C.lanes|=p,Q=C.alternate,Q!==null&&(Q.lanes|=p),s1(C.return,p,c),v||(P=null);break e}C=Q.next}}else if(T.tag===18){if(P=T.return,P===null)throw Error(n(341));P.lanes|=p,C=P.alternate,C!==null&&(C.lanes|=p),s1(P,p,c),P=null}else P=T.child;if(P!==null)P.return=T;else for(P=T;P!==null;){if(P===c){P=null;break}if(T=P.sibling,T!==null){T.return=P.return,P=T;break}P=P.return}T=P}}function zu(c,f,p,v){c=null;for(var T=f,C=!1;T!==null;){if(!C){if((T.flags&524288)!==0)C=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var P=T.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var Q=T.type;La(T.pendingProps.value,P.value)||(c!==null?c.push(Q):c=[Q])}}else if(T===fe.current){if(P=T.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(m0):c=[m0])}T=T.return}c!==null&&o1(f,c,p,v),f.flags|=262144}function zm(c){for(c=c.firstContext;c!==null;){if(!La(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function oc(c){sc=c,qs=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Rn(c){return UA(sc,c)}function $m(c,f){return sc===null&&oc(c),UA(c,f)}function UA(c,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},qs===null){if(c===null)throw Error(n(308));qs=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else qs=qs.next=f;return p}var P$=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(p,v){c.push(v)}};this.abort=function(){f.aborted=!0,c.forEach(function(p){return p()})}},L$=e.unstable_scheduleCallback,F$=e.unstable_NormalPriority,Hr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l1(){return{controller:new P$,data:new Map,refCount:0}}function $f(c){c.refCount--,c.refCount===0&&L$(F$,function(){c.controller.abort()})}var Vf=null,c1=0,$u=0,Vu=null;function B$(c,f){if(Vf===null){var p=Vf=[];c1=0,$u=fb(),Vu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return c1++,f.then(zA,zA),f}function zA(){if(--c1===0&&Vf!==null){Vu!==null&&(Vu.status="fulfilled");var c=Vf;Vf=null,$u=0,Vu=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function U$(c,f){var p=[],v={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return c.then(function(){v.status="fulfilled",v.value=f;for(var T=0;T<p.length;T++)(0,p[T])(f)},function(T){for(v.status="rejected",v.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),v}var $A=K.S;K.S=function(c,f){Tk=ot(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&B$(c,f),$A!==null&&$A(c,f)};var lc=H(null);function u1(){var c=lc.current;return c!==null?c:lr.pooledCache}function Vm(c,f){f===null?J(lc,lc.current):J(lc,f.pool)}function VA(){var c=u1();return c===null?null:{parent:Hr._currentValue,pool:c}}var Hu=Error(n(460)),d1=Error(n(474)),Hm=Error(n(542)),Gm={then:function(){}};function HA(c){return c=c.status,c==="fulfilled"||c==="rejected"}function GA(c,f,p){switch(p=c[p],p===void 0?c.push(f):p!==f&&(f.then($s,$s),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,WA(c),c;default:if(typeof f.status=="string")f.then($s,$s);else{if(c=lr,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=f,c.status="pending",c.then(function(v){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=v}},function(v){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,WA(c),c}throw uc=f,Hu}}function cc(c){try{var f=c._init;return f(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(uc=p,Hu):p}}var uc=null;function qA(){if(uc===null)throw Error(n(459));var c=uc;return uc=null,c}function WA(c){if(c===Hu||c===Hm)throw Error(n(483))}var Gu=null,Hf=0;function qm(c){var f=Hf;return Hf+=1,Gu===null&&(Gu=[]),GA(Gu,c,f)}function Gf(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Wm(c,f){throw f.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function KA(c){function f(Ee,ye){if(c){var Ne=Ee.deletions;Ne===null?(Ee.deletions=[ye],Ee.flags|=16):Ne.push(ye)}}function p(Ee,ye){if(!c)return null;for(;ye!==null;)f(Ee,ye),ye=ye.sibling;return null}function v(Ee){for(var ye=new Map;Ee!==null;)Ee.key!==null?ye.set(Ee.key,Ee):ye.set(Ee.index,Ee),Ee=Ee.sibling;return ye}function T(Ee,ye){return Ee=Hs(Ee,ye),Ee.index=0,Ee.sibling=null,Ee}function C(Ee,ye,Ne){return Ee.index=Ne,c?(Ne=Ee.alternate,Ne!==null?(Ne=Ne.index,Ne<ye?(Ee.flags|=67108866,ye):Ne):(Ee.flags|=67108866,ye)):(Ee.flags|=1048576,ye)}function P(Ee){return c&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function Q(Ee,ye,Ne,Fe){return ye===null||ye.tag!==6?(ye=Qy(Ne,Ee.mode,Fe),ye.return=Ee,ye):(ye=T(ye,Ne),ye.return=Ee,ye)}function he(Ee,ye,Ne,Fe){var lt=Ne.type;return lt===y?Pe(Ee,ye,Ne.props.children,Fe,Ne.key):ye!==null&&(ye.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===M&&cc(lt)===ye.type)?(ye=T(ye,Ne.props),Gf(ye,Ne),ye.return=Ee,ye):(ye=Bm(Ne.type,Ne.key,Ne.props,null,Ee.mode,Fe),Gf(ye,Ne),ye.return=Ee,ye)}function Ae(Ee,ye,Ne,Fe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ne.containerInfo||ye.stateNode.implementation!==Ne.implementation?(ye=e1(Ne,Ee.mode,Fe),ye.return=Ee,ye):(ye=T(ye,Ne.children||[]),ye.return=Ee,ye)}function Pe(Ee,ye,Ne,Fe,lt){return ye===null||ye.tag!==7?(ye=ac(Ne,Ee.mode,Fe,lt),ye.return=Ee,ye):(ye=T(ye,Ne),ye.return=Ee,ye)}function Be(Ee,ye,Ne){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Qy(""+ye,Ee.mode,Ne),ye.return=Ee,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return Ne=Bm(ye.type,ye.key,ye.props,null,Ee.mode,Ne),Gf(Ne,ye),Ne.return=Ee,Ne;case b:return ye=e1(ye,Ee.mode,Ne),ye.return=Ee,ye;case M:return ye=cc(ye),Be(Ee,ye,Ne)}if(ce(ye)||F(ye))return ye=ac(ye,Ee.mode,Ne,null),ye.return=Ee,ye;if(typeof ye.then=="function")return Be(Ee,qm(ye),Ne);if(ye.$$typeof===A)return Be(Ee,$m(Ee,ye),Ne);Wm(Ee,ye)}return null}function Ce(Ee,ye,Ne,Fe){var lt=ye!==null?ye.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return lt!==null?null:Q(Ee,ye,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:return Ne.key===lt?he(Ee,ye,Ne,Fe):null;case b:return Ne.key===lt?Ae(Ee,ye,Ne,Fe):null;case M:return Ne=cc(Ne),Ce(Ee,ye,Ne,Fe)}if(ce(Ne)||F(Ne))return lt!==null?null:Pe(Ee,ye,Ne,Fe,null);if(typeof Ne.then=="function")return Ce(Ee,ye,qm(Ne),Fe);if(Ne.$$typeof===A)return Ce(Ee,ye,$m(Ee,Ne),Fe);Wm(Ee,Ne)}return null}function Ie(Ee,ye,Ne,Fe,lt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Ee=Ee.get(Ne)||null,Q(ye,Ee,""+Fe,lt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case x:return Ee=Ee.get(Fe.key===null?Ne:Fe.key)||null,he(ye,Ee,Fe,lt);case b:return Ee=Ee.get(Fe.key===null?Ne:Fe.key)||null,Ae(ye,Ee,Fe,lt);case M:return Fe=cc(Fe),Ie(Ee,ye,Ne,Fe,lt)}if(ce(Fe)||F(Fe))return Ee=Ee.get(Ne)||null,Pe(ye,Ee,Fe,lt,null);if(typeof Fe.then=="function")return Ie(Ee,ye,Ne,qm(Fe),lt);if(Fe.$$typeof===A)return Ie(Ee,ye,Ne,$m(ye,Fe),lt);Wm(ye,Fe)}return null}function rt(Ee,ye,Ne,Fe){for(var lt=null,Mt=null,at=ye,_t=ye=0,kt=null;at!==null&&_t<Ne.length;_t++){at.index>_t?(kt=at,at=null):kt=at.sibling;var Pt=Ce(Ee,at,Ne[_t],Fe);if(Pt===null){at===null&&(at=kt);break}c&&at&&Pt.alternate===null&&f(Ee,at),ye=C(Pt,ye,_t),Mt===null?lt=Pt:Mt.sibling=Pt,Mt=Pt,at=kt}if(_t===Ne.length)return p(Ee,at),It&&Gs(Ee,_t),lt;if(at===null){for(;_t<Ne.length;_t++)at=Be(Ee,Ne[_t],Fe),at!==null&&(ye=C(at,ye,_t),Mt===null?lt=at:Mt.sibling=at,Mt=at);return It&&Gs(Ee,_t),lt}for(at=v(at);_t<Ne.length;_t++)kt=Ie(at,Ee,_t,Ne[_t],Fe),kt!==null&&(c&&kt.alternate!==null&&at.delete(kt.key===null?_t:kt.key),ye=C(kt,ye,_t),Mt===null?lt=kt:Mt.sibling=kt,Mt=kt);return c&&at.forEach(function(yl){return f(Ee,yl)}),It&&Gs(Ee,_t),lt}function dt(Ee,ye,Ne,Fe){if(Ne==null)throw Error(n(151));for(var lt=null,Mt=null,at=ye,_t=ye=0,kt=null,Pt=Ne.next();at!==null&&!Pt.done;_t++,Pt=Ne.next()){at.index>_t?(kt=at,at=null):kt=at.sibling;var yl=Ce(Ee,at,Pt.value,Fe);if(yl===null){at===null&&(at=kt);break}c&&at&&yl.alternate===null&&f(Ee,at),ye=C(yl,ye,_t),Mt===null?lt=yl:Mt.sibling=yl,Mt=yl,at=kt}if(Pt.done)return p(Ee,at),It&&Gs(Ee,_t),lt;if(at===null){for(;!Pt.done;_t++,Pt=Ne.next())Pt=Be(Ee,Pt.value,Fe),Pt!==null&&(ye=C(Pt,ye,_t),Mt===null?lt=Pt:Mt.sibling=Pt,Mt=Pt);return It&&Gs(Ee,_t),lt}for(at=v(at);!Pt.done;_t++,Pt=Ne.next())Pt=Ie(at,Ee,_t,Pt.value,Fe),Pt!==null&&(c&&Pt.alternate!==null&&at.delete(Pt.key===null?_t:Pt.key),ye=C(Pt,ye,_t),Mt===null?lt=Pt:Mt.sibling=Pt,Mt=Pt);return c&&at.forEach(function(JV){return f(Ee,JV)}),It&&Gs(Ee,_t),lt}function rr(Ee,ye,Ne,Fe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===y&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:e:{for(var lt=Ne.key;ye!==null;){if(ye.key===lt){if(lt=Ne.type,lt===y){if(ye.tag===7){p(Ee,ye.sibling),Fe=T(ye,Ne.props.children),Fe.return=Ee,Ee=Fe;break e}}else if(ye.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===M&&cc(lt)===ye.type){p(Ee,ye.sibling),Fe=T(ye,Ne.props),Gf(Fe,Ne),Fe.return=Ee,Ee=Fe;break e}p(Ee,ye);break}else f(Ee,ye);ye=ye.sibling}Ne.type===y?(Fe=ac(Ne.props.children,Ee.mode,Fe,Ne.key),Fe.return=Ee,Ee=Fe):(Fe=Bm(Ne.type,Ne.key,Ne.props,null,Ee.mode,Fe),Gf(Fe,Ne),Fe.return=Ee,Ee=Fe)}return P(Ee);case b:e:{for(lt=Ne.key;ye!==null;){if(ye.key===lt)if(ye.tag===4&&ye.stateNode.containerInfo===Ne.containerInfo&&ye.stateNode.implementation===Ne.implementation){p(Ee,ye.sibling),Fe=T(ye,Ne.children||[]),Fe.return=Ee,Ee=Fe;break e}else{p(Ee,ye);break}else f(Ee,ye);ye=ye.sibling}Fe=e1(Ne,Ee.mode,Fe),Fe.return=Ee,Ee=Fe}return P(Ee);case M:return Ne=cc(Ne),rr(Ee,ye,Ne,Fe)}if(ce(Ne))return rt(Ee,ye,Ne,Fe);if(F(Ne)){if(lt=F(Ne),typeof lt!="function")throw Error(n(150));return Ne=lt.call(Ne),dt(Ee,ye,Ne,Fe)}if(typeof Ne.then=="function")return rr(Ee,ye,qm(Ne),Fe);if(Ne.$$typeof===A)return rr(Ee,ye,$m(Ee,Ne),Fe);Wm(Ee,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,ye!==null&&ye.tag===6?(p(Ee,ye.sibling),Fe=T(ye,Ne),Fe.return=Ee,Ee=Fe):(p(Ee,ye),Fe=Qy(Ne,Ee.mode,Fe),Fe.return=Ee,Ee=Fe),P(Ee)):p(Ee,ye)}return function(Ee,ye,Ne,Fe){try{Hf=0;var lt=rr(Ee,ye,Ne,Fe);return Gu=null,lt}catch(at){if(at===Hu||at===Hm)throw at;var Mt=Fa(29,at,null,Ee.mode);return Mt.lanes=Fe,Mt.return=Ee,Mt}finally{}}}var dc=KA(!0),YA=KA(!1),rl=!1;function f1(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h1(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function nl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function al(c,f,p){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,($t&2)!==0){var T=v.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),v.pending=f,f=Fm(c),RA(c,null,p),f}return Lm(c,v,f,p),Fm(c)}function qf(c,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var v=f.lanes;v&=c.pendingLanes,p|=v,f.lanes=p,Yo(c,p)}}function m1(c,f){var p=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var T=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?T=C=P:C=C.next=P,p=p.next}while(p!==null);C===null?T=C=f:C=C.next=f}else T=C=f;p={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=f}var p1=!1;function Wf(){if(p1){var c=Vu;if(c!==null)throw c}}function Kf(c,f,p,v){p1=!1;var T=c.updateQueue;rl=!1;var C=T.firstBaseUpdate,P=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var he=Q,Ae=he.next;he.next=null,P===null?C=Ae:P.next=Ae,P=he;var Pe=c.alternate;Pe!==null&&(Pe=Pe.updateQueue,Q=Pe.lastBaseUpdate,Q!==P&&(Q===null?Pe.firstBaseUpdate=Ae:Q.next=Ae,Pe.lastBaseUpdate=he))}if(C!==null){var Be=T.baseState;P=0,Pe=Ae=he=null,Q=C;do{var Ce=Q.lane&-536870913,Ie=Ce!==Q.lane;if(Ie?(Ct&Ce)===Ce:(v&Ce)===Ce){Ce!==0&&Ce===$u&&(p1=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var rt=c,dt=Q;Ce=f;var rr=p;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Be=rt.call(rr,Be,Ce);break e}Be=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,Ce=typeof rt=="function"?rt.call(rr,Be,Ce):rt,Ce==null)break e;Be=m({},Be,Ce);break e;case 2:rl=!0}}Ce=Q.callback,Ce!==null&&(c.flags|=64,Ie&&(c.flags|=8192),Ie=T.callbacks,Ie===null?T.callbacks=[Ce]:Ie.push(Ce))}else Ie={lane:Ce,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Pe===null?(Ae=Pe=Ie,he=Be):Pe=Pe.next=Ie,P|=Ce;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;Ie=Q,Q=Ie.next,Ie.next=null,T.lastBaseUpdate=Ie,T.shared.pending=null}}while(!0);Pe===null&&(he=Be),T.baseState=he,T.firstBaseUpdate=Ae,T.lastBaseUpdate=Pe,C===null&&(T.shared.lanes=0),cl|=P,c.lanes=P,c.memoizedState=Be}}function XA(c,f){if(typeof c!="function")throw Error(n(191,c));c.call(f)}function JA(c,f){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)XA(p[c],f)}var qu=H(null),Km=H(0);function ZA(c,f){c=ro,J(Km,c),J(qu,f),ro=c|f.baseLanes}function g1(){J(Km,ro),J(qu,qu.current)}function x1(){ro=Km.current,L(qu),L(Km)}var Ba=H(null),pi=null;function il(c){var f=c.alternate;J(Fr,Fr.current&1),J(Ba,c),pi===null&&(f===null||qu.current!==null||f.memoizedState!==null)&&(pi=c)}function v1(c){J(Fr,Fr.current),J(Ba,c),pi===null&&(pi=c)}function QA(c){c.tag===22?(J(Fr,Fr.current),J(Ba,c),pi===null&&(pi=c)):sl()}function sl(){J(Fr,Fr.current),J(Ba,Ba.current)}function Ua(c){L(Ba),pi===c&&(pi=null),L(Fr)}var Fr=H(0);function Ym(c){for(var f=c;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Sb(p)||Tb(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ks=0,bt=null,er=null,Gr=null,Xm=!1,Wu=!1,fc=!1,Jm=0,Yf=0,Ku=null,z$=0;function Ir(){throw Error(n(321))}function y1(c,f){if(f===null)return!1;for(var p=0;p<f.length&&p<c.length;p++)if(!La(c[p],f[p]))return!1;return!0}function b1(c,f,p,v,T,C){return Ks=C,bt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K.H=c===null||c.memoizedState===null?PC:M1,fc=!1,C=p(v,T),fc=!1,Wu&&(C=tC(f,p,v,T)),eC(c),C}function eC(c){K.H=Zf;var f=er!==null&&er.next!==null;if(Ks=0,Gr=er=bt=null,Xm=!1,Yf=0,Ku=null,f)throw Error(n(300));c===null||qr||(c=c.dependencies,c!==null&&zm(c)&&(qr=!0))}function tC(c,f,p,v){bt=c;var T=0;do{if(Wu&&(Ku=null),Yf=0,Wu=!1,25<=T)throw Error(n(301));if(T+=1,Gr=er=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}K.H=LC,C=f(p,v)}while(Wu);return C}function $$(){var c=K.H,f=c.useState()[0];return f=typeof f.then=="function"?Xf(f):f,c=c.useState()[0],(er!==null?er.memoizedState:null)!==c&&(bt.flags|=1024),f}function w1(){var c=Jm!==0;return Jm=0,c}function _1(c,f,p){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~p}function E1(c){if(Xm){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Xm=!1}Ks=0,Gr=er=bt=null,Wu=!1,Yf=Jm=0,Ku=null}function sa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?bt.memoizedState=Gr=c:Gr=Gr.next=c,Gr}function Br(){if(er===null){var c=bt.alternate;c=c!==null?c.memoizedState:null}else c=er.next;var f=Gr===null?bt.memoizedState:Gr.next;if(f!==null)Gr=f,er=c;else{if(c===null)throw bt.alternate===null?Error(n(467)):Error(n(310));er=c,c={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},Gr===null?bt.memoizedState=Gr=c:Gr=Gr.next=c}return Gr}function Zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xf(c){var f=Yf;return Yf+=1,Ku===null&&(Ku=[]),c=GA(Ku,c,f),f=bt,(Gr===null?f.memoizedState:Gr.next)===null&&(f=f.alternate,K.H=f===null||f.memoizedState===null?PC:M1),c}function Qm(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Xf(c);if(c.$$typeof===A)return Rn(c)}throw Error(n(438,String(c)))}function S1(c){var f=null,p=bt.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var v=bt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=Zm(),bt.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(c),v=0;v<c;v++)p[v]=z;return f.index++,p}function Ys(c,f){return typeof f=="function"?f(c):f}function ep(c){var f=Br();return T1(f,er,c)}function T1(c,f,p){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var T=c.baseQueue,C=v.pending;if(C!==null){if(T!==null){var P=T.next;T.next=C.next,C.next=P}f.baseQueue=T=C,v.pending=null}if(C=c.baseState,T===null)c.memoizedState=C;else{f=T.next;var Q=P=null,he=null,Ae=f,Pe=!1;do{var Be=Ae.lane&-536870913;if(Be!==Ae.lane?(Ct&Be)===Be:(Ks&Be)===Be){var Ce=Ae.revertLane;if(Ce===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Be===$u&&(Pe=!0);else if((Ks&Ce)===Ce){Ae=Ae.next,Ce===$u&&(Pe=!0);continue}else Be={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},he===null?(Q=he=Be,P=C):he=he.next=Be,bt.lanes|=Ce,cl|=Ce;Be=Ae.action,fc&&p(C,Be),C=Ae.hasEagerState?Ae.eagerState:p(C,Be)}else Ce={lane:Be,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},he===null?(Q=he=Ce,P=C):he=he.next=Ce,bt.lanes|=Be,cl|=Be;Ae=Ae.next}while(Ae!==null&&Ae!==f);if(he===null?P=C:he.next=Q,!La(C,c.memoizedState)&&(qr=!0,Pe&&(p=Vu,p!==null)))throw p;c.memoizedState=C,c.baseState=P,c.baseQueue=he,v.lastRenderedState=C}return T===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function N1(c){var f=Br(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var v=p.dispatch,T=p.pending,C=f.memoizedState;if(T!==null){p.pending=null;var P=T=T.next;do C=c(C,P.action),P=P.next;while(P!==T);La(C,f.memoizedState)||(qr=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),p.lastRenderedState=C}return[C,v]}function rC(c,f,p){var v=bt,T=Br(),C=It;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=f();var P=!La((er||T).memoizedState,p);if(P&&(T.memoizedState=p,qr=!0),T=T.queue,k1(iC.bind(null,v,T,c),[c]),T.getSnapshot!==f||P||Gr!==null&&Gr.memoizedState.tag&1){if(v.flags|=2048,Yu(9,{destroy:void 0},aC.bind(null,v,T,p,f),null),lr===null)throw Error(n(349));C||(Ks&127)!==0||nC(v,f,p)}return p}function nC(c,f,p){c.flags|=16384,c={getSnapshot:f,value:p},f=bt.updateQueue,f===null?(f=Zm(),bt.updateQueue=f,f.stores=[c]):(p=f.stores,p===null?f.stores=[c]:p.push(c))}function aC(c,f,p,v){f.value=p,f.getSnapshot=v,sC(f)&&oC(c)}function iC(c,f,p){return p(function(){sC(f)&&oC(c)})}function sC(c){var f=c.getSnapshot;c=c.value;try{var p=f();return!La(c,p)}catch{return!0}}function oC(c){var f=nc(c,2);f!==null&&Na(f,c,2)}function A1(c){var f=sa();if(typeof c=="function"){var p=c;if(c=p(),fc){Pa(!0);try{p()}finally{Pa(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:c},f}function lC(c,f,p,v){return c.baseState=p,T1(c,er,typeof v=="function"?v:Ys)}function V$(c,f,p,v,T){if(np(c))throw Error(n(485));if(c=f.action,c!==null){var C={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};K.T!==null?p(!0):C.isTransition=!1,v(C),p=f.pending,p===null?(C.next=f.pending=C,cC(f,C)):(C.next=p.next,f.pending=p.next=C)}}function cC(c,f){var p=f.action,v=f.payload,T=c.state;if(f.isTransition){var C=K.T,P={};K.T=P;try{var Q=p(T,v),he=K.S;he!==null&&he(P,Q),uC(c,f,Q)}catch(Ae){C1(c,f,Ae)}finally{C!==null&&P.types!==null&&(C.types=P.types),K.T=C}}else try{C=p(T,v),uC(c,f,C)}catch(Ae){C1(c,f,Ae)}}function uC(c,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){dC(c,f,v)},function(v){return C1(c,f,v)}):dC(c,f,p)}function dC(c,f,p){f.status="fulfilled",f.value=p,fC(f),c.state=p,f=c.pending,f!==null&&(p=f.next,p===f?c.pending=null:(p=p.next,f.next=p,cC(c,p)))}function C1(c,f,p){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=p,fC(f),f=f.next;while(f!==v)}c.action=null}function fC(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function hC(c,f){return f}function mC(c,f){if(It){var p=lr.formState;if(p!==null){e:{var v=bt;if(It){if(hr){t:{for(var T=hr,C=mi;T.nodeType!==8;){if(!C){T=null;break t}if(T=gi(T.nextSibling),T===null){T=null;break t}}C=T.data,T=C==="F!"||C==="F"?T:null}if(T){hr=gi(T.nextSibling),v=T.data==="F!";break e}}el(v)}v=!1}v&&(f=p[0])}}return p=sa(),p.memoizedState=p.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hC,lastRenderedState:f},p.queue=v,p=OC.bind(null,bt,v),v.dispatch=p,v=A1(!1),C=D1.bind(null,bt,!1,v.queue),v=sa(),T={state:f,dispatch:null,action:c,pending:null},v.queue=T,p=V$.bind(null,bt,T,C,p),T.dispatch=p,v.memoizedState=c,[f,p,!1]}function pC(c){var f=Br();return gC(f,er,c)}function gC(c,f,p){if(f=T1(c,f,hC)[0],c=ep(Ys)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=Xf(f)}catch(P){throw P===Hu?Hm:P}else v=f;f=Br();var T=f.queue,C=T.dispatch;return p!==f.memoizedState&&(bt.flags|=2048,Yu(9,{destroy:void 0},H$.bind(null,T,p),null)),[v,C,c]}function H$(c,f){c.action=f}function xC(c){var f=Br(),p=er;if(p!==null)return gC(f,p,c);Br(),f=f.memoizedState,p=Br();var v=p.queue.dispatch;return p.memoizedState=c,[f,v,!1]}function Yu(c,f,p,v){return c={tag:c,create:p,deps:v,inst:f,next:null},f=bt.updateQueue,f===null&&(f=Zm(),bt.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=c.next=c:(v=p.next,p.next=c,c.next=v,f.lastEffect=c),c}function vC(){return Br().memoizedState}function tp(c,f,p,v){var T=sa();bt.flags|=c,T.memoizedState=Yu(1|f,{destroy:void 0},p,v===void 0?null:v)}function rp(c,f,p,v){var T=Br();v=v===void 0?null:v;var C=T.memoizedState.inst;er!==null&&v!==null&&y1(v,er.memoizedState.deps)?T.memoizedState=Yu(f,C,p,v):(bt.flags|=c,T.memoizedState=Yu(1|f,C,p,v))}function yC(c,f){tp(8390656,8,c,f)}function k1(c,f){rp(2048,8,c,f)}function G$(c){bt.flags|=4;var f=bt.updateQueue;if(f===null)f=Zm(),bt.updateQueue=f,f.events=[c];else{var p=f.events;p===null?f.events=[c]:p.push(c)}}function bC(c){var f=Br().memoizedState;return G$({ref:f,nextImpl:c}),function(){if(($t&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function wC(c,f){return rp(4,2,c,f)}function _C(c,f){return rp(4,4,c,f)}function EC(c,f){if(typeof f=="function"){c=c();var p=f(c);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function SC(c,f,p){p=p!=null?p.concat([c]):null,rp(4,4,EC.bind(null,f,c),p)}function I1(){}function TC(c,f){var p=Br();f=f===void 0?null:f;var v=p.memoizedState;return f!==null&&y1(f,v[1])?v[0]:(p.memoizedState=[c,f],c)}function NC(c,f){var p=Br();f=f===void 0?null:f;var v=p.memoizedState;if(f!==null&&y1(f,v[1]))return v[0];if(v=c(),fc){Pa(!0);try{c()}finally{Pa(!1)}}return p.memoizedState=[v,f],v}function j1(c,f,p){return p===void 0||(Ks&1073741824)!==0&&(Ct&261930)===0?c.memoizedState=f:(c.memoizedState=p,c=Ak(),bt.lanes|=c,cl|=c,p)}function AC(c,f,p,v){return La(p,f)?p:qu.current!==null?(c=j1(c,p,v),La(c,f)||(qr=!0),c):(Ks&42)===0||(Ks&1073741824)!==0&&(Ct&261930)===0?(qr=!0,c.memoizedState=p):(c=Ak(),bt.lanes|=c,cl|=c,f)}function CC(c,f,p,v,T){var C=ae.p;ae.p=C!==0&&8>C?C:8;var P=K.T,Q={};K.T=Q,D1(c,!1,f,p);try{var he=T(),Ae=K.S;if(Ae!==null&&Ae(Q,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Pe=U$(he,v);Jf(c,f,Pe,Va(c))}else Jf(c,f,v,Va(c))}catch(Be){Jf(c,f,{then:function(){},status:"rejected",reason:Be},Va())}finally{ae.p=C,P!==null&&Q.types!==null&&(P.types=Q.types),K.T=P}}function q$(){}function R1(c,f,p,v){if(c.tag!==5)throw Error(n(476));var T=kC(c).queue;CC(c,T,f,Z,p===null?q$:function(){return IC(c),p(v)})}function kC(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:Z},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:p},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function IC(c){var f=kC(c);f.next===null&&(f=c.alternate.memoizedState),Jf(c,f.next.queue,{},Va())}function O1(){return Rn(m0)}function jC(){return Br().memoizedState}function RC(){return Br().memoizedState}function W$(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var p=Va();c=nl(p);var v=al(f,c,p);v!==null&&(Na(v,f,p),qf(v,f,p)),f={cache:l1()},c.payload=f;return}f=f.return}}function K$(c,f,p){var v=Va();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},np(c)?DC(f,p):(p=Jy(c,f,p,v),p!==null&&(Na(p,c,v),MC(p,f,v)))}function OC(c,f,p){var v=Va();Jf(c,f,p,v)}function Jf(c,f,p,v){var T={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(np(c))DC(f,T);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var P=f.lastRenderedState,Q=C(P,p);if(T.hasEagerState=!0,T.eagerState=Q,La(Q,P))return Lm(c,f,T,0),lr===null&&Pm(),!1}catch{}finally{}if(p=Jy(c,f,T,v),p!==null)return Na(p,c,v),MC(p,f,v),!0}return!1}function D1(c,f,p,v){if(v={lane:2,revertLane:fb(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},np(c)){if(f)throw Error(n(479))}else f=Jy(c,p,v,2),f!==null&&Na(f,c,2)}function np(c){var f=c.alternate;return c===bt||f!==null&&f===bt}function DC(c,f){Wu=Xm=!0;var p=c.pending;p===null?f.next=f:(f.next=p.next,p.next=f),c.pending=f}function MC(c,f,p){if((p&4194048)!==0){var v=f.lanes;v&=c.pendingLanes,p|=v,f.lanes=p,Yo(c,p)}}var Zf={readContext:Rn,use:Qm,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useLayoutEffect:Ir,useInsertionEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useSyncExternalStore:Ir,useId:Ir,useHostTransitionStatus:Ir,useFormState:Ir,useActionState:Ir,useOptimistic:Ir,useMemoCache:Ir,useCacheRefresh:Ir};Zf.useEffectEvent=Ir;var PC={readContext:Rn,use:Qm,useCallback:function(c,f){return sa().memoizedState=[c,f===void 0?null:f],c},useContext:Rn,useEffect:yC,useImperativeHandle:function(c,f,p){p=p!=null?p.concat([c]):null,tp(4194308,4,EC.bind(null,f,c),p)},useLayoutEffect:function(c,f){return tp(4194308,4,c,f)},useInsertionEffect:function(c,f){tp(4,2,c,f)},useMemo:function(c,f){var p=sa();f=f===void 0?null:f;var v=c();if(fc){Pa(!0);try{c()}finally{Pa(!1)}}return p.memoizedState=[v,f],v},useReducer:function(c,f,p){var v=sa();if(p!==void 0){var T=p(f);if(fc){Pa(!0);try{p(f)}finally{Pa(!1)}}}else T=f;return v.memoizedState=v.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},v.queue=c,c=c.dispatch=K$.bind(null,bt,c),[v.memoizedState,c]},useRef:function(c){var f=sa();return c={current:c},f.memoizedState=c},useState:function(c){c=A1(c);var f=c.queue,p=OC.bind(null,bt,f);return f.dispatch=p,[c.memoizedState,p]},useDebugValue:I1,useDeferredValue:function(c,f){var p=sa();return j1(p,c,f)},useTransition:function(){var c=A1(!1);return c=CC.bind(null,bt,c.queue,!0,!1),sa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,p){var v=bt,T=sa();if(It){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),lr===null)throw Error(n(349));(Ct&127)!==0||nC(v,f,p)}T.memoizedState=p;var C={value:p,getSnapshot:f};return T.queue=C,yC(iC.bind(null,v,C,c),[c]),v.flags|=2048,Yu(9,{destroy:void 0},aC.bind(null,v,C,p,f),null),p},useId:function(){var c=sa(),f=lr.identifierPrefix;if(It){var p=gs,v=ps;p=(v&~(1<<32-In(v)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Jm++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=z$++,f="_"+f+"r_"+p.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:O1,useFormState:mC,useActionState:mC,useOptimistic:function(c){var f=sa();f.memoizedState=f.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=D1.bind(null,bt,!0,p),p.dispatch=f,[c,f]},useMemoCache:S1,useCacheRefresh:function(){return sa().memoizedState=W$.bind(null,bt)},useEffectEvent:function(c){var f=sa(),p={impl:c};return f.memoizedState=p,function(){if(($t&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},M1={readContext:Rn,use:Qm,useCallback:TC,useContext:Rn,useEffect:k1,useImperativeHandle:SC,useInsertionEffect:wC,useLayoutEffect:_C,useMemo:NC,useReducer:ep,useRef:vC,useState:function(){return ep(Ys)},useDebugValue:I1,useDeferredValue:function(c,f){var p=Br();return AC(p,er.memoizedState,c,f)},useTransition:function(){var c=ep(Ys)[0],f=Br().memoizedState;return[typeof c=="boolean"?c:Xf(c),f]},useSyncExternalStore:rC,useId:jC,useHostTransitionStatus:O1,useFormState:pC,useActionState:pC,useOptimistic:function(c,f){var p=Br();return lC(p,er,c,f)},useMemoCache:S1,useCacheRefresh:RC};M1.useEffectEvent=bC;var LC={readContext:Rn,use:Qm,useCallback:TC,useContext:Rn,useEffect:k1,useImperativeHandle:SC,useInsertionEffect:wC,useLayoutEffect:_C,useMemo:NC,useReducer:N1,useRef:vC,useState:function(){return N1(Ys)},useDebugValue:I1,useDeferredValue:function(c,f){var p=Br();return er===null?j1(p,c,f):AC(p,er.memoizedState,c,f)},useTransition:function(){var c=N1(Ys)[0],f=Br().memoizedState;return[typeof c=="boolean"?c:Xf(c),f]},useSyncExternalStore:rC,useId:jC,useHostTransitionStatus:O1,useFormState:xC,useActionState:xC,useOptimistic:function(c,f){var p=Br();return er!==null?lC(p,er,c,f):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:S1,useCacheRefresh:RC};LC.useEffectEvent=bC;function P1(c,f,p,v){f=c.memoizedState,p=p(v,f),p=p==null?f:m({},f,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var L1={enqueueSetState:function(c,f,p){c=c._reactInternals;var v=Va(),T=nl(v);T.payload=f,p!=null&&(T.callback=p),f=al(c,T,v),f!==null&&(Na(f,c,v),qf(f,c,v))},enqueueReplaceState:function(c,f,p){c=c._reactInternals;var v=Va(),T=nl(v);T.tag=1,T.payload=f,p!=null&&(T.callback=p),f=al(c,T,v),f!==null&&(Na(f,c,v),qf(f,c,v))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var p=Va(),v=nl(p);v.tag=2,f!=null&&(v.callback=f),f=al(c,v,p),f!==null&&(Na(f,c,p),qf(f,c,p))}};function FC(c,f,p,v,T,C,P){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,C,P):f.prototype&&f.prototype.isPureReactComponent?!Ff(p,v)||!Ff(T,C):!0}function BC(c,f,p,v){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,v),f.state!==c&&L1.enqueueReplaceState(f,f.state,null)}function hc(c,f){var p=f;if("ref"in f){p={};for(var v in f)v!=="ref"&&(p[v]=f[v])}if(c=c.defaultProps){p===f&&(p=m({},p));for(var T in c)p[T]===void 0&&(p[T]=c[T])}return p}function UC(c){Mm(c)}function zC(c){console.error(c)}function $C(c){Mm(c)}function ap(c,f){try{var p=c.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function VC(c,f,p){try{var v=c.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function F1(c,f,p){return p=nl(p),p.tag=3,p.payload={element:null},p.callback=function(){ap(c,f)},p}function HC(c){return c=nl(c),c.tag=3,c}function GC(c,f,p,v){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var C=v.value;c.payload=function(){return T(C)},c.callback=function(){VC(f,p,v)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(c.callback=function(){VC(f,p,v),typeof T!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var Q=v.stack;this.componentDidCatch(v.value,{componentStack:Q!==null?Q:""})})}function Y$(c,f,p,v,T){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=p.alternate,f!==null&&zu(f,p,T,!0),p=Ba.current,p!==null){switch(p.tag){case 31:case 13:return pi===null?gp():p.alternate===null&&jr===0&&(jr=3),p.flags&=-257,p.flags|=65536,p.lanes=T,v===Gm?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([v]):f.add(v),cb(c,v,T)),!1;case 22:return p.flags|=65536,v===Gm?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([v]):p.add(v)),cb(c,v,T)),!1}throw Error(n(435,p.tag))}return cb(c,v,T),gp(),!1}if(It)return f=Ba.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,v!==n1&&(c=Error(n(422),{cause:v}),zf(di(c,p)))):(v!==n1&&(f=Error(n(423),{cause:v}),zf(di(f,p))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,v=di(v,p),T=F1(c.stateNode,v,T),m1(c,T),jr!==4&&(jr=2)),!1;var C=Error(n(520),{cause:v});if(C=di(C,p),s0===null?s0=[C]:s0.push(C),jr!==4&&(jr=2),f===null)return!0;v=di(v,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,c=T&-T,p.lanes|=c,c=F1(p.stateNode,v,c),m1(p,c),!1;case 1:if(f=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ul===null||!ul.has(C))))return p.flags|=65536,T&=-T,p.lanes|=T,T=HC(T),GC(T,c,p,v),m1(p,T),!1}p=p.return}while(p!==null);return!1}var B1=Error(n(461)),qr=!1;function On(c,f,p,v){f.child=c===null?YA(f,null,p,v):dc(f,c.child,p,v)}function qC(c,f,p,v,T){p=p.render;var C=f.ref;if("ref"in v){var P={};for(var Q in v)Q!=="ref"&&(P[Q]=v[Q])}else P=v;return oc(f),v=b1(c,f,p,P,C,T),Q=w1(),c!==null&&!qr?(_1(c,f,T),Xs(c,f,T)):(It&&Q&&t1(f),f.flags|=1,On(c,f,v,T),f.child)}function WC(c,f,p,v,T){if(c===null){var C=p.type;return typeof C=="function"&&!Zy(C)&&C.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=C,KC(c,f,C,v,T)):(c=Bm(p.type,null,v,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(C=c.child,!W1(c,T)){var P=C.memoizedProps;if(p=p.compare,p=p!==null?p:Ff,p(P,v)&&c.ref===f.ref)return Xs(c,f,T)}return f.flags|=1,c=Hs(C,v),c.ref=f.ref,c.return=f,f.child=c}function KC(c,f,p,v,T){if(c!==null){var C=c.memoizedProps;if(Ff(C,v)&&c.ref===f.ref)if(qr=!1,f.pendingProps=v=C,W1(c,T))(c.flags&131072)!==0&&(qr=!0);else return f.lanes=c.lanes,Xs(c,f,T)}return U1(c,f,p,v,T)}function YC(c,f,p,v){var T=v.children,C=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,c!==null){for(v=f.child=c.child,T=0;v!==null;)T=T|v.lanes|v.childLanes,v=v.sibling;v=T&~C}else v=0,f.child=null;return XC(c,f,C,p,v)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Vm(f,C!==null?C.cachePool:null),C!==null?ZA(f,C):g1(),QA(f);else return v=f.lanes=536870912,XC(c,f,C!==null?C.baseLanes|p:p,p,v)}else C!==null?(Vm(f,C.cachePool),ZA(f,C),sl(),f.memoizedState=null):(c!==null&&Vm(f,null),g1(),sl());return On(c,f,T,p),f.child}function Qf(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function XC(c,f,p,v,T){var C=u1();return C=C===null?null:{parent:Hr._currentValue,pool:C},f.memoizedState={baseLanes:p,cachePool:C},c!==null&&Vm(f,null),g1(),QA(f),c!==null&&zu(c,f,v,!0),f.childLanes=T,null}function ip(c,f){return f=op({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function JC(c,f,p){return dc(f,c.child,null,p),c=ip(f,f.pendingProps),c.flags|=2,Ua(f),f.memoizedState=null,c}function X$(c,f,p){var v=f.pendingProps,T=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(It){if(v.mode==="hidden")return c=ip(f,v),f.lanes=536870912,Qf(null,c);if(v1(f),(c=hr)?(c=cI(c,mi),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Zo!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},p=DA(c),p.return=f,f.child=p,jn=f,hr=null)):c=null,c===null)throw el(f);return f.lanes=536870912,null}return ip(f,v)}var C=c.memoizedState;if(C!==null){var P=C.dehydrated;if(v1(f),T)if(f.flags&256)f.flags&=-257,f=JC(c,f,p);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(n(558));else if(qr||zu(c,f,p,!1),T=(p&c.childLanes)!==0,qr||T){if(v=lr,v!==null&&(P=Cu(v,p),P!==0&&P!==C.retryLane))throw C.retryLane=P,nc(c,P),Na(v,c,P),B1;gp(),f=JC(c,f,p)}else c=C.treeContext,hr=gi(P.nextSibling),jn=f,It=!0,Qo=null,mi=!1,c!==null&&LA(f,c),f=ip(f,v),f.flags|=4096;return f}return c=Hs(c.child,{mode:v.mode,children:v.children}),c.ref=f.ref,f.child=c,c.return=f,c}function sp(c,f){var p=f.ref;if(p===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(f.flags|=4194816)}}function U1(c,f,p,v,T){return oc(f),p=b1(c,f,p,v,void 0,T),v=w1(),c!==null&&!qr?(_1(c,f,T),Xs(c,f,T)):(It&&v&&t1(f),f.flags|=1,On(c,f,p,T),f.child)}function ZC(c,f,p,v,T,C){return oc(f),f.updateQueue=null,p=tC(f,v,p,T),eC(c),v=w1(),c!==null&&!qr?(_1(c,f,C),Xs(c,f,C)):(It&&v&&t1(f),f.flags|=1,On(c,f,p,C),f.child)}function QC(c,f,p,v,T){if(oc(f),f.stateNode===null){var C=Lu,P=p.contextType;typeof P=="object"&&P!==null&&(C=Rn(P)),C=new p(v,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=L1,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=v,C.state=f.memoizedState,C.refs={},f1(f),P=p.contextType,C.context=typeof P=="object"&&P!==null?Rn(P):Lu,C.state=f.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(P1(f,p,P,v),C.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&L1.enqueueReplaceState(C,C.state,null),Kf(f,v,C,T),Wf(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(c===null){C=f.stateNode;var Q=f.memoizedProps,he=hc(p,Q);C.props=he;var Ae=C.context,Pe=p.contextType;P=Lu,typeof Pe=="object"&&Pe!==null&&(P=Rn(Pe));var Be=p.getDerivedStateFromProps;Pe=typeof Be=="function"||typeof C.getSnapshotBeforeUpdate=="function",Q=f.pendingProps!==Q,Pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q||Ae!==P)&&BC(f,C,v,P),rl=!1;var Ce=f.memoizedState;C.state=Ce,Kf(f,v,C,T),Wf(),Ae=f.memoizedState,Q||Ce!==Ae||rl?(typeof Be=="function"&&(P1(f,p,Be,v),Ae=f.memoizedState),(he=rl||FC(f,p,he,v,Ce,Ae,P))?(Pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Ae),C.props=v,C.state=Ae,C.context=P,v=he):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{C=f.stateNode,h1(c,f),P=f.memoizedProps,Pe=hc(p,P),C.props=Pe,Be=f.pendingProps,Ce=C.context,Ae=p.contextType,he=Lu,typeof Ae=="object"&&Ae!==null&&(he=Rn(Ae)),Q=p.getDerivedStateFromProps,(Ae=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==Be||Ce!==he)&&BC(f,C,v,he),rl=!1,Ce=f.memoizedState,C.state=Ce,Kf(f,v,C,T),Wf();var Ie=f.memoizedState;P!==Be||Ce!==Ie||rl||c!==null&&c.dependencies!==null&&zm(c.dependencies)?(typeof Q=="function"&&(P1(f,p,Q,v),Ie=f.memoizedState),(Pe=rl||FC(f,p,Pe,v,Ce,Ie,he)||c!==null&&c.dependencies!==null&&zm(c.dependencies))?(Ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Ie,he),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Ie,he)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===c.memoizedProps&&Ce===c.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===c.memoizedProps&&Ce===c.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Ie),C.props=v,C.state=Ie,C.context=he,v=Pe):(typeof C.componentDidUpdate!="function"||P===c.memoizedProps&&Ce===c.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===c.memoizedProps&&Ce===c.memoizedState||(f.flags|=1024),v=!1)}return C=v,sp(c,f),v=(f.flags&128)!==0,C||v?(C=f.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,c!==null&&v?(f.child=dc(f,c.child,null,T),f.child=dc(f,null,p,T)):On(c,f,p,T),f.memoizedState=C.state,c=f.child):c=Xs(c,f,T),c}function ek(c,f,p,v){return ic(),f.flags|=256,On(c,f,p,v),f.child}var z1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $1(c){return{baseLanes:c,cachePool:VA()}}function V1(c,f,p){return c=c!==null?c.childLanes&~p:0,f&&(c|=$a),c}function tk(c,f,p){var v=f.pendingProps,T=!1,C=(f.flags&128)!==0,P;if((P=C)||(P=c!==null&&c.memoizedState===null?!1:(Fr.current&2)!==0),P&&(T=!0,f.flags&=-129),P=(f.flags&32)!==0,f.flags&=-33,c===null){if(It){if(T?il(f):sl(),(c=hr)?(c=cI(c,mi),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Zo!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},p=DA(c),p.return=f,f.child=p,jn=f,hr=null)):c=null,c===null)throw el(f);return Tb(c)?f.lanes=32:f.lanes=536870912,null}var Q=v.children;return v=v.fallback,T?(sl(),T=f.mode,Q=op({mode:"hidden",children:Q},T),v=ac(v,T,p,null),Q.return=f,v.return=f,Q.sibling=v,f.child=Q,v=f.child,v.memoizedState=$1(p),v.childLanes=V1(c,P,p),f.memoizedState=z1,Qf(null,v)):(il(f),H1(f,Q))}var he=c.memoizedState;if(he!==null&&(Q=he.dehydrated,Q!==null)){if(C)f.flags&256?(il(f),f.flags&=-257,f=G1(c,f,p)):f.memoizedState!==null?(sl(),f.child=c.child,f.flags|=128,f=null):(sl(),Q=v.fallback,T=f.mode,v=op({mode:"visible",children:v.children},T),Q=ac(Q,T,p,null),Q.flags|=2,v.return=f,Q.return=f,v.sibling=Q,f.child=v,dc(f,c.child,null,p),v=f.child,v.memoizedState=$1(p),v.childLanes=V1(c,P,p),f.memoizedState=z1,f=Qf(null,v));else if(il(f),Tb(Q)){if(P=Q.nextSibling&&Q.nextSibling.dataset,P)var Ae=P.dgst;P=Ae,v=Error(n(419)),v.stack="",v.digest=P,zf({value:v,source:null,stack:null}),f=G1(c,f,p)}else if(qr||zu(c,f,p,!1),P=(p&c.childLanes)!==0,qr||P){if(P=lr,P!==null&&(v=Cu(P,p),v!==0&&v!==he.retryLane))throw he.retryLane=v,nc(c,v),Na(P,c,v),B1;Sb(Q)||gp(),f=G1(c,f,p)}else Sb(Q)?(f.flags|=192,f.child=c.child,f=null):(c=he.treeContext,hr=gi(Q.nextSibling),jn=f,It=!0,Qo=null,mi=!1,c!==null&&LA(f,c),f=H1(f,v.children),f.flags|=4096);return f}return T?(sl(),Q=v.fallback,T=f.mode,he=c.child,Ae=he.sibling,v=Hs(he,{mode:"hidden",children:v.children}),v.subtreeFlags=he.subtreeFlags&65011712,Ae!==null?Q=Hs(Ae,Q):(Q=ac(Q,T,p,null),Q.flags|=2),Q.return=f,v.return=f,v.sibling=Q,f.child=v,Qf(null,v),v=f.child,Q=c.child.memoizedState,Q===null?Q=$1(p):(T=Q.cachePool,T!==null?(he=Hr._currentValue,T=T.parent!==he?{parent:he,pool:he}:T):T=VA(),Q={baseLanes:Q.baseLanes|p,cachePool:T}),v.memoizedState=Q,v.childLanes=V1(c,P,p),f.memoizedState=z1,Qf(c.child,v)):(il(f),p=c.child,c=p.sibling,p=Hs(p,{mode:"visible",children:v.children}),p.return=f,p.sibling=null,c!==null&&(P=f.deletions,P===null?(f.deletions=[c],f.flags|=16):P.push(c)),f.child=p,f.memoizedState=null,p)}function H1(c,f){return f=op({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function op(c,f){return c=Fa(22,c,null,f),c.lanes=0,c}function G1(c,f,p){return dc(f,c.child,null,p),c=H1(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function rk(c,f,p){c.lanes|=f;var v=c.alternate;v!==null&&(v.lanes|=f),s1(c.return,f,p)}function q1(c,f,p,v,T,C){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:T,treeForkCount:C}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=p,P.tailMode=T,P.treeForkCount=C)}function nk(c,f,p){var v=f.pendingProps,T=v.revealOrder,C=v.tail;v=v.children;var P=Fr.current,Q=(P&2)!==0;if(Q?(P=P&1|2,f.flags|=128):P&=1,J(Fr,P),On(c,f,v,p),v=It?Uf:0,!Q&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&rk(c,p,f);else if(c.tag===19)rk(c,p,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(p=f.child,T=null;p!==null;)c=p.alternate,c!==null&&Ym(c)===null&&(T=p),p=p.sibling;p=T,p===null?(T=f.child,f.child=null):(T=p.sibling,p.sibling=null),q1(f,!1,T,p,C,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&Ym(c)===null){f.child=T;break}c=T.sibling,T.sibling=p,p=T,T=c}q1(f,!0,p,null,C,v);break;case"together":q1(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function Xs(c,f,p){if(c!==null&&(f.dependencies=c.dependencies),cl|=f.lanes,(p&f.childLanes)===0)if(c!==null){if(zu(c,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,p=Hs(c,c.pendingProps),f.child=p,p.return=f;c.sibling!==null;)c=c.sibling,p=p.sibling=Hs(c,c.pendingProps),p.return=f;p.sibling=null}return f.child}function W1(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&zm(c)))}function J$(c,f,p){switch(f.tag){case 3:Te(f,f.stateNode.containerInfo),tl(f,Hr,c.memoizedState.cache),ic();break;case 27:case 5:ge(f);break;case 4:Te(f,f.stateNode.containerInfo);break;case 10:tl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,v1(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(il(f),f.flags|=128,null):(p&f.child.childLanes)!==0?tk(c,f,p):(il(f),c=Xs(c,f,p),c!==null?c.sibling:null);il(f);break;case 19:var T=(c.flags&128)!==0;if(v=(p&f.childLanes)!==0,v||(zu(c,f,p,!1),v=(p&f.childLanes)!==0),T){if(v)return nk(c,f,p);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),J(Fr,Fr.current),v)break;return null;case 22:return f.lanes=0,YC(c,f,p,f.pendingProps);case 24:tl(f,Hr,c.memoizedState.cache)}return Xs(c,f,p)}function ak(c,f,p){if(c!==null)if(c.memoizedProps!==f.pendingProps)qr=!0;else{if(!W1(c,p)&&(f.flags&128)===0)return qr=!1,J$(c,f,p);qr=(c.flags&131072)!==0}else qr=!1,It&&(f.flags&1048576)!==0&&PA(f,Uf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(c=cc(f.elementType),f.type=c,typeof c=="function")Zy(c)?(v=hc(c,v),f.tag=1,f=QC(null,f,c,v,p)):(f.tag=0,f=U1(null,f,c,v,p));else{if(c!=null){var T=c.$$typeof;if(T===D){f.tag=11,f=qC(null,f,c,v,p);break e}else if(T===I){f.tag=14,f=WC(null,f,c,v,p);break e}}throw f=de(c)||c,Error(n(306,f,""))}}return f;case 0:return U1(c,f,f.type,f.pendingProps,p);case 1:return v=f.type,T=hc(v,f.pendingProps),QC(c,f,v,T,p);case 3:e:{if(Te(f,f.stateNode.containerInfo),c===null)throw Error(n(387));v=f.pendingProps;var C=f.memoizedState;T=C.element,h1(c,f),Kf(f,v,null,p);var P=f.memoizedState;if(v=P.cache,tl(f,Hr,v),v!==C.cache&&o1(f,[Hr],p,!0),Wf(),v=P.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:P.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=ek(c,f,v,p);break e}else if(v!==T){T=di(Error(n(424)),f),zf(T),f=ek(c,f,v,p);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(hr=gi(c.firstChild),jn=f,It=!0,Qo=null,mi=!0,p=YA(f,null,v,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ic(),v===T){f=Xs(c,f,p);break e}On(c,f,v,p)}f=f.child}return f;case 26:return sp(c,f),c===null?(p=pI(f.type,null,f.pendingProps,null))?f.memoizedState=p:It||(p=f.type,c=f.pendingProps,v=Ep(se.current).createElement(p),v[ne]=f,v[ie]=c,Dn(v,p,c),nt(v),f.stateNode=v):f.memoizedState=pI(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return ge(f),c===null&&It&&(v=f.stateNode=fI(f.type,f.pendingProps,se.current),jn=f,mi=!0,T=hr,ml(f.type)?(Nb=T,hr=gi(v.firstChild)):hr=T),On(c,f,f.pendingProps.children,p),sp(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&It&&((T=v=hr)&&(v=AV(v,f.type,f.pendingProps,mi),v!==null?(f.stateNode=v,jn=f,hr=gi(v.firstChild),mi=!1,T=!0):T=!1),T||el(f)),ge(f),T=f.type,C=f.pendingProps,P=c!==null?c.memoizedProps:null,v=C.children,wb(T,C)?v=null:P!==null&&wb(T,P)&&(f.flags|=32),f.memoizedState!==null&&(T=b1(c,f,$$,null,null,p),m0._currentValue=T),sp(c,f),On(c,f,v,p),f.child;case 6:return c===null&&It&&((c=p=hr)&&(p=CV(p,f.pendingProps,mi),p!==null?(f.stateNode=p,jn=f,hr=null,c=!0):c=!1),c||el(f)),null;case 13:return tk(c,f,p);case 4:return Te(f,f.stateNode.containerInfo),v=f.pendingProps,c===null?f.child=dc(f,null,v,p):On(c,f,v,p),f.child;case 11:return qC(c,f,f.type,f.pendingProps,p);case 7:return On(c,f,f.pendingProps,p),f.child;case 8:return On(c,f,f.pendingProps.children,p),f.child;case 12:return On(c,f,f.pendingProps.children,p),f.child;case 10:return v=f.pendingProps,tl(f,f.type,v.value),On(c,f,v.children,p),f.child;case 9:return T=f.type._context,v=f.pendingProps.children,oc(f),T=Rn(T),v=v(T),f.flags|=1,On(c,f,v,p),f.child;case 14:return WC(c,f,f.type,f.pendingProps,p);case 15:return KC(c,f,f.type,f.pendingProps,p);case 19:return nk(c,f,p);case 31:return X$(c,f,p);case 22:return YC(c,f,p,f.pendingProps);case 24:return oc(f),v=Rn(Hr),c===null?(T=u1(),T===null&&(T=lr,C=l1(),T.pooledCache=C,C.refCount++,C!==null&&(T.pooledCacheLanes|=p),T=C),f.memoizedState={parent:v,cache:T},f1(f),tl(f,Hr,T)):((c.lanes&p)!==0&&(h1(c,f),Kf(f,null,null,p),Wf()),T=c.memoizedState,C=f.memoizedState,T.parent!==v?(T={parent:v,cache:v},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),tl(f,Hr,v)):(v=C.cache,tl(f,Hr,v),v!==T.cache&&o1(f,[Hr],p,!0))),On(c,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Js(c){c.flags|=4}function K1(c,f,p,v,T){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(jk())c.flags|=8192;else throw uc=Gm,d1}else c.flags&=-16777217}function ik(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!bI(f))if(jk())c.flags|=8192;else throw uc=Gm,d1}function lp(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Nu():536870912,c.lanes|=f,Qu|=f)}function e0(c,f){if(!It)switch(c.tailMode){case"hidden":f=c.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function mr(c){var f=c.alternate!==null&&c.alternate.child===c.child,p=0,v=0;if(f)for(var T=c.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=v,c.childLanes=p,f}function Z$(c,f,p){var v=f.pendingProps;switch(r1(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(f),null;case 1:return mr(f),null;case 3:return p=f.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Ws(Hr),te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(Uu(f)?Js(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,a1())),mr(f),null;case 26:var T=f.type,C=f.memoizedState;return c===null?(Js(f),C!==null?(mr(f),ik(f,C)):(mr(f),K1(f,T,null,v,p))):C?C!==c.memoizedState?(Js(f),mr(f),ik(f,C)):(mr(f),f.flags&=-16777217):(c=c.memoizedProps,c!==v&&Js(f),mr(f),K1(f,T,c,v,p)),null;case 27:if(Se(f),p=se.current,T=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==v&&Js(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return mr(f),null}c=U.current,Uu(f)?FA(f):(c=fI(T,v,p),f.stateNode=c,Js(f))}return mr(f),null;case 5:if(Se(f),T=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==v&&Js(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return mr(f),null}if(C=U.current,Uu(f))FA(f);else{var P=Ep(se.current);switch(C){case 1:C=P.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:C=P.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":C=P.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":C=P.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":C=P.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?P.createElement("select",{is:v.is}):P.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?P.createElement(T,{is:v.is}):P.createElement(T)}}C[ne]=f,C[ie]=v;e:for(P=f.child;P!==null;){if(P.tag===5||P.tag===6)C.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===f)break e;for(;P.sibling===null;){if(P.return===null||P.return===f)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}f.stateNode=C;e:switch(Dn(C,T,v),T){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Js(f)}}return mr(f),K1(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,p),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==v&&Js(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(c=se.current,Uu(f)){if(c=f.stateNode,p=f.memoizedProps,v=null,T=jn,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}c[ne]=f,c=!!(c.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||tI(c.nodeValue,p)),c||el(f,!0)}else c=Ep(c).createTextNode(v),c[ne]=f,f.stateNode=c}return mr(f),null;case 31:if(p=f.memoizedState,c===null||c.memoizedState!==null){if(v=Uu(f),p!==null){if(c===null){if(!v)throw Error(n(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[ne]=f}else ic(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mr(f),c=!1}else p=a1(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return f.flags&256?(Ua(f),f):(Ua(f),null);if((f.flags&128)!==0)throw Error(n(558))}return mr(f),null;case 13:if(v=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=Uu(f),v!==null&&v.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ne]=f}else ic(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mr(f),T=!1}else T=a1(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Ua(f),f):(Ua(f),null)}return Ua(f),(f.flags&128)!==0?(f.lanes=p,f):(p=v!==null,c=c!==null&&c.memoizedState!==null,p&&(v=f.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==T&&(v.flags|=2048)),p!==c&&p&&(f.child.flags|=8192),lp(f,f.updateQueue),mr(f),null);case 4:return te(),c===null&&gb(f.stateNode.containerInfo),mr(f),null;case 10:return Ws(f.type),mr(f),null;case 19:if(L(Fr),v=f.memoizedState,v===null)return mr(f),null;if(T=(f.flags&128)!==0,C=v.rendering,C===null)if(T)e0(v,!1);else{if(jr!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(C=Ym(c),C!==null){for(f.flags|=128,e0(v,!1),c=C.updateQueue,f.updateQueue=c,lp(f,c),f.subtreeFlags=0,c=p,p=f.child;p!==null;)OA(p,c),p=p.sibling;return J(Fr,Fr.current&1|2),It&&Gs(f,v.treeForkCount),f.child}c=c.sibling}v.tail!==null&&ot()>hp&&(f.flags|=128,T=!0,e0(v,!1),f.lanes=4194304)}else{if(!T)if(c=Ym(C),c!==null){if(f.flags|=128,T=!0,c=c.updateQueue,f.updateQueue=c,lp(f,c),e0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!It)return mr(f),null}else 2*ot()-v.renderingStartTime>hp&&p!==536870912&&(f.flags|=128,T=!0,e0(v,!1),f.lanes=4194304);v.isBackwards?(C.sibling=f.child,f.child=C):(c=v.last,c!==null?c.sibling=C:f.child=C,v.last=C)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=ot(),c.sibling=null,p=Fr.current,J(Fr,T?p&1|2:p&1),It&&Gs(f,v.treeForkCount),c):(mr(f),null);case 22:case 23:return Ua(f),x1(),v=f.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(p&536870912)!==0&&(f.flags&128)===0&&(mr(f),f.subtreeFlags&6&&(f.flags|=8192)):mr(f),p=f.updateQueue,p!==null&&lp(f,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==p&&(f.flags|=2048),c!==null&&L(lc),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),Ws(Hr),mr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function Q$(c,f){switch(r1(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ws(Hr),te(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Se(f),null;case 31:if(f.memoizedState!==null){if(Ua(f),f.alternate===null)throw Error(n(340));ic()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(Ua(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));ic()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return L(Fr),null;case 4:return te(),null;case 10:return Ws(f.type),null;case 22:case 23:return Ua(f),x1(),c!==null&&L(lc),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ws(Hr),null;case 25:return null;default:return null}}function sk(c,f){switch(r1(f),f.tag){case 3:Ws(Hr),te();break;case 26:case 27:case 5:Se(f);break;case 4:te();break;case 31:f.memoizedState!==null&&Ua(f);break;case 13:Ua(f);break;case 19:L(Fr);break;case 10:Ws(f.type);break;case 22:case 23:Ua(f),x1(),c!==null&&L(lc);break;case 24:Ws(Hr)}}function t0(c,f){try{var p=f.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var T=v.next;p=T;do{if((p.tag&c)===c){v=void 0;var C=p.create,P=p.inst;v=C(),P.destroy=v}p=p.next}while(p!==T)}}catch(Q){Yt(f,f.return,Q)}}function ol(c,f,p){try{var v=f.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var C=T.next;v=C;do{if((v.tag&c)===c){var P=v.inst,Q=P.destroy;if(Q!==void 0){P.destroy=void 0,T=f;var he=p,Ae=Q;try{Ae()}catch(Pe){Yt(T,he,Pe)}}}v=v.next}while(v!==C)}}catch(Pe){Yt(f,f.return,Pe)}}function ok(c){var f=c.updateQueue;if(f!==null){var p=c.stateNode;try{JA(f,p)}catch(v){Yt(c,c.return,v)}}}function lk(c,f,p){p.props=hc(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(v){Yt(c,f,v)}}function r0(c,f){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof p=="function"?c.refCleanup=p(v):p.current=v}}catch(T){Yt(c,f,T)}}function xs(c,f){var p=c.ref,v=c.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(T){Yt(c,f,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){Yt(c,f,T)}else p.current=null}function ck(c){var f=c.type,p=c.memoizedProps,v=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(T){Yt(c,c.return,T)}}function Y1(c,f,p){try{var v=c.stateNode;wV(v,c.type,p,f),v[ie]=f}catch(T){Yt(c,c.return,T)}}function uk(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&ml(c.type)||c.tag===4}function X1(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||uk(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&ml(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function J1(c,f,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(c),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=$s));else if(v!==4&&(v===27&&ml(c.type)&&(p=c.stateNode,f=null),c=c.child,c!==null))for(J1(c,f,p),c=c.sibling;c!==null;)J1(c,f,p),c=c.sibling}function cp(c,f,p){var v=c.tag;if(v===5||v===6)c=c.stateNode,f?p.insertBefore(c,f):p.appendChild(c);else if(v!==4&&(v===27&&ml(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(cp(c,f,p),c=c.sibling;c!==null;)cp(c,f,p),c=c.sibling}function dk(c){var f=c.stateNode,p=c.memoizedProps;try{for(var v=c.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);Dn(f,v,p),f[ne]=c,f[ie]=p}catch(C){Yt(c,c.return,C)}}var Zs=!1,Wr=!1,Z1=!1,fk=typeof WeakSet=="function"?WeakSet:Set,gn=null;function eV(c,f){if(c=c.containerInfo,yb=Ip,c=SA(c),Gy(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var T=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var P=0,Q=-1,he=-1,Ae=0,Pe=0,Be=c,Ce=null;t:for(;;){for(var Ie;Be!==p||T!==0&&Be.nodeType!==3||(Q=P+T),Be!==C||v!==0&&Be.nodeType!==3||(he=P+v),Be.nodeType===3&&(P+=Be.nodeValue.length),(Ie=Be.firstChild)!==null;)Ce=Be,Be=Ie;for(;;){if(Be===c)break t;if(Ce===p&&++Ae===T&&(Q=P),Ce===C&&++Pe===v&&(he=P),(Ie=Be.nextSibling)!==null)break;Be=Ce,Ce=Be.parentNode}Be=Ie}p=Q===-1||he===-1?null:{start:Q,end:he}}else p=null}p=p||{start:0,end:0}}else p=null;for(bb={focusedElem:c,selectionRange:p},Ip=!1,gn=f;gn!==null;)if(f=gn,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,gn=c;else for(;gn!==null;){switch(f=gn,C=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)T=c[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,p=f,T=C.memoizedProps,C=C.memoizedState,v=p.stateNode;try{var rt=hc(p.type,T);c=v.getSnapshotBeforeUpdate(rt,C),v.__reactInternalSnapshotBeforeUpdate=c}catch(dt){Yt(p,p.return,dt)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,p=c.nodeType,p===9)Eb(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Eb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=f.sibling,c!==null){c.return=f.return,gn=c;break}gn=f.return}}function hk(c,f,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:eo(c,p),v&4&&t0(5,p);break;case 1:if(eo(c,p),v&4)if(c=p.stateNode,f===null)try{c.componentDidMount()}catch(P){Yt(p,p.return,P)}else{var T=hc(p.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(T,f,c.__reactInternalSnapshotBeforeUpdate)}catch(P){Yt(p,p.return,P)}}v&64&&ok(p),v&512&&r0(p,p.return);break;case 3:if(eo(c,p),v&64&&(c=p.updateQueue,c!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{JA(c,f)}catch(P){Yt(p,p.return,P)}}break;case 27:f===null&&v&4&&dk(p);case 26:case 5:eo(c,p),f===null&&v&4&&ck(p),v&512&&r0(p,p.return);break;case 12:eo(c,p);break;case 31:eo(c,p),v&4&&gk(c,p);break;case 13:eo(c,p),v&4&&xk(c,p),v&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=cV.bind(null,p),kV(c,p))));break;case 22:if(v=p.memoizedState!==null||Zs,!v){f=f!==null&&f.memoizedState!==null||Wr,T=Zs;var C=Wr;Zs=v,(Wr=f)&&!C?to(c,p,(p.subtreeFlags&8772)!==0):eo(c,p),Zs=T,Wr=C}break;case 30:break;default:eo(c,p)}}function mk(c){var f=c.alternate;f!==null&&(c.alternate=null,mk(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Me(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var wr=null,_a=!1;function Qs(c,f,p){for(p=p.child;p!==null;)pk(c,f,p),p=p.sibling}function pk(c,f,p){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(or,p)}catch{}switch(p.tag){case 26:Wr||xs(p,f),Qs(c,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Wr||xs(p,f);var v=wr,T=_a;ml(p.type)&&(wr=p.stateNode,_a=!1),Qs(c,f,p),d0(p.stateNode),wr=v,_a=T;break;case 5:Wr||xs(p,f);case 6:if(v=wr,T=_a,wr=null,Qs(c,f,p),wr=v,_a=T,wr!==null)if(_a)try{(wr.nodeType===9?wr.body:wr.nodeName==="HTML"?wr.ownerDocument.body:wr).removeChild(p.stateNode)}catch(C){Yt(p,f,C)}else try{wr.removeChild(p.stateNode)}catch(C){Yt(p,f,C)}break;case 18:wr!==null&&(_a?(c=wr,oI(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),od(c)):oI(wr,p.stateNode));break;case 4:v=wr,T=_a,wr=p.stateNode.containerInfo,_a=!0,Qs(c,f,p),wr=v,_a=T;break;case 0:case 11:case 14:case 15:ol(2,p,f),Wr||ol(4,p,f),Qs(c,f,p);break;case 1:Wr||(xs(p,f),v=p.stateNode,typeof v.componentWillUnmount=="function"&&lk(p,f,v)),Qs(c,f,p);break;case 21:Qs(c,f,p);break;case 22:Wr=(v=Wr)||p.memoizedState!==null,Qs(c,f,p),Wr=v;break;default:Qs(c,f,p)}}function gk(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{od(c)}catch(p){Yt(f,f.return,p)}}}function xk(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{od(c)}catch(p){Yt(f,f.return,p)}}function tV(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new fk),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new fk),f;default:throw Error(n(435,c.tag))}}function up(c,f){var p=tV(c);f.forEach(function(v){if(!p.has(v)){p.add(v);var T=uV.bind(null,c,v);v.then(T,T)}})}function Ea(c,f){var p=f.deletions;if(p!==null)for(var v=0;v<p.length;v++){var T=p[v],C=c,P=f,Q=P;e:for(;Q!==null;){switch(Q.tag){case 27:if(ml(Q.type)){wr=Q.stateNode,_a=!1;break e}break;case 5:wr=Q.stateNode,_a=!1;break e;case 3:case 4:wr=Q.stateNode.containerInfo,_a=!0;break e}Q=Q.return}if(wr===null)throw Error(n(160));pk(C,P,T),wr=null,_a=!1,C=T.alternate,C!==null&&(C.return=null),T.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)vk(f,c),f=f.sibling}var Hi=null;function vk(c,f){var p=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ea(f,c),Sa(c),v&4&&(ol(3,c,c.return),t0(3,c),ol(5,c,c.return));break;case 1:Ea(f,c),Sa(c),v&512&&(Wr||p===null||xs(p,p.return)),v&64&&Zs&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var T=Hi;if(Ea(f,c),Sa(c),v&512&&(Wr||p===null||xs(p,p.return)),v&4){var C=p!==null?p.memoizedState:null;if(v=c.memoizedState,p===null)if(v===null)if(c.stateNode===null){e:{v=c.type,p=c.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":C=T.getElementsByTagName("title")[0],(!C||C[we]||C[ne]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=T.createElement(v),T.head.insertBefore(C,T.querySelector("head > title"))),Dn(C,v,p),C[ne]=c,nt(C),v=C;break e;case"link":var P=vI("link","href",T).get(v+(p.href||""));if(P){for(var Q=0;Q<P.length;Q++)if(C=P[Q],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){P.splice(Q,1);break t}}C=T.createElement(v),Dn(C,v,p),T.head.appendChild(C);break;case"meta":if(P=vI("meta","content",T).get(v+(p.content||""))){for(Q=0;Q<P.length;Q++)if(C=P[Q],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){P.splice(Q,1);break t}}C=T.createElement(v),Dn(C,v,p),T.head.appendChild(C);break;default:throw Error(n(468,v))}C[ne]=c,nt(C),v=C}c.stateNode=v}else yI(T,c.type,c.stateNode);else c.stateNode=xI(T,v,c.memoizedProps);else C!==v?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,v===null?yI(T,c.type,c.stateNode):xI(T,v,c.memoizedProps)):v===null&&c.stateNode!==null&&Y1(c,c.memoizedProps,p.memoizedProps)}break;case 27:Ea(f,c),Sa(c),v&512&&(Wr||p===null||xs(p,p.return)),p!==null&&v&4&&Y1(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Ea(f,c),Sa(c),v&512&&(Wr||p===null||xs(p,p.return)),c.flags&32){T=c.stateNode;try{Iu(T,"")}catch(rt){Yt(c,c.return,rt)}}v&4&&c.stateNode!=null&&(T=c.memoizedProps,Y1(c,T,p!==null?p.memoizedProps:T)),v&1024&&(Z1=!0);break;case 6:if(Ea(f,c),Sa(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,p=c.stateNode;try{p.nodeValue=v}catch(rt){Yt(c,c.return,rt)}}break;case 3:if(Np=null,T=Hi,Hi=Sp(f.containerInfo),Ea(f,c),Hi=T,Sa(c),v&4&&p!==null&&p.memoizedState.isDehydrated)try{od(f.containerInfo)}catch(rt){Yt(c,c.return,rt)}Z1&&(Z1=!1,yk(c));break;case 4:v=Hi,Hi=Sp(c.stateNode.containerInfo),Ea(f,c),Sa(c),Hi=v;break;case 12:Ea(f,c),Sa(c);break;case 31:Ea(f,c),Sa(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,up(c,v)));break;case 13:Ea(f,c),Sa(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(fp=ot()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,up(c,v)));break;case 22:T=c.memoizedState!==null;var he=p!==null&&p.memoizedState!==null,Ae=Zs,Pe=Wr;if(Zs=Ae||T,Wr=Pe||he,Ea(f,c),Wr=Pe,Zs=Ae,Sa(c),v&8192)e:for(f=c.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(p===null||he||Zs||Wr||mc(c)),p=null,f=c;;){if(f.tag===5||f.tag===26){if(p===null){he=p=f;try{if(C=he.stateNode,T)P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Q=he.stateNode;var Be=he.memoizedProps.style,Ce=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Q.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(rt){Yt(he,he.return,rt)}}}else if(f.tag===6){if(p===null){he=f;try{he.stateNode.nodeValue=T?"":he.memoizedProps}catch(rt){Yt(he,he.return,rt)}}}else if(f.tag===18){if(p===null){he=f;try{var Ie=he.stateNode;T?lI(Ie,!0):lI(he.stateNode,!1)}catch(rt){Yt(he,he.return,rt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=c.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,up(c,p))));break;case 19:Ea(f,c),Sa(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,up(c,v)));break;case 30:break;case 21:break;default:Ea(f,c),Sa(c)}}function Sa(c){var f=c.flags;if(f&2){try{for(var p,v=c.return;v!==null;){if(uk(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,C=X1(c);cp(c,C,T);break;case 5:var P=p.stateNode;p.flags&32&&(Iu(P,""),p.flags&=-33);var Q=X1(c);cp(c,Q,P);break;case 3:case 4:var he=p.stateNode.containerInfo,Ae=X1(c);J1(c,Ae,he);break;default:throw Error(n(161))}}catch(Pe){Yt(c,c.return,Pe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function yk(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;yk(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function eo(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)hk(c,f.alternate,f),f=f.sibling}function mc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return),mc(f);break;case 1:xs(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&lk(f,f.return,p),mc(f);break;case 27:d0(f.stateNode);case 26:case 5:xs(f,f.return),mc(f);break;case 22:f.memoizedState===null&&mc(f);break;case 30:mc(f);break;default:mc(f)}c=c.sibling}}function to(c,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,T=c,C=f,P=C.flags;switch(C.tag){case 0:case 11:case 15:to(T,C,p),t0(4,C);break;case 1:if(to(T,C,p),v=C,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ae){Yt(v,v.return,Ae)}if(v=C,T=v.updateQueue,T!==null){var Q=v.stateNode;try{var he=T.shared.hiddenCallbacks;if(he!==null)for(T.shared.hiddenCallbacks=null,T=0;T<he.length;T++)XA(he[T],Q)}catch(Ae){Yt(v,v.return,Ae)}}p&&P&64&&ok(C),r0(C,C.return);break;case 27:dk(C);case 26:case 5:to(T,C,p),p&&v===null&&P&4&&ck(C),r0(C,C.return);break;case 12:to(T,C,p);break;case 31:to(T,C,p),p&&P&4&&gk(T,C);break;case 13:to(T,C,p),p&&P&4&&xk(T,C);break;case 22:C.memoizedState===null&&to(T,C,p),r0(C,C.return);break;case 30:break;default:to(T,C,p)}f=f.sibling}}function Q1(c,f){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&$f(p))}function eb(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&$f(c))}function Gi(c,f,p,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)bk(c,f,p,v),f=f.sibling}function bk(c,f,p,v){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,p,v),T&2048&&t0(9,f);break;case 1:Gi(c,f,p,v);break;case 3:Gi(c,f,p,v),T&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&$f(c)));break;case 12:if(T&2048){Gi(c,f,p,v),c=f.stateNode;try{var C=f.memoizedProps,P=C.id,Q=C.onPostCommit;typeof Q=="function"&&Q(P,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(he){Yt(f,f.return,he)}}else Gi(c,f,p,v);break;case 31:Gi(c,f,p,v);break;case 13:Gi(c,f,p,v);break;case 23:break;case 22:C=f.stateNode,P=f.alternate,f.memoizedState!==null?C._visibility&2?Gi(c,f,p,v):n0(c,f):C._visibility&2?Gi(c,f,p,v):(C._visibility|=2,Xu(c,f,p,v,(f.subtreeFlags&10256)!==0||!1)),T&2048&&Q1(P,f);break;case 24:Gi(c,f,p,v),T&2048&&eb(f.alternate,f);break;default:Gi(c,f,p,v)}}function Xu(c,f,p,v,T){for(T=T&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=c,P=f,Q=p,he=v,Ae=P.flags;switch(P.tag){case 0:case 11:case 15:Xu(C,P,Q,he,T),t0(8,P);break;case 23:break;case 22:var Pe=P.stateNode;P.memoizedState!==null?Pe._visibility&2?Xu(C,P,Q,he,T):n0(C,P):(Pe._visibility|=2,Xu(C,P,Q,he,T)),T&&Ae&2048&&Q1(P.alternate,P);break;case 24:Xu(C,P,Q,he,T),T&&Ae&2048&&eb(P.alternate,P);break;default:Xu(C,P,Q,he,T)}f=f.sibling}}function n0(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=c,v=f,T=v.flags;switch(v.tag){case 22:n0(p,v),T&2048&&Q1(v.alternate,v);break;case 24:n0(p,v),T&2048&&eb(v.alternate,v);break;default:n0(p,v)}f=f.sibling}}var a0=8192;function Ju(c,f,p){if(c.subtreeFlags&a0)for(c=c.child;c!==null;)wk(c,f,p),c=c.sibling}function wk(c,f,p){switch(c.tag){case 26:Ju(c,f,p),c.flags&a0&&c.memoizedState!==null&&zV(p,Hi,c.memoizedState,c.memoizedProps);break;case 5:Ju(c,f,p);break;case 3:case 4:var v=Hi;Hi=Sp(c.stateNode.containerInfo),Ju(c,f,p),Hi=v;break;case 22:c.memoizedState===null&&(v=c.alternate,v!==null&&v.memoizedState!==null?(v=a0,a0=16777216,Ju(c,f,p),a0=v):Ju(c,f,p));break;default:Ju(c,f,p)}}function _k(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function i0(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var v=f[p];gn=v,Sk(v,c)}_k(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Ek(c),c=c.sibling}function Ek(c){switch(c.tag){case 0:case 11:case 15:i0(c),c.flags&2048&&ol(9,c,c.return);break;case 3:i0(c);break;case 12:i0(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,dp(c)):i0(c);break;default:i0(c)}}function dp(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var v=f[p];gn=v,Sk(v,c)}_k(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:ol(8,f,f.return),dp(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,dp(f));break;default:dp(f)}c=c.sibling}}function Sk(c,f){for(;gn!==null;){var p=gn;switch(p.tag){case 0:case 11:case 15:ol(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:$f(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,gn=v;else e:for(p=c;gn!==null;){v=gn;var T=v.sibling,C=v.return;if(mk(v),v===p){gn=null;break e}if(T!==null){T.return=C,gn=T;break e}gn=C}}}var rV={getCacheForType:function(c){var f=Rn(Hr),p=f.data.get(c);return p===void 0&&(p=c(),f.data.set(c,p)),p},cacheSignal:function(){return Rn(Hr).controller.signal}},nV=typeof WeakMap=="function"?WeakMap:Map,$t=0,lr=null,Nt=null,Ct=0,Kt=0,za=null,ll=!1,Zu=!1,tb=!1,ro=0,jr=0,cl=0,pc=0,rb=0,$a=0,Qu=0,s0=null,Ta=null,nb=!1,fp=0,Tk=0,hp=1/0,mp=null,ul=null,tn=0,dl=null,ed=null,no=0,ab=0,ib=null,Nk=null,o0=0,sb=null;function Va(){return($t&2)!==0&&Ct!==0?Ct&-Ct:K.T!==null?fb():X()}function Ak(){if($a===0)if((Ct&536870912)===0||It){var c=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),$a=c}else $a=536870912;return c=Ba.current,c!==null&&(c.flags|=32),$a}function Na(c,f,p){(c===lr&&(Kt===2||Kt===9)||c.cancelPendingCommit!==null)&&(td(c,0),fl(c,Ct,$a,!1)),Us(c,p),(($t&2)===0||c!==lr)&&(c===lr&&(($t&2)===0&&(pc|=p),jr===4&&fl(c,Ct,$a,!1)),vs(c))}function Ck(c,f,p){if(($t&6)!==0)throw Error(n(327));var v=!p&&(f&127)===0&&(f&c.expiredLanes)===0||Bs(c,f),T=v?sV(c,f):lb(c,f,!0),C=v;do{if(T===0){Zu&&!v&&fl(c,f,0,!1);break}else{if(p=c.current.alternate,C&&!aV(p)){T=lb(c,f,!1),C=!1;continue}if(T===2){if(C=f,c.errorRecoveryDisabledLanes&C)var P=0;else P=c.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){f=P;e:{var Q=c;T=s0;var he=Q.current.memoizedState.isDehydrated;if(he&&(td(Q,P).flags|=256),P=lb(Q,P,!1),P!==2){if(tb&&!he){Q.errorRecoveryDisabledLanes|=C,pc|=C,T=4;break e}C=Ta,Ta=T,C!==null&&(Ta===null?Ta=C:Ta.push.apply(Ta,C))}T=P}if(C=!1,T!==2)continue}}if(T===1){td(c,0),fl(c,f,0,!0);break}e:{switch(v=c,C=T,C){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:fl(v,f,$a,!ll);break e;case 2:Ta=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(T=fp+300-ot(),10<T)){if(fl(v,f,$a,!ll),Wo(v,0,!0)!==0)break e;no=f,v.timeoutHandle=iI(kk.bind(null,v,p,Ta,mp,nb,f,$a,pc,Qu,ll,C,"Throttled",-0,0),T);break e}kk(v,p,Ta,mp,nb,f,$a,pc,Qu,ll,C,null,-0,0)}}break}while(!0);vs(c)}function kk(c,f,p,v,T,C,P,Q,he,Ae,Pe,Be,Ce,Ie){if(c.timeoutHandle=-1,Be=f.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$s},wk(f,C,Be);var rt=(C&62914560)===C?fp-ot():(C&4194048)===C?Tk-ot():0;if(rt=$V(Be,rt),rt!==null){no=C,c.cancelPendingCommit=rt(Lk.bind(null,c,f,C,p,v,T,P,Q,he,Pe,Be,null,Ce,Ie)),fl(c,C,P,!Ae);return}}Lk(c,f,C,p,v,T,P,Q,he)}function aV(c){for(var f=c;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var T=p[v],C=T.getSnapshot;T=T.value;try{if(!La(C(),T))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function fl(c,f,p,v){f&=~rb,f&=~pc,c.suspendedLanes|=f,c.pingedLanes&=~f,v&&(c.warmLanes|=f),v=c.expirationTimes;for(var T=f;0<T;){var C=31-In(T),P=1<<C;v[C]=-1,T&=~P}p!==0&&Au(c,p,f)}function pp(){return($t&6)===0?(l0(0),!1):!0}function ob(){if(Nt!==null){if(Kt===0)var c=Nt.return;else c=Nt,qs=sc=null,E1(c),Gu=null,Hf=0,c=Nt;for(;c!==null;)sk(c.alternate,c),c=c.return;Nt=null}}function td(c,f){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,SV(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),no=0,ob(),lr=c,Nt=p=Hs(c.current,null),Ct=f,Kt=0,za=null,ll=!1,Zu=Bs(c,f),tb=!1,Qu=$a=rb=pc=cl=jr=0,Ta=s0=null,nb=!1,(f&8)!==0&&(f|=f&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=f;0<v;){var T=31-In(v),C=1<<T;f|=c[T],v&=~C}return ro=f,Pm(),p}function Ik(c,f){bt=null,K.H=Zf,f===Hu||f===Hm?(f=qA(),Kt=3):f===d1?(f=qA(),Kt=4):Kt=f===B1?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,za=f,Nt===null&&(jr=1,ap(c,di(f,c.current)))}function jk(){var c=Ba.current;return c===null?!0:(Ct&4194048)===Ct?pi===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?c===pi:!1}function Rk(){var c=K.H;return K.H=Zf,c===null?Zf:c}function Ok(){var c=K.A;return K.A=rV,c}function gp(){jr=4,ll||(Ct&4194048)!==Ct&&Ba.current!==null||(Zu=!0),(cl&134217727)===0&&(pc&134217727)===0||lr===null||fl(lr,Ct,$a,!1)}function lb(c,f,p){var v=$t;$t|=2;var T=Rk(),C=Ok();(lr!==c||Ct!==f)&&(mp=null,td(c,f)),f=!1;var P=jr;e:do try{if(Kt!==0&&Nt!==null){var Q=Nt,he=za;switch(Kt){case 8:ob(),P=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(f=!0);var Ae=Kt;if(Kt=0,za=null,rd(c,Q,he,Ae),p&&Zu){P=0;break e}break;default:Ae=Kt,Kt=0,za=null,rd(c,Q,he,Ae)}}iV(),P=jr;break}catch(Pe){Ik(c,Pe)}while(!0);return f&&c.shellSuspendCounter++,qs=sc=null,$t=v,K.H=T,K.A=C,Nt===null&&(lr=null,Ct=0,Pm()),P}function iV(){for(;Nt!==null;)Dk(Nt)}function sV(c,f){var p=$t;$t|=2;var v=Rk(),T=Ok();lr!==c||Ct!==f?(mp=null,hp=ot()+500,td(c,f)):Zu=Bs(c,f);e:do try{if(Kt!==0&&Nt!==null){f=Nt;var C=za;t:switch(Kt){case 1:Kt=0,za=null,rd(c,f,C,1);break;case 2:case 9:if(HA(C)){Kt=0,za=null,Mk(f);break}f=function(){Kt!==2&&Kt!==9||lr!==c||(Kt=7),vs(c)},C.then(f,f);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:HA(C)?(Kt=0,za=null,Mk(f)):(Kt=0,za=null,rd(c,f,C,7));break;case 5:var P=null;switch(Nt.tag){case 26:P=Nt.memoizedState;case 5:case 27:var Q=Nt;if(P?bI(P):Q.stateNode.complete){Kt=0,za=null;var he=Q.sibling;if(he!==null)Nt=he;else{var Ae=Q.return;Ae!==null?(Nt=Ae,xp(Ae)):Nt=null}break t}}Kt=0,za=null,rd(c,f,C,5);break;case 6:Kt=0,za=null,rd(c,f,C,6);break;case 8:ob(),jr=6;break e;default:throw Error(n(462))}}oV();break}catch(Pe){Ik(c,Pe)}while(!0);return qs=sc=null,K.H=v,K.A=T,$t=p,Nt!==null?0:(lr=null,Ct=0,Pm(),jr)}function oV(){for(;Nt!==null&&!Oe();)Dk(Nt)}function Dk(c){var f=ak(c.alternate,c,ro);c.memoizedProps=c.pendingProps,f===null?xp(c):Nt=f}function Mk(c){var f=c,p=f.alternate;switch(f.tag){case 15:case 0:f=ZC(p,f,f.pendingProps,f.type,void 0,Ct);break;case 11:f=ZC(p,f,f.pendingProps,f.type.render,f.ref,Ct);break;case 5:E1(f);default:sk(p,f),f=Nt=OA(f,ro),f=ak(p,f,ro)}c.memoizedProps=c.pendingProps,f===null?xp(c):Nt=f}function rd(c,f,p,v){qs=sc=null,E1(f),Gu=null,Hf=0;var T=f.return;try{if(Y$(c,T,f,p,Ct)){jr=1,ap(c,di(p,c.current)),Nt=null;return}}catch(C){if(T!==null)throw Nt=T,C;jr=1,ap(c,di(p,c.current)),Nt=null;return}f.flags&32768?(It||v===1?c=!0:Zu||(Ct&536870912)!==0?c=!1:(ll=c=!0,(v===2||v===9||v===3||v===6)&&(v=Ba.current,v!==null&&v.tag===13&&(v.flags|=16384))),Pk(f,c)):xp(f)}function xp(c){var f=c;do{if((f.flags&32768)!==0){Pk(f,ll);return}c=f.return;var p=Z$(f.alternate,f,ro);if(p!==null){Nt=p;return}if(f=f.sibling,f!==null){Nt=f;return}Nt=f=c}while(f!==null);jr===0&&(jr=5)}function Pk(c,f){do{var p=Q$(c.alternate,c);if(p!==null){p.flags&=32767,Nt=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(c=c.sibling,c!==null)){Nt=c;return}Nt=c=p}while(c!==null);jr=6,Nt=null}function Lk(c,f,p,v,T,C,P,Q,he){c.cancelPendingCommit=null;do vp();while(tn!==0);if(($t&6)!==0)throw Error(n(327));if(f!==null){if(f===c.current)throw Error(n(177));if(C=f.lanes|f.childLanes,C|=Xy,Xl(c,p,C,P,Q,he),c===lr&&(Nt=lr=null,Ct=0),ed=f,dl=c,no=p,ab=C,ib=T,Nk=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,dV(qt,function(){return $k(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=K.T,K.T=null,T=ae.p,ae.p=2,P=$t,$t|=4;try{eV(c,f,p)}finally{$t=P,ae.p=T,K.T=v}}tn=1,Fk(),Bk(),Uk()}}function Fk(){if(tn===1){tn=0;var c=dl,f=ed,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=K.T,K.T=null;var v=ae.p;ae.p=2;var T=$t;$t|=4;try{vk(f,c);var C=bb,P=SA(c.containerInfo),Q=C.focusedElem,he=C.selectionRange;if(P!==Q&&Q&&Q.ownerDocument&&EA(Q.ownerDocument.documentElement,Q)){if(he!==null&&Gy(Q)){var Ae=he.start,Pe=he.end;if(Pe===void 0&&(Pe=Ae),"selectionStart"in Q)Q.selectionStart=Ae,Q.selectionEnd=Math.min(Pe,Q.value.length);else{var Be=Q.ownerDocument||document,Ce=Be&&Be.defaultView||window;if(Ce.getSelection){var Ie=Ce.getSelection(),rt=Q.textContent.length,dt=Math.min(he.start,rt),rr=he.end===void 0?dt:Math.min(he.end,rt);!Ie.extend&&dt>rr&&(P=rr,rr=dt,dt=P);var Ee=_A(Q,dt),ye=_A(Q,rr);if(Ee&&ye&&(Ie.rangeCount!==1||Ie.anchorNode!==Ee.node||Ie.anchorOffset!==Ee.offset||Ie.focusNode!==ye.node||Ie.focusOffset!==ye.offset)){var Ne=Be.createRange();Ne.setStart(Ee.node,Ee.offset),Ie.removeAllRanges(),dt>rr?(Ie.addRange(Ne),Ie.extend(ye.node,ye.offset)):(Ne.setEnd(ye.node,ye.offset),Ie.addRange(Ne))}}}}for(Be=[],Ie=Q;Ie=Ie.parentNode;)Ie.nodeType===1&&Be.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Be.length;Q++){var Fe=Be[Q];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}Ip=!!yb,bb=yb=null}finally{$t=T,ae.p=v,K.T=p}}c.current=f,tn=2}}function Bk(){if(tn===2){tn=0;var c=dl,f=ed,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=K.T,K.T=null;var v=ae.p;ae.p=2;var T=$t;$t|=4;try{hk(c,f.alternate,f)}finally{$t=T,ae.p=v,K.T=p}}tn=3}}function Uk(){if(tn===4||tn===3){tn=0,ut();var c=dl,f=ed,p=no,v=Nk;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?tn=5:(tn=0,ed=dl=null,zk(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(ul=null),Zl(p),f=f.stateNode,Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(or,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=K.T,T=ae.p,ae.p=2,K.T=null;try{for(var C=c.onRecoverableError,P=0;P<v.length;P++){var Q=v[P];C(Q.value,{componentStack:Q.stack})}}finally{K.T=f,ae.p=T}}(no&3)!==0&&vp(),vs(c),T=c.pendingLanes,(p&261930)!==0&&(T&42)!==0?c===sb?o0++:(o0=0,sb=c):o0=0,l0(0)}}function zk(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,$f(f)))}function vp(){return Fk(),Bk(),Uk(),$k()}function $k(){if(tn!==5)return!1;var c=dl,f=ab;ab=0;var p=Zl(no),v=K.T,T=ae.p;try{ae.p=32>p?32:p,K.T=null,p=ib,ib=null;var C=dl,P=no;if(tn=0,ed=dl=null,no=0,($t&6)!==0)throw Error(n(331));var Q=$t;if($t|=4,Ek(C.current),bk(C,C.current,P,p),$t=Q,l0(0,!1),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(or,C)}catch{}return!0}finally{ae.p=T,K.T=v,zk(c,f)}}function Vk(c,f,p){f=di(p,f),f=F1(c.stateNode,f,2),c=al(c,f,2),c!==null&&(Us(c,2),vs(c))}function Yt(c,f,p){if(c.tag===3)Vk(c,c,p);else for(;f!==null;){if(f.tag===3){Vk(f,c,p);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ul===null||!ul.has(v))){c=di(p,c),p=HC(2),v=al(f,p,2),v!==null&&(GC(p,v,f,c),Us(v,2),vs(v));break}}f=f.return}}function cb(c,f,p){var v=c.pingCache;if(v===null){v=c.pingCache=new nV;var T=new Set;v.set(f,T)}else T=v.get(f),T===void 0&&(T=new Set,v.set(f,T));T.has(p)||(tb=!0,T.add(p),c=lV.bind(null,c,f,p),f.then(c,c))}function lV(c,f,p){var v=c.pingCache;v!==null&&v.delete(f),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,lr===c&&(Ct&p)===p&&(jr===4||jr===3&&(Ct&62914560)===Ct&&300>ot()-fp?($t&2)===0&&td(c,0):rb|=p,Qu===Ct&&(Qu=0)),vs(c)}function Hk(c,f){f===0&&(f=Nu()),c=nc(c,f),c!==null&&(Us(c,f),vs(c))}function cV(c){var f=c.memoizedState,p=0;f!==null&&(p=f.retryLane),Hk(c,p)}function uV(c,f){var p=0;switch(c.tag){case 31:case 13:var v=c.stateNode,T=c.memoizedState;T!==null&&(p=T.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(f),Hk(c,p)}function dV(c,f){return We(c,f)}var yp=null,nd=null,ub=!1,bp=!1,db=!1,hl=0;function vs(c){c!==nd&&c.next===null&&(nd===null?yp=nd=c:nd=nd.next=c),bp=!0,ub||(ub=!0,hV())}function l0(c,f){if(!db&&bp){db=!0;do for(var p=!1,v=yp;v!==null;){if(c!==0){var T=v.pendingLanes;if(T===0)var C=0;else{var P=v.suspendedLanes,Q=v.pingedLanes;C=(1<<31-In(42|c)+1)-1,C&=T&~(P&~Q),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,Kk(v,C))}else C=Ct,C=Wo(v,v===lr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Bs(v,C)||(p=!0,Kk(v,C));v=v.next}while(p);db=!1}}function fV(){Gk()}function Gk(){bp=ub=!1;var c=0;hl!==0&&EV()&&(c=hl);for(var f=ot(),p=null,v=yp;v!==null;){var T=v.next,C=qk(v,f);C===0?(v.next=null,p===null?yp=T:p.next=T,T===null&&(nd=p)):(p=v,(c!==0||(C&3)!==0)&&(bp=!0)),v=T}tn!==0&&tn!==5||l0(c),hl!==0&&(hl=0)}function qk(c,f){for(var p=c.suspendedLanes,v=c.pingedLanes,T=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var P=31-In(C),Q=1<<P,he=T[P];he===-1?((Q&p)===0||(Q&v)!==0)&&(T[P]=Tu(Q,f)):he<=f&&(c.expiredLanes|=Q),C&=~Q}if(f=lr,p=Ct,p=Wo(c,c===f?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,p===0||c===f&&(Kt===2||Kt===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&qe(v),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Bs(c,p)){if(f=p&-p,f===c.callbackPriority)return f;switch(v!==null&&qe(v),Zl(p)){case 2:case 8:p=kn;break;case 32:p=qt;break;case 268435456:p=ft;break;default:p=qt}return v=Wk.bind(null,c),p=We(p,v),c.callbackPriority=f,c.callbackNode=p,f}return v!==null&&v!==null&&qe(v),c.callbackPriority=2,c.callbackNode=null,2}function Wk(c,f){if(tn!==0&&tn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(vp()&&c.callbackNode!==p)return null;var v=Ct;return v=Wo(c,c===lr?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(Ck(c,v,f),qk(c,ot()),c.callbackNode!=null&&c.callbackNode===p?Wk.bind(null,c):null)}function Kk(c,f){if(vp())return null;Ck(c,f,!0)}function hV(){TV(function(){($t&6)!==0?We(pn,fV):Gk()})}function fb(){if(hl===0){var c=$u;c===0&&(c=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),hl=c}return hl}function Yk(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Cm(""+c)}function Xk(c,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,c.id&&p.setAttribute("form",c.id),f.parentNode.insertBefore(p,f),c=new FormData(c),p.parentNode.removeChild(p),c}function mV(c,f,p,v,T){if(f==="submit"&&p&&p.stateNode===T){var C=Yk((T[ie]||null).action),P=v.submitter;P&&(f=(f=P[ie]||null)?Yk(f.formAction):P.getAttribute("formAction"),f!==null&&(C=f,P=null));var Q=new Rm("action","action",null,v,T);c.push({event:Q,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(hl!==0){var he=P?Xk(T,P):new FormData(T);R1(p,{pending:!0,data:he,method:T.method,action:C},null,he)}}else typeof C=="function"&&(Q.preventDefault(),he=P?Xk(T,P):new FormData(T),R1(p,{pending:!0,data:he,method:T.method,action:C},C,he))},currentTarget:T}]})}}for(var hb=0;hb<Yy.length;hb++){var mb=Yy[hb],pV=mb.toLowerCase(),gV=mb[0].toUpperCase()+mb.slice(1);Vi(pV,"on"+gV)}Vi(AA,"onAnimationEnd"),Vi(CA,"onAnimationIteration"),Vi(kA,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(R$,"onTransitionRun"),Vi(O$,"onTransitionStart"),Vi(D$,"onTransitionCancel"),Vi(IA,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var c0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(c0));function Jk(c,f){f=(f&4)!==0;for(var p=0;p<c.length;p++){var v=c[p],T=v.event;v=v.listeners;e:{var C=void 0;if(f)for(var P=v.length-1;0<=P;P--){var Q=v[P],he=Q.instance,Ae=Q.currentTarget;if(Q=Q.listener,he!==C&&T.isPropagationStopped())break e;C=Q,T.currentTarget=Ae;try{C(T)}catch(Pe){Mm(Pe)}T.currentTarget=null,C=he}else for(P=0;P<v.length;P++){if(Q=v[P],he=Q.instance,Ae=Q.currentTarget,Q=Q.listener,he!==C&&T.isPropagationStopped())break e;C=Q,T.currentTarget=Ae;try{C(T)}catch(Pe){Mm(Pe)}T.currentTarget=null,C=he}}}}function At(c,f){var p=f[oe];p===void 0&&(p=f[oe]=new Set);var v=c+"__bubble";p.has(v)||(Zk(f,c,2,!1),p.add(v))}function pb(c,f,p){var v=0;f&&(v|=4),Zk(p,c,v,f)}var wp="_reactListening"+Math.random().toString(36).slice(2);function gb(c){if(!c[wp]){c[wp]=!0,Wt.forEach(function(p){p!=="selectionchange"&&(xV.has(p)||pb(p,!1,c),pb(p,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[wp]||(f[wp]=!0,pb("selectionchange",!1,f))}}function Zk(c,f,p,v){switch(AI(f)){case 2:var T=GV;break;case 8:T=qV;break;default:T=jb}p=T.bind(null,f,p,c),T=void 0,!Py||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),v?T!==void 0?c.addEventListener(f,p,{capture:!0,passive:T}):c.addEventListener(f,p,!0):T!==void 0?c.addEventListener(f,p,{passive:T}):c.addEventListener(f,p,!1)}function xb(c,f,p,v,T){var C=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var Q=v.stateNode.containerInfo;if(Q===T)break;if(P===4)for(P=v.return;P!==null;){var he=P.tag;if((he===3||he===4)&&P.stateNode.containerInfo===T)return;P=P.return}for(;Q!==null;){if(P=Ve(Q),P===null)return;if(he=P.tag,he===5||he===6||he===26||he===27){v=C=P;continue e}Q=Q.parentNode}}v=v.return}nA(function(){var Ae=C,Pe=Dy(p),Be=[];e:{var Ce=jA.get(c);if(Ce!==void 0){var Ie=Rm,rt=c;switch(c){case"keypress":if(Im(p)===0)break e;case"keydown":case"keyup":Ie=u$;break;case"focusin":rt="focus",Ie=Uy;break;case"focusout":rt="blur",Ie=Uy;break;case"beforeblur":case"afterblur":Ie=Uy;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=sA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=h$;break;case AA:case CA:case kA:Ie=t$;break;case IA:Ie=p$;break;case"scroll":case"scrollend":Ie=X9;break;case"wheel":Ie=x$;break;case"copy":case"cut":case"paste":Ie=n$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=lA;break;case"toggle":case"beforetoggle":Ie=y$}var dt=(f&4)!==0,rr=!dt&&(c==="scroll"||c==="scrollend"),Ee=dt?Ce!==null?Ce+"Capture":null:Ce;dt=[];for(var ye=Ae,Ne;ye!==null;){var Fe=ye;if(Ne=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Ne===null||Ee===null||(Fe=jf(ye,Ee),Fe!=null&&dt.push(u0(ye,Fe,Ne))),rr)break;ye=ye.return}0<dt.length&&(Ce=new Ie(Ce,rt,null,p,Pe),Be.push({event:Ce,listeners:dt}))}}if((f&7)===0){e:{if(Ce=c==="mouseover"||c==="pointerover",Ie=c==="mouseout"||c==="pointerout",Ce&&p!==Oy&&(rt=p.relatedTarget||p.fromElement)&&(Ve(rt)||rt[V]))break e;if((Ie||Ce)&&(Ce=Pe.window===Pe?Pe:(Ce=Pe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ie?(rt=p.relatedTarget||p.toElement,Ie=Ae,rt=rt?Ve(rt):null,rt!==null&&(rr=i(rt),dt=rt.tag,rt!==rr||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(Ie=null,rt=Ae),Ie!==rt)){if(dt=sA,Fe="onMouseLeave",Ee="onMouseEnter",ye="mouse",(c==="pointerout"||c==="pointerover")&&(dt=lA,Fe="onPointerLeave",Ee="onPointerEnter",ye="pointer"),rr=Ie==null?Ce:Ue(Ie),Ne=rt==null?Ce:Ue(rt),Ce=new dt(Fe,ye+"leave",Ie,p,Pe),Ce.target=rr,Ce.relatedTarget=Ne,Fe=null,Ve(Pe)===Ae&&(dt=new dt(Ee,ye+"enter",rt,p,Pe),dt.target=Ne,dt.relatedTarget=rr,Fe=dt),rr=Fe,Ie&&rt)t:{for(dt=vV,Ee=Ie,ye=rt,Ne=0,Fe=Ee;Fe;Fe=dt(Fe))Ne++;Fe=0;for(var lt=ye;lt;lt=dt(lt))Fe++;for(;0<Ne-Fe;)Ee=dt(Ee),Ne--;for(;0<Fe-Ne;)ye=dt(ye),Fe--;for(;Ne--;){if(Ee===ye||ye!==null&&Ee===ye.alternate){dt=Ee;break t}Ee=dt(Ee),ye=dt(ye)}dt=null}else dt=null;Ie!==null&&Qk(Be,Ce,Ie,dt,!1),rt!==null&&rr!==null&&Qk(Be,rr,rt,dt,!0)}}e:{if(Ce=Ae?Ue(Ae):window,Ie=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ce.type==="file")var Mt=gA;else if(mA(Ce))if(xA)Mt=k$;else{Mt=A$;var at=N$}else Ie=Ce.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Ae&&Ry(Ae.elementType)&&(Mt=gA):Mt=C$;if(Mt&&(Mt=Mt(c,Ae))){pA(Be,Mt,p,Pe);break e}at&&at(c,Ce,Ae),c==="focusout"&&Ae&&Ce.type==="number"&&Ae.memoizedProps.value!=null&&jy(Ce,"number",Ce.value)}switch(at=Ae?Ue(Ae):window,c){case"focusin":(mA(at)||at.contentEditable==="true")&&(Du=at,qy=Ae,Bf=null);break;case"focusout":Bf=qy=Du=null;break;case"mousedown":Wy=!0;break;case"contextmenu":case"mouseup":case"dragend":Wy=!1,TA(Be,p,Pe);break;case"selectionchange":if(j$)break;case"keydown":case"keyup":TA(Be,p,Pe)}var _t;if($y)e:{switch(c){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Ou?fA(c,p)&&(kt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(kt="onCompositionStart");kt&&(cA&&p.locale!=="ko"&&(Ou||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ou&&(_t=aA()):(Jo=Pe,Ly="value"in Jo?Jo.value:Jo.textContent,Ou=!0)),at=_p(Ae,kt),0<at.length&&(kt=new oA(kt,c,null,p,Pe),Be.push({event:kt,listeners:at}),_t?kt.data=_t:(_t=hA(p),_t!==null&&(kt.data=_t)))),(_t=w$?_$(c,p):E$(c,p))&&(kt=_p(Ae,"onBeforeInput"),0<kt.length&&(at=new oA("onBeforeInput","beforeinput",null,p,Pe),Be.push({event:at,listeners:kt}),at.data=_t)),mV(Be,c,Ae,p,Pe)}Jk(Be,f)})}function u0(c,f,p){return{instance:c,listener:f,currentTarget:p}}function _p(c,f){for(var p=f+"Capture",v=[];c!==null;){var T=c,C=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||C===null||(T=jf(c,p),T!=null&&v.unshift(u0(c,T,C)),T=jf(c,f),T!=null&&v.push(u0(c,T,C))),c.tag===3)return v;c=c.return}return[]}function vV(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Qk(c,f,p,v,T){for(var C=f._reactName,P=[];p!==null&&p!==v;){var Q=p,he=Q.alternate,Ae=Q.stateNode;if(Q=Q.tag,he!==null&&he===v)break;Q!==5&&Q!==26&&Q!==27||Ae===null||(he=Ae,T?(Ae=jf(p,C),Ae!=null&&P.unshift(u0(p,Ae,he))):T||(Ae=jf(p,C),Ae!=null&&P.push(u0(p,Ae,he)))),p=p.return}P.length!==0&&c.push({event:f,listeners:P})}var yV=/\r\n?/g,bV=/\u0000|\uFFFD/g;function eI(c){return(typeof c=="string"?c:""+c).replace(yV,`
`).replace(bV,"")}function tI(c,f){return f=eI(f),eI(c)===f}function tr(c,f,p,v,T,C){switch(p){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||Iu(c,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&Iu(c,""+v);break;case"className":Nm(c,"class",v);break;case"tabIndex":Nm(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Nm(c,p,v);break;case"style":tA(c,v,C);break;case"data":if(f!=="object"){Nm(c,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||p!=="href")){c.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(p);break}v=Cm(""+v),c.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(f!=="input"&&tr(c,f,"name",T.name,T,null),tr(c,f,"formEncType",T.formEncType,T,null),tr(c,f,"formMethod",T.formMethod,T,null),tr(c,f,"formTarget",T.formTarget,T,null)):(tr(c,f,"encType",T.encType,T,null),tr(c,f,"method",T.method,T,null),tr(c,f,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(p);break}v=Cm(""+v),c.setAttribute(p,v);break;case"onClick":v!=null&&(c.onclick=$s);break;case"onScroll":v!=null&&At("scroll",c);break;case"onScrollEnd":v!=null&&At("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}p=Cm(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,""+v):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":v===!0?c.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(p,v):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(p,v):c.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(p):c.setAttribute(p,v);break;case"popover":At("beforetoggle",c),At("toggle",c),ba(c,"popover",v);break;case"xlinkActuate":zs(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":zs(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":zs(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":zs(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":zs(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":zs(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":zs(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":zs(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":zs(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ba(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=K9.get(p)||p,ba(c,p,v))}}function vb(c,f,p,v,T,C){switch(p){case"style":tA(c,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof v=="string"?Iu(c,v):(typeof v=="number"||typeof v=="bigint")&&Iu(c,""+v);break;case"onScroll":v!=null&&At("scroll",c);break;case"onScrollEnd":v!=null&&At("scrollend",c);break;case"onClick":v!=null&&(c.onclick=$s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ht.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),f=p.slice(2,T?p.length-7:void 0),C=c[ie]||null,C=C!=null?C[p]:null,typeof C=="function"&&c.removeEventListener(f,C,T),typeof v=="function")){typeof C!="function"&&C!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(f,v,T);break e}p in c?c[p]=v:v===!0?c.setAttribute(p,""):ba(c,p,v)}}}function Dn(c,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",c),At("load",c);var v=!1,T=!1,C;for(C in p)if(p.hasOwnProperty(C)){var P=p[C];if(P!=null)switch(C){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:tr(c,f,C,P,p,null)}}T&&tr(c,f,"srcSet",p.srcSet,p,null),v&&tr(c,f,"src",p.src,p,null);return;case"input":At("invalid",c);var Q=C=P=T=null,he=null,Ae=null;for(v in p)if(p.hasOwnProperty(v)){var Pe=p[v];if(Pe!=null)switch(v){case"name":T=Pe;break;case"type":P=Pe;break;case"checked":he=Pe;break;case"defaultChecked":Ae=Pe;break;case"value":C=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,f));break;default:tr(c,f,v,Pe,p,null)}}JN(c,C,Q,he,Ae,P,T,!1);return;case"select":At("invalid",c),v=P=C=null;for(T in p)if(p.hasOwnProperty(T)&&(Q=p[T],Q!=null))switch(T){case"value":C=Q;break;case"defaultValue":P=Q;break;case"multiple":v=Q;default:tr(c,f,T,Q,p,null)}f=C,p=P,c.multiple=!!v,f!=null?ku(c,!!v,f,!1):p!=null&&ku(c,!!v,p,!0);return;case"textarea":At("invalid",c),C=T=v=null;for(P in p)if(p.hasOwnProperty(P)&&(Q=p[P],Q!=null))switch(P){case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":C=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:tr(c,f,P,Q,p,null)}QN(c,v,T,C);return;case"option":for(he in p)if(p.hasOwnProperty(he)&&(v=p[he],v!=null))switch(he){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:tr(c,f,he,v,p,null)}return;case"dialog":At("beforetoggle",c),At("toggle",c),At("cancel",c),At("close",c);break;case"iframe":case"object":At("load",c);break;case"video":case"audio":for(v=0;v<c0.length;v++)At(c0[v],c);break;case"image":At("error",c),At("load",c);break;case"details":At("toggle",c);break;case"embed":case"source":case"link":At("error",c),At("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in p)if(p.hasOwnProperty(Ae)&&(v=p[Ae],v!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:tr(c,f,Ae,v,p,null)}return;default:if(Ry(f)){for(Pe in p)p.hasOwnProperty(Pe)&&(v=p[Pe],v!==void 0&&vb(c,f,Pe,v,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(v=p[Q],v!=null&&tr(c,f,Q,v,p,null))}function wV(c,f,p,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,C=null,P=null,Q=null,he=null,Ae=null,Pe=null;for(Ie in p){var Be=p[Ie];if(p.hasOwnProperty(Ie)&&Be!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":he=Be;default:v.hasOwnProperty(Ie)||tr(c,f,Ie,null,v,Be)}}for(var Ce in v){var Ie=v[Ce];if(Be=p[Ce],v.hasOwnProperty(Ce)&&(Ie!=null||Be!=null))switch(Ce){case"type":C=Ie;break;case"name":T=Ie;break;case"checked":Ae=Ie;break;case"defaultChecked":Pe=Ie;break;case"value":P=Ie;break;case"defaultValue":Q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,f));break;default:Ie!==Be&&tr(c,f,Ce,Ie,v,Be)}}Iy(c,P,Q,he,Ae,Pe,C,T);return;case"select":Ie=P=Q=Ce=null;for(C in p)if(he=p[C],p.hasOwnProperty(C)&&he!=null)switch(C){case"value":break;case"multiple":Ie=he;default:v.hasOwnProperty(C)||tr(c,f,C,null,v,he)}for(T in v)if(C=v[T],he=p[T],v.hasOwnProperty(T)&&(C!=null||he!=null))switch(T){case"value":Ce=C;break;case"defaultValue":Q=C;break;case"multiple":P=C;default:C!==he&&tr(c,f,T,C,v,he)}f=Q,p=P,v=Ie,Ce!=null?ku(c,!!p,Ce,!1):!!v!=!!p&&(f!=null?ku(c,!!p,f,!0):ku(c,!!p,p?[]:"",!1));return;case"textarea":Ie=Ce=null;for(Q in p)if(T=p[Q],p.hasOwnProperty(Q)&&T!=null&&!v.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:tr(c,f,Q,null,v,T)}for(P in v)if(T=v[P],C=p[P],v.hasOwnProperty(P)&&(T!=null||C!=null))switch(P){case"value":Ce=T;break;case"defaultValue":Ie=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==C&&tr(c,f,P,T,v,C)}ZN(c,Ce,Ie);return;case"option":for(var rt in p)if(Ce=p[rt],p.hasOwnProperty(rt)&&Ce!=null&&!v.hasOwnProperty(rt))switch(rt){case"selected":c.selected=!1;break;default:tr(c,f,rt,null,v,Ce)}for(he in v)if(Ce=v[he],Ie=p[he],v.hasOwnProperty(he)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(he){case"selected":c.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:tr(c,f,he,Ce,v,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in p)Ce=p[dt],p.hasOwnProperty(dt)&&Ce!=null&&!v.hasOwnProperty(dt)&&tr(c,f,dt,null,v,Ce);for(Ae in v)if(Ce=v[Ae],Ie=p[Ae],v.hasOwnProperty(Ae)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,f));break;default:tr(c,f,Ae,Ce,v,Ie)}return;default:if(Ry(f)){for(var rr in p)Ce=p[rr],p.hasOwnProperty(rr)&&Ce!==void 0&&!v.hasOwnProperty(rr)&&vb(c,f,rr,void 0,v,Ce);for(Pe in v)Ce=v[Pe],Ie=p[Pe],!v.hasOwnProperty(Pe)||Ce===Ie||Ce===void 0&&Ie===void 0||vb(c,f,Pe,Ce,v,Ie);return}}for(var Ee in p)Ce=p[Ee],p.hasOwnProperty(Ee)&&Ce!=null&&!v.hasOwnProperty(Ee)&&tr(c,f,Ee,null,v,Ce);for(Be in v)Ce=v[Be],Ie=p[Be],!v.hasOwnProperty(Be)||Ce===Ie||Ce==null&&Ie==null||tr(c,f,Be,Ce,v,Ie)}function rI(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _V(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var T=p[v],C=T.transferSize,P=T.initiatorType,Q=T.duration;if(C&&Q&&rI(P)){for(P=0,Q=T.responseEnd,v+=1;v<p.length;v++){var he=p[v],Ae=he.startTime;if(Ae>Q)break;var Pe=he.transferSize,Be=he.initiatorType;Pe&&rI(Be)&&(he=he.responseEnd,P+=Pe*(he<Q?1:(Q-Ae)/(he-Ae)))}if(--v,f+=8*(C+P)/(T.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var yb=null,bb=null;function Ep(c){return c.nodeType===9?c:c.ownerDocument}function nI(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aI(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function wb(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var _b=null;function EV(){var c=window.event;return c&&c.type==="popstate"?c===_b?!1:(_b=c,!0):(_b=null,!1)}var iI=typeof setTimeout=="function"?setTimeout:void 0,SV=typeof clearTimeout=="function"?clearTimeout:void 0,sI=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof sI<"u"?function(c){return sI.resolve(null).then(c).catch(NV)}:iI;function NV(c){setTimeout(function(){throw c})}function ml(c){return c==="head"}function oI(c,f){var p=f,v=0;do{var T=p.nextSibling;if(c.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(v===0){c.removeChild(T),od(f);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")d0(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,d0(p);for(var C=p.firstChild;C;){var P=C.nextSibling,Q=C.nodeName;C[we]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=P}}else p==="body"&&d0(c.ownerDocument.body);p=T}while(p);od(f)}function lI(c,f){var p=c;c=0;do{var v=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=v}while(p)}function Eb(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Eb(p),Me(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function AV(c,f,p,v){for(;c.nodeType===1;){var T=p;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[we])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var C=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=gi(c.nextSibling),c===null)break}return null}function CV(c,f,p){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=gi(c.nextSibling),c===null))return null;return c}function cI(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=gi(c.nextSibling),c===null))return null;return c}function Sb(c){return c.data==="$?"||c.data==="$~"}function Tb(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function kV(c,f){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||p.readyState!=="loading")f();else{var v=function(){f(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function gi(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var Nb=null;function uI(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(f===0)return gi(c.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}c=c.nextSibling}return null}function dI(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return c;f--}else p!=="/$"&&p!=="/&"||f++}c=c.previousSibling}return null}function fI(c,f,p){switch(f=Ep(p),c){case"html":if(c=f.documentElement,!c)throw Error(n(452));return c;case"head":if(c=f.head,!c)throw Error(n(453));return c;case"body":if(c=f.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function d0(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);Me(c)}var xi=new Map,hI=new Set;function Sp(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var ao=ae.d;ae.d={f:IV,r:jV,D:RV,C:OV,L:DV,m:MV,X:LV,S:PV,M:FV};function IV(){var c=ao.f(),f=pp();return c||f}function jV(c){var f=He(c);f!==null&&f.tag===5&&f.type==="form"?IC(f):ao.r(c)}var ad=typeof document>"u"?null:document;function mI(c,f,p){var v=ad;if(v&&typeof f=="string"&&f){var T=ci(f);T='link[rel="'+c+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),hI.has(T)||(hI.add(T),c={rel:c,crossOrigin:p,href:f},v.querySelector(T)===null&&(f=v.createElement("link"),Dn(f,"link",c),nt(f),v.head.appendChild(f)))}}function RV(c){ao.D(c),mI("dns-prefetch",c,null)}function OV(c,f){ao.C(c,f),mI("preconnect",c,f)}function DV(c,f,p){ao.L(c,f,p);var v=ad;if(v&&c&&f){var T='link[rel="preload"][as="'+ci(f)+'"]';f==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+ci(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+ci(p.imageSizes)+'"]')):T+='[href="'+ci(c)+'"]';var C=T;switch(f){case"style":C=id(c);break;case"script":C=sd(c)}xi.has(C)||(c=m({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:c,as:f},p),xi.set(C,c),v.querySelector(T)!==null||f==="style"&&v.querySelector(f0(C))||f==="script"&&v.querySelector(h0(C))||(f=v.createElement("link"),Dn(f,"link",c),nt(f),v.head.appendChild(f)))}}function MV(c,f){ao.m(c,f);var p=ad;if(p&&c){var v=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+ci(v)+'"][href="'+ci(c)+'"]',C=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=sd(c)}if(!xi.has(C)&&(c=m({rel:"modulepreload",href:c},f),xi.set(C,c),p.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(h0(C)))return}v=p.createElement("link"),Dn(v,"link",c),nt(v),p.head.appendChild(v)}}}function PV(c,f,p){ao.S(c,f,p);var v=ad;if(v&&c){var T=Ge(v).hoistableStyles,C=id(c);f=f||"default";var P=T.get(C);if(!P){var Q={loading:0,preload:null};if(P=v.querySelector(f0(C)))Q.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":f},p),(p=xi.get(C))&&Ab(c,p);var he=P=v.createElement("link");nt(he),Dn(he,"link",c),he._p=new Promise(function(Ae,Pe){he.onload=Ae,he.onerror=Pe}),he.addEventListener("load",function(){Q.loading|=1}),he.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Tp(P,f,v)}P={type:"stylesheet",instance:P,count:1,state:Q},T.set(C,P)}}}function LV(c,f){ao.X(c,f);var p=ad;if(p&&c){var v=Ge(p).hoistableScripts,T=sd(c),C=v.get(T);C||(C=p.querySelector(h0(T)),C||(c=m({src:c,async:!0},f),(f=xi.get(T))&&Cb(c,f),C=p.createElement("script"),nt(C),Dn(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(T,C))}}function FV(c,f){ao.M(c,f);var p=ad;if(p&&c){var v=Ge(p).hoistableScripts,T=sd(c),C=v.get(T);C||(C=p.querySelector(h0(T)),C||(c=m({src:c,async:!0,type:"module"},f),(f=xi.get(T))&&Cb(c,f),C=p.createElement("script"),nt(C),Dn(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(T,C))}}function pI(c,f,p,v){var T=(T=se.current)?Sp(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=id(p.href),p=Ge(T).hoistableStyles,v=p.get(f),v||(v={type:"style",instance:null,count:0,state:null},p.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=id(p.href);var C=Ge(T).hoistableStyles,P=C.get(c);if(P||(T=T.ownerDocument||T,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,P),(C=T.querySelector(f0(c)))&&!C._p&&(P.instance=C,P.state.loading=5),xi.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},xi.set(c,p),C||BV(T,c,p,P.state))),f&&v===null)throw Error(n(528,""));return P}if(f&&v!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=sd(p),p=Ge(T).hoistableScripts,v=p.get(f),v||(v={type:"script",instance:null,count:0,state:null},p.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function id(c){return'href="'+ci(c)+'"'}function f0(c){return'link[rel="stylesheet"]['+c+"]"}function gI(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function BV(c,f,p,v){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=c.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),Dn(f,"link",p),nt(f),c.head.appendChild(f))}function sd(c){return'[src="'+ci(c)+'"]'}function h0(c){return"script[async]"+c}function xI(c,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var v=c.querySelector('style[data-href~="'+ci(p.href)+'"]');if(v)return f.instance=v,nt(v),v;var T=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),nt(v),Dn(v,"style",T),Tp(v,p.precedence,c),f.instance=v;case"stylesheet":T=id(p.href);var C=c.querySelector(f0(T));if(C)return f.state.loading|=4,f.instance=C,nt(C),C;v=gI(p),(T=xi.get(T))&&Ab(v,T),C=(c.ownerDocument||c).createElement("link"),nt(C);var P=C;return P._p=new Promise(function(Q,he){P.onload=Q,P.onerror=he}),Dn(C,"link",v),f.state.loading|=4,Tp(C,p.precedence,c),f.instance=C;case"script":return C=sd(p.src),(T=c.querySelector(h0(C)))?(f.instance=T,nt(T),T):(v=p,(T=xi.get(C))&&(v=m({},p),Cb(v,T)),c=c.ownerDocument||c,T=c.createElement("script"),nt(T),Dn(T,"link",v),c.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,Tp(v,p.precedence,c));return f.instance}function Tp(c,f,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,C=T,P=0;P<v.length;P++){var Q=v[P];if(Q.dataset.precedence===f)C=Q;else if(C!==T)break}C?C.parentNode.insertBefore(c,C.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(c,f.firstChild))}function Ab(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function Cb(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var Np=null;function vI(c,f,p){if(Np===null){var v=new Map,T=Np=new Map;T.set(p,v)}else T=Np,v=T.get(p),v||(v=new Map,T.set(p,v));if(v.has(c))return v;for(v.set(c,null),p=p.getElementsByTagName(c),T=0;T<p.length;T++){var C=p[T];if(!(C[we]||C[ne]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(f)||"";P=c+P;var Q=v.get(P);Q?Q.push(C):v.set(P,[C])}}return v}function yI(c,f,p){c=c.ownerDocument||c,c.head.insertBefore(p,f==="title"?c.querySelector("head > title"):null)}function UV(c,f,p){if(p===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function bI(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function zV(c,f,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=id(v.href),C=f.querySelector(f0(T));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=Ap.bind(c),f.then(c,c)),p.state.loading|=4,p.instance=C,nt(C);return}C=f.ownerDocument||f,v=gI(v),(T=xi.get(T))&&Ab(v,T),C=C.createElement("link"),nt(C);var P=C;P._p=new Promise(function(Q,he){P.onload=Q,P.onerror=he}),Dn(C,"link",v),p.instance=C}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Ap.bind(c),f.addEventListener("load",p),f.addEventListener("error",p))}}var kb=0;function $V(c,f){return c.stylesheets&&c.count===0&&kp(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var v=setTimeout(function(){if(c.stylesheets&&kp(c,c.stylesheets),c.unsuspend){var C=c.unsuspend;c.unsuspend=null,C()}},6e4+f);0<c.imgBytes&&kb===0&&(kb=62500*_V());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&kp(c,c.stylesheets),c.unsuspend)){var C=c.unsuspend;c.unsuspend=null,C()}},(c.imgBytes>kb?50:800)+f);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(v),clearTimeout(T)}}:null}function Ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Cp=null;function kp(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Cp=new Map,f.forEach(VV,c),Cp=null,Ap.call(c))}function VV(c,f){if(!(f.state.loading&4)){var p=Cp.get(c);if(p)var v=p.get(null);else{p=new Map,Cp.set(c,p);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<T.length;C++){var P=T[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(p.set(P.dataset.precedence,P),v=P)}v&&p.set(null,v)}T=f.instance,P=T.getAttribute("data-precedence"),C=p.get(P)||v,C===v&&p.set(null,T),p.set(P,T),this.count++,v=Ap.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),C?C.parentNode.insertBefore(T,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),f.state.loading|=4}}var m0={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function HV(c,f,p,v,T,C,P,Q,he){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.hiddenUpdates=Ko(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function wI(c,f,p,v,T,C,P,Q,he,Ae,Pe,Be){return c=new HV(c,f,p,P,he,Ae,Pe,Be,Q),f=1,C===!0&&(f|=24),C=Fa(3,null,null,f),c.current=C,C.stateNode=c,f=l1(),f.refCount++,c.pooledCache=f,f.refCount++,C.memoizedState={element:v,isDehydrated:p,cache:f},f1(C),c}function _I(c){return c?(c=Lu,c):Lu}function EI(c,f,p,v,T,C){T=_I(T),v.context===null?v.context=T:v.pendingContext=T,v=nl(f),v.payload={element:p},C=C===void 0?null:C,C!==null&&(v.callback=C),p=al(c,v,f),p!==null&&(Na(p,c,f),qf(p,c,f))}function SI(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<f?p:f}}function Ib(c,f){SI(c,f),(c=c.alternate)&&SI(c,f)}function TI(c){if(c.tag===13||c.tag===31){var f=nc(c,67108864);f!==null&&Na(f,c,67108864),Ib(c,67108864)}}function NI(c){if(c.tag===13||c.tag===31){var f=Va();f=Jl(f);var p=nc(c,f);p!==null&&Na(p,c,f),Ib(c,f)}}var Ip=!0;function GV(c,f,p,v){var T=K.T;K.T=null;var C=ae.p;try{ae.p=2,jb(c,f,p,v)}finally{ae.p=C,K.T=T}}function qV(c,f,p,v){var T=K.T;K.T=null;var C=ae.p;try{ae.p=8,jb(c,f,p,v)}finally{ae.p=C,K.T=T}}function jb(c,f,p,v){if(Ip){var T=Rb(v);if(T===null)xb(c,f,v,jp,p),CI(c,v);else if(KV(T,c,f,p,v))v.stopPropagation();else if(CI(c,v),f&4&&-1<WV.indexOf(c)){for(;T!==null;){var C=He(T);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=ya(C.pendingLanes);if(P!==0){var Q=C;for(Q.pendingLanes|=2,Q.entangledLanes|=2;P;){var he=1<<31-In(P);Q.entanglements[1]|=he,P&=~he}vs(C),($t&6)===0&&(hp=ot()+500,l0(0))}}break;case 31:case 13:Q=nc(C,2),Q!==null&&Na(Q,C,2),pp(),Ib(C,2)}if(C=Rb(v),C===null&&xb(c,f,v,jp,p),C===T)break;T=C}T!==null&&v.stopPropagation()}else xb(c,f,v,null,p)}}function Rb(c){return c=Dy(c),Ob(c)}var jp=null;function Ob(c){if(jp=null,c=Ve(c),c!==null){var f=i(c);if(f===null)c=null;else{var p=f.tag;if(p===13){if(c=s(f),c!==null)return c;c=null}else if(p===31){if(c=o(f),c!==null)return c;c=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return jp=c,null}function AI(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case pn:return 2;case kn:return 8;case qt:case kr:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Db=!1,pl=null,gl=null,xl=null,p0=new Map,g0=new Map,vl=[],WV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CI(c,f){switch(c){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":p0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(f.pointerId)}}function x0(c,f,p,v,T,C){return c===null||c.nativeEvent!==C?(c={blockedOn:f,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[T]},f!==null&&(f=He(f),f!==null&&TI(f)),c):(c.eventSystemFlags|=v,f=c.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),c)}function KV(c,f,p,v,T){switch(f){case"focusin":return pl=x0(pl,c,f,p,v,T),!0;case"dragenter":return gl=x0(gl,c,f,p,v,T),!0;case"mouseover":return xl=x0(xl,c,f,p,v,T),!0;case"pointerover":var C=T.pointerId;return p0.set(C,x0(p0.get(C)||null,c,f,p,v,T)),!0;case"gotpointercapture":return C=T.pointerId,g0.set(C,x0(g0.get(C)||null,c,f,p,v,T)),!0}return!1}function kI(c){var f=Ve(c.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=s(p),f!==null){c.blockedOn=f,le(c.priority,function(){NI(p)});return}}else if(f===31){if(f=o(p),f!==null){c.blockedOn=f,le(c.priority,function(){NI(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Rp(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var p=Rb(c.nativeEvent);if(p===null){p=c.nativeEvent;var v=new p.constructor(p.type,p);Oy=v,p.target.dispatchEvent(v),Oy=null}else return f=He(p),f!==null&&TI(f),c.blockedOn=p,!1;f.shift()}return!0}function II(c,f,p){Rp(c)&&p.delete(f)}function YV(){Db=!1,pl!==null&&Rp(pl)&&(pl=null),gl!==null&&Rp(gl)&&(gl=null),xl!==null&&Rp(xl)&&(xl=null),p0.forEach(II),g0.forEach(II)}function Op(c,f){c.blockedOn===f&&(c.blockedOn=null,Db||(Db=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YV)))}var Dp=null;function jI(c){Dp!==c&&(Dp=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dp===c&&(Dp=null);for(var f=0;f<c.length;f+=3){var p=c[f],v=c[f+1],T=c[f+2];if(typeof v!="function"){if(Ob(v||p)===null)continue;break}var C=He(p);C!==null&&(c.splice(f,3),f-=3,R1(C,{pending:!0,data:T,method:p.method,action:v},v,T))}}))}function od(c){function f(he){return Op(he,c)}pl!==null&&Op(pl,c),gl!==null&&Op(gl,c),xl!==null&&Op(xl,c),p0.forEach(f),g0.forEach(f);for(var p=0;p<vl.length;p++){var v=vl[p];v.blockedOn===c&&(v.blockedOn=null)}for(;0<vl.length&&(p=vl[0],p.blockedOn===null);)kI(p),p.blockedOn===null&&vl.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var T=p[v],C=p[v+1],P=T[ie]||null;if(typeof C=="function")P||jI(p);else if(P){var Q=null;if(C&&C.hasAttribute("formAction")){if(T=C,P=C[ie]||null)Q=P.formAction;else if(Ob(T)!==null)continue}else Q=P.action;typeof Q=="function"?p[v+1]=Q:(p.splice(v,3),v-=3),jI(p)}}}function RI(){function c(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(P){return T=P})},focusReset:"manual",scroll:"manual"})}function f(){T!==null&&(T(),T=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),T!==null&&(T(),T=null)}}}function Mb(c){this._internalRoot=c}Mp.prototype.render=Mb.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,v=Va();EI(p,v,c,f,null,null)},Mp.prototype.unmount=Mb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;EI(c.current,2,null,c,null,null),pp(),f[V]=null}};function Mp(c){this._internalRoot=c}Mp.prototype.unstable_scheduleHydration=function(c){if(c){var f=X();c={blockedOn:null,target:c,priority:f};for(var p=0;p<vl.length&&f!==0&&f<vl[p].priority;p++);vl.splice(p,0,c),p===0&&kI(c)}};var OI=t.version;if(OI!=="19.2.3")throw Error(n(527,OI,"19.2.3"));ae.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=d(f),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var XV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{or=Pp.inject(XV),Sr=Pp}catch{}}return y0.createRoot=function(c,f){if(!a(c))throw Error(n(299));var p=!1,v="",T=UC,C=zC,P=$C;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),f=wI(c,1,!1,null,null,p,v,null,T,C,P,RI),c[V]=f.current,gb(c),new Mb(f)},y0.hydrateRoot=function(c,f,p){if(!a(c))throw Error(n(299));var v=!1,T="",C=UC,P=zC,Q=$C,he=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(P=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(he=p.formState)),f=wI(c,1,!0,f,p??null,v,T,he,C,P,Q,RI),f.context=_I(null),p=f.current,v=Va(),v=Jl(v),T=nl(v),T.callback=null,al(p,T,v),p=v,f.current.lanes=p,Us(f,p),vs(f),c[V]=f.current,gb(c),new Mp(f)},y0.version="19.2.3",y0}var VI;function uH(){if(VI)return Bb.exports;VI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bb.exports=cH(),Bb.exports}var dH=uH();const fH=ds(dH);var Xe=(e=>(e.OWNER="OWNER",e.ADMIN="ADMIN",e.MANAGER="MANAGER",e.EMPLOYEE="EMPLOYEE",e.BPO="BPO",e.CONSULTANT="CONSULTANT",e.VIEWER="VIEWER",e.SUPER_ADMIN="SUPER_ADMIN",e))(Xe||{}),an=(e=>(e.FREE="FREE",e.PREMIUM="PREMIUM",e.ENTERPRISE="ENTERPRISE",e))(an||{}),et=(e=>(e.INCOME="INCOME",e.EXPENSE="EXPENSE",e))(et||{});function fv(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function hH(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(h){try{d(n.next(h))}catch(m){s(m)}}function u(h){try{d(n.throw(h))}catch(m){s(m)}}function d(h){h.done?i(h.value):a(h.value).then(o,u)}d((n=n.apply(e,t||[])).next())})}const mH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class H2 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class pH extends H2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class HI extends H2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class GI extends H2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nE||(nE={}));class gH{constructor(t,{headers:r={},customFetch:n,region:a=nE.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=mH(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hH(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:u,body:d,signal:h,timeout:m}=n;let g={},{region:x}=n;x||(x=this.region);const b=new URL(`${this.url}/${r}`);x&&x!=="any"&&(g["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let y;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(g["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(g["Content-Type"]="application/json",y=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?y=JSON.stringify(d):y=d;let _=h;m&&(s=new AbortController,i=setTimeout(()=>s.abort(),m),h?(_=s.signal,h.addEventListener("abort",()=>s.abort())):_=s.signal);const N=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:y,signal:_}).catch(j=>{throw new pH(j)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new HI(N);if(!N.ok)throw new GI(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return A==="application/json"?D=yield N.json():A==="application/octet-stream"||A==="application/pdf"?D=yield N.blob():A==="text/event-stream"?D=N:A==="multipart/form-data"?D=yield N.formData():D=yield N.text(),{data:D,error:null,response:N}}catch(o){return{data:null,error:o,response:o instanceof GI||o instanceof HI?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var xn={},ld={},cd={},ud={},dd={},fd={},xH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kd=xH();const vH=Kd.fetch,f5=Kd.fetch.bind(Kd),h5=Kd.Headers,yH=Kd.Request,bH=Kd.Response,wH=Object.freeze(Object.defineProperty({__proto__:null,Headers:h5,Request:yH,Response:bH,default:f5,fetch:vH},Symbol.toStringTag,{value:"Module"})),_H=tH(wH);var Lp={},qI;function m5(){if(qI)return Lp;qI=1,Object.defineProperty(Lp,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Lp.default=e,Lp}var WI;function p5(){if(WI)return fd;WI=1;var e=fd&&fd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fd,"__esModule",{value:!0});const t=e(_H),r=e(m5());class n{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,g,x;let b=null,y=null,_=null,N=d.status,k=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?y=O:y=JSON.parse(O))}const D=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),j=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");D&&j&&j.length>1&&(_=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(b={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,N=406,k="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const D=await d.text();try{b=JSON.parse(D),Array.isArray(b)&&d.status===404&&(y=[],b=null,N=200,k="OK")}catch{d.status===404&&D===""?(N=204,k="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,N=200,k="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:y,count:_,status:N,statusText:k}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,m,g;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=d==null?void 0:d.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,s)}returns(){return this}overrideTypes(){return this}}return fd.default=n,fd}var KI;function g5(){if(KI)return dd;KI=1;var e=dd&&dd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dd,"__esModule",{value:!0});const t=e(p5());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const u=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:u=!1,format:d="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return dd.default=r,dd}var YI;function G2(){if(YI)return ud;YI=1;var e=ud&&ud.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ud,"__esModule",{value:!0});const t=e(g5());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return ud.default=r,ud}var XI;function x5(){if(XI)return cd;XI=1;var e=cd&&cd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cd,"__esModule",{value:!0});const t=e(G2());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return cd.default=r,cd}var JI;function EH(){if(JI)return ld;JI=1;var e=ld&&ld.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ld,"__esModule",{value:!0});const t=e(x5()),r=e(G2());class n{constructor(i,{headers:s={},schema:o,fetch:u}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=u}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:u=!1,count:d}={}){var h;let m;const g=new URL(`${this.url}/rpc/${i}`);let x;o||u?(m=o?"HEAD":"GET",Object.entries(s).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{g.searchParams.append(y,_)})):(m="POST",x=s);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:m,url:g,headers:b,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ld.default=n,ld}var ZI;function SH(){if(ZI)return xn;ZI=1;var e=xn&&xn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xn,"__esModule",{value:!0}),xn.PostgrestError=xn.PostgrestBuilder=xn.PostgrestTransformBuilder=xn.PostgrestFilterBuilder=xn.PostgrestQueryBuilder=xn.PostgrestClient=void 0;const t=e(EH());xn.PostgrestClient=t.default;const r=e(x5());xn.PostgrestQueryBuilder=r.default;const n=e(G2());xn.PostgrestFilterBuilder=n.default;const a=e(g5());xn.PostgrestTransformBuilder=a.default;const i=e(p5());xn.PostgrestBuilder=i.default;const s=e(m5());return xn.PostgrestError=s.default,xn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},xn}var TH=SH();const NH=ds(TH),{PostgrestClient:AH,PostgrestQueryBuilder:lOe,PostgrestFilterBuilder:cOe,PostgrestTransformBuilder:uOe,PostgrestBuilder:dOe,PostgrestError:fOe}=NH;class CH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kH="2.90.1",IH=`realtime-js/${kH}`,v5="1.0.0",jH="2.0.0",QI=v5,aE=1e4,RH=1e3,OH=100;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Yi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yi||(Yi={}));var iE;(function(e){e.websocket="websocket"})(iE||(iE={}));var Ec;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ec||(Ec={}));class DH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+s.length+d.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(x),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,u.length),b.setUint8(y++,o.length),b.setUint8(y++,s.length),b.setUint8(y++,d.length),b.setUint8(y++,m.length),b.setUint8(y++,r),Array.from(u,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(o,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(s,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(d,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(m,N=>b.setUint8(y++,N.charCodeAt(0)));var _=new Uint8Array(x.byteLength+n.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(n),x.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,u]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let u=this.HEADER_LENGTH+4;const d=n.decode(t.slice(u,u+a));u=u+a;const h=n.decode(t.slice(u,u+i));u=u+i;const m=n.decode(t.slice(u,u+s));u=u+s;const g=t.slice(u,t.byteLength),x=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:h,payload:x};return s>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class y5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dr||(dr={}));const ej=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=MH(s,e,t,a),i),{}):{}},MH=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?b5(i,s):sE(s)},b5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BH(t,r)}switch(e){case dr.bool:return PH(t);case dr.float4:case dr.float8:case dr.int2:case dr.int4:case dr.int8:case dr.numeric:case dr.oid:return LH(t);case dr.json:case dr.jsonb:return FH(t);case dr.timestamp:return UH(t);case dr.abstime:case dr.date:case dr.daterange:case dr.int4range:case dr.int8range:case dr.money:case dr.reltime:case dr.text:case dr.time:case dr.timestamptz:case dr.timetz:case dr.tsrange:case dr.tstzrange:return sE(t);default:return sE(t)}},sE=e=>e,PH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},BH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>b5(t,o))}return e},UH=e=>typeof e=="string"?e.replace(" ","T"):e,w5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vb{constructor(t,r,n={},a=aE){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tj||(tj={}));class z0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=z0.syncState(this.state,a,i,s),this.pendingDiffs.forEach(u=>{this.state=z0.syncDiff(this.state,u,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=z0.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},u={};return this.map(i,(d,h)=>{s[d]||(u[d]=h)}),this.map(s,(d,h)=>{const m=i[d];if(m){const g=h.map(_=>_.presence_ref),x=m.map(_=>_.presence_ref),b=h.filter(_=>x.indexOf(_.presence_ref)<0),y=m.filter(_=>g.indexOf(_.presence_ref)<0);b.length>0&&(o[d]=b),y.length>0&&(u[d]=y)}else o[d]=h}),this.syncDiff(i,{joins:o,leaves:u},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,u)=>{var d;const h=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(u),h.length>0){const m=t[o].map(x=>x.presence_ref),g=h.filter(x=>m.indexOf(x.presence_ref)<0);t[o].unshift(...g)}n(o,h,u)}),this.map(s,(o,u)=>{let d=t[o];if(!d)return;const h=u.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[o]=d,a(o,d,u),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rj||(rj={}));var $0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($0||($0={}));var io;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(io||(io={}));class jd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vb(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new y5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new z0(this),this.broadcastEndpointURL=w5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:s,presence:o,private:u}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[$0.PRESENCE]&&this.bindings[$0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},g={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(io.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(io.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(io.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,N=[];for(let k=0;k<_;k++){const A=y[k],{filter:{event:D,schema:j,table:O,filter:I}}=A,M=x&&x[k];if(M&&M.event===D&&jd.isFilterValueEqual(M.schema,j)&&jd.isFilterValueEqual(M.table,O)&&jd.isFilterValueEqual(M.filter,I))N.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(io.SUBSCRIBED);return}}).receive("error",x=>{this.state=rn.errored,t==null||t(io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===$0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const d=await o.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Vb(this,Yi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Vb(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OH){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:u,leave:d,join:h}=Yi;if(n&&[o,u,d,h].indexOf(s)>=0&&n!==this._joinRef())return;let g=this._onMessage(s,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var b,y,_;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(y=x.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(x=>x.callback(g,n)):(i=this.bindings[s])===null||i===void 0||i.filter(x=>{var b,y,_,N,k,A,D,j;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const O=x.id,I=(b=x.filter)===null||b===void 0?void 0:b.event;return O&&((y=r.ids)===null||y===void 0?void 0:y.includes(O))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((N=x.filter)===null||N===void 0)&&N.table)||x.filter.table===((k=r.data)===null||k===void 0?void 0:k.table))}else{const O=(D=(A=x==null?void 0:x.filter)===null||A===void 0?void 0:A.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return O==="*"||O===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:y,table:_,commit_timestamp:N,type:k,errors:A}=b;g=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:N,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(b))}x.callback(g,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yi.close,{},t)}_onError(t){this._on(Yi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ej(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ej(t.columns,t.old_record)),r}}const Hb=()=>{},Fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zH=[1e3,2e3,5e3,1e4],$H=1e4,VH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HH{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aE,this.transport=null,this.heartbeatIntervalMs=Fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hb,this.ref=0,this.reconnectTimer=null,this.vsn=QI,this.logger=Hb,this.conn=null,this.sendBuffer=[],this.serializer=new DH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${iE.websocket}`,this.httpEndpoint=w5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return Ec.Connecting;case wl.open:return Ec.Open;case wl.closing:return Ec.Closing;default:return Ec.Closed}}isConnected(){return this.connectionState()===Ec.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RH,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${a} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===wl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wl.open||this.conn.readyState===wl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:IH};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Yi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new y5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,u,d,h,m,g,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:aE,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Fp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Hb,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:QI,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(b=>zH[b-1]||$H),this.vsn){case v5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((b,y)=>y(JSON.stringify(b))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((b,y)=>y(JSON.parse(b)));break;case jH:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var eh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GH(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function qH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function WH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=GH(e.baseUrl,n,a),u=await qH(e.auth),d=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...s},body:i?JSON.stringify(i):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),g=m&&h?JSON.parse(h):h;if(!d.ok){const x=m?g:void 0,b=x==null?void 0:x.error;throw new eh((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:x})}return{status:d.status,headers:d.headers,data:g}}}}function Bp(e){return e.join("")}var KH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bp(e.namespace)}`}),!0}catch(t){if(t instanceof eh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof eh&&r.status===409)return;throw r}}};function hd(e){return e.join("")}var YH=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof eh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof eh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},XH=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=WH({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new KH(this.client,t),this.tableOps=new YH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hv=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Tr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var JH=class extends hv{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oE=class extends hv{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const q2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZH=()=>Response,lE=e=>{if(Array.isArray(e))return e.map(r=>lE(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=lE(n)}),t},QH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function tG(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rG(e){var t=tG(e,"string");return th(t)=="symbol"?t:t+""}function nG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){nG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Gb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aG=async(e,t,r)=>{e instanceof await ZH()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new JH(Gb(n),a,i))}).catch(n=>{t(new oE(Gb(n),n))}):t(new oE(Gb(e),e))},iG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(QH(n)?(a.headers=mt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),mt(mt({},a),r))};async function Bh(e,t,r,n,a,i){return new Promise((s,o)=>{e(r,iG(t,n,a,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>aG(u,o,n))})}async function rh(e,t,r,n){return Bh(e,"GET",t,r,n)}async function Ki(e,t,r,n,a){return Bh(e,"POST",t,n,a,r)}async function cE(e,t,r,n,a){return Bh(e,"PUT",t,n,a,r)}async function sG(e,t,r,n){return Bh(e,"HEAD",t,mt(mt({},r),{},{noResolveJson:!0}),n)}async function W2(e,t,r,n,a){return Bh(e,"DELETE",t,n,a,r)}var oG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tr(t))return{data:null,error:t};throw t}}};let _5;_5=Symbol.toStringTag;var lG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_5]="BlobDownloadBuilder",this.promise=null}asStream(){return new oG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tr(t))return{data:null,error:t};throw t}}};const cG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uG=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=q2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const s=mt(mt({},aj),n);let o=mt(mt({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",a.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),u&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(u))):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,u&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=mt(mt({},o),n.headers));const d=a._removeEmptyFolders(t),h=a._getFinalPath(d),m=await(e=="PUT"?cE:Ki)(a.fetch,`${a.url}/object/${h}`,i,mt({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),o=new URL(a.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let u;const d=mt({upsert:aj.upsert},n),h=mt(mt({},a.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{data:{path:i,fullPath:(await cE(a.fetch,o.toString(),u,{headers:h})).Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Tr(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=mt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Ki(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),o=s.searchParams.get("token");if(!o)throw new hv("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ki(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ki(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Ki(n.fetch,`${n.url}/object/sign/${a}`,mt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Ki(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>mt(mt({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>rh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new lG(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:lE(await rh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await sG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tr(n)&&n instanceof oE){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await W2(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=mt(mt(mt({},cG),t),{},{prefix:e||""});return{data:await Ki(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=mt({},e);return{data:await Ki(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const E5="2.90.1",S5={"X-Client-Info":`storage-js/${E5}`};var dG=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=mt(mt({},S5),t),this.fetch=q2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await rh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await rh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ki(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await cE(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ki(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await W2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},fG=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=mt(mt({},S5),t),this.fetch=q2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ki(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await rh(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await W2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!eG(e))throw new hv("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new XH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(a,o),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}};const K2={"X-Client-Info":`storage-js/${E5}`,"Content-Type":"application/json"};var T5=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ka(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var qb=class extends T5{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hG=class extends T5{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Y2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ij=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pG=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const s=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new qb(ij(i),n,s))}).catch(()=>{const i=n+"";t(new qb(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new qb(a.statusText||`HTTP ${n} error`,n,i))}}else t(new hG(ij(e),e))},gG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(mG(n)?(a.headers=mt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,mt(mt({},a),r)):a};async function xG(e,t,r,n,a,i){return new Promise((s,o)=>{e(r,gG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>s(u)).catch(u=>pG(u,o,n))})}async function Ya(e,t,r,n,a){return xG(e,"POST",t,n,a,r)}var vG=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=mt(mt({},K2),t),this.fetch=Y2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ya(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ya(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}}},yG=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=mt(mt({},K2),t),this.fetch=Y2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ya(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ya(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ya(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}},bG=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=mt(mt({},K2),t),this.fetch=Y2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}}},wG=class extends bG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _G(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},_G=class extends vG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new EG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},EG=class extends yG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,mt(mt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},SG=class extends dG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new uG(this.url,this.headers,e,this.fetch)}get vectors(){return new wG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fG(this.url+"/iceberg",this.headers,this.fetch)}};const TG="2.39.3";let O0="";typeof Deno<"u"?O0="deno":typeof document<"u"?O0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?O0="react-native":O0="node";const NG={"X-Client-Info":`supabase-js-${O0}/${TG}`};var AG=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(h){try{d(n.next(h))}catch(m){s(m)}}function u(h){try{d(n.throw(h))}catch(m){s(m)}}function d(h){h.done?i(h.value):a(h.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const CG=e=>{let t;return e?t=e:typeof fetch>"u"?t=f5:t=fetch,(...r)=>t(...r)},kG=()=>typeof Headers>"u"?h5:Headers,IG=(e,t,r)=>{const n=CG(r),a=kG();return(i,s)=>AG(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},s),{headers:d}))})};function jG(e){return e.replace(/\/$/,"")}function RG(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:u,global:d}=t;return{db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign({},d),i)}}const N5="2.90.1",Nd=30*1e3,uE=3,Wb=uE*Nd,OG="http://localhost:9999",DG="supabase.auth.token",MG={"X-Client-Info":`gotrue-js/${N5}`},dE="X-Supabase-Api-Version",A5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LG=600*1e3;class nh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function st(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class FG extends nh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BG(e){return st(e)&&e.name==="AuthApiError"}class Sc extends nh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ro extends nh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ha extends Ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UG(e){return st(e)&&e.name==="AuthSessionMissingError"}class md extends Ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Up extends Ro{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zp extends Ro{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zG(e){return st(e)&&e.name==="AuthImplicitGrantRedirectError"}class sj extends Ro{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $G extends Ro{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fE extends Ro{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Kb(e){return st(e)&&e.name==="AuthRetryableFetchError"}class oj extends Ro{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hE extends Ro{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lj=` 	
\r=`.split(""),VG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lj.length;t+=1)e[lj[t].charCodeAt(0)]=-2;for(let t=0;t<Lg.length;t+=1)e[Lg[t].charCodeAt(0)]=t;return e})();function cj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lg[n]),t.queuedBits-=6}}function C5(e,t,r){const n=VG[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uj(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{qG(s,n,r)};for(let s=0;s<e.length;s+=1)C5(e.charCodeAt(s),a,i);return t.join("")}function HG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}HG(n,t)}}function qG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)C5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function WG(e){const t=[];return GG(e,r=>t.push(r)),new Uint8Array(t)}function Nc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>cj(a,r,n)),cj(null,r,n),t.join("")}function KG(e){return Math.round(Date.now()/1e3)+e}function YG(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",gc={tested:!1,writable:!1},k5=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gc.tested)return gc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gc.tested=!0,gc.writable=!0}catch{gc.tested=!0,gc.writable=!1}return gc.writable};function XG(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const I5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ad=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mn=async(e,t)=>{await e.removeItem(t)};class mv{constructor(){this.promise=new mv.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mv.promiseConstructor=Promise;function Yb(e){const t=e.split(".");if(t.length!==3)throw new hE("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PG.test(t[n]))throw new hE("JWT not in base64url format");return{header:JSON.parse(uj(t[0])),payload:JSON.parse(uj(t[1])),signature:Fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QG(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function eq(e){return("0"+e.toString(16)).substr(-2)}function tq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,eq).join("")}async function rq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function nq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(e,t,r=!1){const n=tq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ad(e,`${t}-code-verifier`,a);const i=await nq(n);return[i,n===i?"plain":"s256"]}const aq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iq(e){const t=e.headers.get(dE);if(!t||!t.match(aq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(e){if(!lq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cq(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function dj(e){return JSON.parse(JSON.stringify(e))}const vc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uq=[502,503,504];async function fj(e){var t;if(!JG(e))throw new fE(vc(e),0);if(uq.includes(e.status))throw new fE(vc(e),e.status);let r;try{r=await e.json()}catch(i){throw new Sc(vc(i),i)}let n;const a=iq(e);if(a&&a.getTime()>=A5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new oj(vc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ha}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new oj(vc(r),e.status,r.weak_password.reasons);throw new FG(vc(r),e.status||500,n)}const dq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ht(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[dE]||(i[dE]=A5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await fq(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function fq(e,t,r,n,a,i){const s=dq(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(u){throw console.error(u),new fE(vc(u),0)}if(o.ok||await fj(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await fj(u)}}function Wi(e){var t;let r=null;pq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function hj(e){const t=Wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hq(e){return{data:e,error:null}}function mq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=fv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},u=Object.assign({},s);return{data:{properties:o,user:u},error:null}}function mj(e){return e}function pq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jb=["global","local","others"];class gq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Jb[0]){if(Jb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jb.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sl})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fv(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:mq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(st(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sl})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mj});if(h.error)throw h.error;const m=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(u=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=y}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(st(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){gd(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sl})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){gd(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sl})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){gd(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sl})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){gd(t.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteFactor(t){gd(t.userId),gd(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mj});if(h.error)throw h.error;const m=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(u=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=y}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(st(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}}function pj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xd={debug:!!(globalThis&&k5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xq extends j5{}async function vq(e,t,r){xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function yq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function bq(e){return parseInt(e,16)}function wq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _q(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:u,resources:d,scheme:h,uri:m,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=R5(e.address),b=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${x}

${y}`;let N=`URI: ${m}
Version: ${g}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),o&&(N+=`
Not Before: ${o.toISOString()}`),u&&(N+=`
Request ID: ${u}`),d){let k=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}N+=k}return`${_}
${N}`}class Jr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Fg extends Jr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Eq({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Jr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Jr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(O5(s)){if(i.rp.id!==s)return new Jr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Jr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(O5(n)){if(r.rpId!==n)return new Jr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Tq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nq=new Tq;function Aq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=fv(e,["challenge","user","excludeCredentials"]),i=Fd(t).buffer,s=Object.assign(Object.assign({},r),{id:Fd(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Fd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function Cq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fv(e,["challenge","allowCredentials"]),a=Fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Fd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function kq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Iq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nc(new Uint8Array(a.authenticatorData)),clientDataJSON:Nc(new Uint8Array(a.clientDataJSON)),signature:Nc(new Uint8Array(a.signature)),userHandle:a.userHandle?Nc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gj(){var e,t;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jq(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fg("Browser returned unexpected credential type",t)}:{data:null,error:new Fg("Empty credential response",t)}}catch(t){return{data:null,error:Eq({error:t,options:e})}}}async function Rq(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fg("Browser returned unexpected credential type",t)}:{data:null,error:new Fg("Empty credential response",t)}}catch(t){return{data:null,error:Sq({error:t,options:e})}}}const Oq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bg(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Bg(o,s):n[i]=Bg(s)}else n[i]=s}return n}function Mq(e,t){return Bg(Oq,e,t||{})}function Pq(e,t){return Bg(Dq,e,t||{})}class Lq{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const u=a??Nq.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=Mq(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:m}=await jq({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=Pq(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:m}=await Rq(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return st(s)?{data:null,error:s}:{data:null,error:new Sc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new nh("rpId is required for WebAuthn authentication")};try{if(!gj())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:u}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(s){return st(s)?{data:null,error:s}:{data:null,error:new Sc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new nh("rpId is required for WebAuthn registration")};try{if(!gj())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:u,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return u?this._verify({factorId:s.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(s){return st(s)?{data:null,error:s}:{data:null,error:new Sc("Unexpected error in register",s)}}}}yq();const Fq={url:OG,storageKey:DG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xj(e,t,r){return await r()}const vd={};class ah{get jwks(){var t,r;return(r=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Fq),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ah.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ah.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gq({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=I5(i.fetch),this.lock=i.lock||xj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Pn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vq:this.lock=xj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Lq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:k5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=pj(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${N5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pn()&&(r=XG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zG(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return st(r)?this._returnResult({error:r}):this._returnResult({error:new Sc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wi}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:h,password:m,options:g}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await pd(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:b},xform:Wi})}else if("phone"in t){const{phone:h,password:m,options:g}=t;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Wi})}else throw new Up("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return await Mn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hj})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hj})}else throw new Up("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new md;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,u,d,h,m,g;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:_,statement:N,options:k}=t;let A;if(Pn())if(typeof _=="object")A=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")A=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const D=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),j=await A.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=R5(j[0]);let I=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const R=await A.request({method:"eth_chainId"});I=bq(R)}const M={domain:D.host,address:O,statement:N,uri:D.href,version:"1",chainId:I,nonce:(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=_q(M),b=await A.request({method:"personal_sign",params:[wq(x),O]})}try{const{data:y,error:_}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Wi});if(_)throw _;if(!y||!y.session||!y.user){const N=new md;return this._returnResult({data:{user:null,session:null},error:N})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(st(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,s,o,u,d,h,m,g,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:_,wallet:N,statement:k,options:A}=t;let D;if(Pn())if(typeof N=="object")D=N;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))D=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const j=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const O=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),k?{statement:k}:null));let I;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")I=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)I=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)b=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),y=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=A==null?void 0:A.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(h=A==null?void 0:A.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const O=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=O}}try{const{data:_,error:N}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Nc(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wi});if(N)throw N;if(!_||!_.session||!_.user){const k=new md;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(st(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await xc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $G;const{data:i,error:s}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Wi});if(await Mn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new md;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wi}),{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new md;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await pd(this.storage,this.storageKey));const{error:m}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:o,options:u}=t,{data:d,error:h}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Up("You must provide either an email or phone number.")}catch(o){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Wi});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,d=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(st(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,u=null;this.flowType==="pkce"&&([o,u]=await pd(this.storage,this.storageKey));const d=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:hq});return!((i=d.data)===null||i===void 0)&&i.url&&Pn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ha;const{error:a}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(st(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Up("You must provide either an email or phone number and a type")}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await xc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Xb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=cq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sl}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ha}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Sl})})}catch(r){if(st(r))return UG(r)&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ha;const s=a.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await pd(this.storage,this.storageKey));const{data:d,error:h}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:s.access_token,xform:Sl});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ha;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Yb(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(st(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ha;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pn())throw new zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sj("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:u,token_type:d}=t;if(!i||!o||!s||!d)throw new zp("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(o);let g=h+m;u&&(g=parseInt(u));const x=g-h;x*1e3<=Nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const b=g-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:y,error:_}=await this._getUser(i);if(_)throw _;const N={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:g,refresh_token:s,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(st(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(BG(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=YG(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await pd(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,u,d,h;const{data:m,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Pn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(st(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:u,access_token:d,nonce:h}=t,m=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wi}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new md}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(a){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),st(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QG(async a=>(a>0&&await ZG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wi})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Kb(i)&&Date.now()+s-n<Nd})}catch(n){if(this._debug(r,"error",n),st(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await xc(this.storage,this.storageKey);if(a&&this.userStorage){let s=await xc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Ad(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Xb()}else if(a&&!a.user&&!a.user){const s=await xc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Mn(this.storage,this.storageKey+"-user"),await Ad(this.storage,this.storageKey,a)):a.user=Xb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wb;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wb}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Kb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new mv;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Ha;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),st(i)){const s={data:null,error:i};return Kb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ad(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=dj(a);await Ad(this.storage,this.storageKey,i)}else{const a=dj(r);await Ad(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mn(this.storage,this.storageKey),await Mn(this.storage,this.storageKey+"-code-verifier"),await Mn(this.storage,this.storageKey+"-user"),this.userStorage&&await Mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Nd}ms, refresh threshold is ${uE} ticks`),a<=uE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await pd(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((a=u==null?void 0:u.totp)===null||a===void 0)&&a.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kq(t.webauthn.credential_response):Iq(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:u}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Aq(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Cq(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Yb(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ha})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ha});const s=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ha});const s=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ht(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ha})})}catch(t){if(st(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ht(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ha})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+LG>a)return n;const{data:i,error:s}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});n=x.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:u}}=Yb(n);r!=null&&r.allowExpired||sq(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:s},error:null}}const h=oq(a.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,WG(`${o}.${u}`)))throw new hE("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}}ah.nextInstanceID={};class Bq extends ah{constructor(t){super(t)}}var Uq=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(h){try{d(n.next(h))}catch(m){s(m)}}function u(h){try{d(n.throw(h))}catch(m){s(m)}}function d(h){h.done?i(h.value):a(h.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const zq={headers:NG},$q={schema:"public"},Vq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hq={};class Gq{constructor(t,r,n){var a,i,s,o,u,d,h,m;if(this.supabaseUrl=t,this.supabaseKey=r,this.from=_=>this.rest.from(_),this.schema=_=>this.rest.schema(_),this.rpc=(_,N={},k)=>this.rest.rpc(_,N,k),!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=jG(t);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,b={db:$q,realtime:Hq,auth:Object.assign(Object.assign({},Vq),{storageKey:x}),global:zq},y=RG(n??{},b);this.storageKey=(i=(a=y.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=(s=y.global)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{},this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,(d=y.global)===null||d===void 0?void 0:d.fetch),this.fetch=IG(r,this._getAccessToken.bind(this),(h=y.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new AH(`${g}/rest/v1`,{headers:this.headers,schema:(m=y.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new gH(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new SG(this.storageUrl,this.headers,this.fetch)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Uq(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,debug:o},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bq({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,debug:o,fetch:d})}_initRealtimeClient(t){return new HH(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qq=(e,t,r)=>new Gq(e,t,r),Wq="https://nlqacjtvtnjtijrjpeib.supabase.co",Kq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5scWFjanR2dG5qdGlqcmpwZWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgwNzQ2ODAsImV4cCI6MjA4MzY1MDY4MH0.pB2YZHHkYcdC1TwHsxNj-flcZUHCtgdnhQh9_523MUQ",Je=qq(Wq,Kq),Qr={async fetchTransactions(e){try{const{data:t,error:r}=await Je.from("transactions").select("*").eq("company_id",e).order("date",{ascending:!1});return r?(console.error("Error fetching transactions:",r.message),null):t.map(n=>({id:n.id,companyId:n.company_id,description:n.description,amount:Number(n.amount),type:n.type,category:n.category,date:n.date,status:n.status,accountId:n.account_id,costCenterId:n.cost_center_id,payments:[],recurrence:void 0,documentNumber:n.document_number,observation:n.observation}))}catch(t){return console.error("Exception fetching transactions:",t),null}},async createTransaction(e){try{const t={company_id:e.companyId,account_id:e.accountId||null,cost_center_id:e.costCenterId||null,description:e.description,amount:e.amount,type:e.type,category:e.category,date:e.date,status:e.status||"PENDING",document_number:e.documentNumber,observation:e.observation},{data:r,error:n}=await Je.from("transactions").insert([t]).select().single();if(n)throw n;return e.status==="PAID"&&e.accountId&&await this.updateAccountBalance(e.accountId,e.amount,e.type),{...e,id:r.id}}catch(t){return console.error("Error creating transaction:",t),null}},async updateTransaction(e,t){try{const r={};t.description&&(r.description=t.description),t.amount&&(r.amount=t.amount),t.date&&(r.date=t.date),t.status&&(r.status=t.status),t.category&&(r.category=t.category),t.accountId&&(r.account_id=t.accountId),t.costCenterId&&(r.cost_center_id=t.costCenterId);const{error:n}=await Je.from("transactions").update(r).eq("id",e);if(n)throw n;return!0}catch(r){return console.error("Error updating transaction:",r),!1}},async deleteTransaction(e){const{error:t}=await Je.from("transactions").delete().eq("id",e);return!t},async fetchAccounts(e){const{data:t,error:r}=await Je.from("financial_accounts").select("*").eq("company_id",e);return r?null:t.map(n=>({id:n.id,companyId:n.company_id,name:n.name,type:n.type,balance:Number(n.balance),status:n.status,bankName:n.bank_name,agency:n.agency,accountNumber:n.account_number}))},async createAccount(e){const t={company_id:e.companyId,name:e.name,type:e.type,balance:e.balance||0,status:e.status||"ACTIVE",bank_name:e.bankName,agency:e.agency,account_number:e.accountNumber},{data:r,error:n}=await Je.from("financial_accounts").insert([t]).select().single();return n?(console.error("Error creating account",n),null):{...e,id:r.id}},async updateAccountBalance(e,t,r){const{data:n}=await Je.from("financial_accounts").select("balance").eq("id",e).single();if(!n)return;const a=r===et.INCOME?Number(n.balance)+Number(t):Number(n.balance)-Number(t);await Je.from("financial_accounts").update({balance:a}).eq("id",e)},async updateAccount(e,t){const r={};t.name&&(r.name=t.name),t.type&&(r.type=t.type),t.balance!==void 0&&(r.balance=t.balance),t.bankName&&(r.bank_name=t.bankName),t.agency&&(r.agency=t.agency),t.accountNumber&&(r.account_number=t.accountNumber),t.status&&(r.status=t.status),await Je.from("financial_accounts").update(r).eq("id",e)},async deleteAccount(e){await Je.from("financial_accounts").delete().eq("id",e)},async fetchCategories(e){const{data:t,error:r}=await Je.from("financial_categories").select("*").eq("company_id",e);return r?null:t.map(n=>({id:n.id,companyId:n.company_id,name:n.name,type:n.type,color:n.color,active:n.active,isSystemDefault:n.is_system_default}))},async createCategory(e){const{data:t,error:r}=await Je.from("financial_categories").insert([{company_id:e.companyId,name:e.name,type:e.type,color:e.color,active:!0}]).select().single();return r?null:{...e,id:t.id}},async deleteCategory(e){await Je.from("financial_categories").delete().eq("id",e)},async fetchCostCenters(e){const{data:t,error:r}=await Je.from("cost_centers").select("*").eq("company_id",e);return r?null:t.map(n=>({id:n.id,companyId:n.company_id,name:n.name,code:n.code,description:n.description,budget:Number(n.budget),period:n.period,status:n.status}))},async createCostCenter(e){const{data:t,error:r}=await Je.from("cost_centers").insert([{company_id:e.companyId,name:e.name,code:e.code,description:e.description,budget:e.budget,period:e.period||"MONTHLY",status:"ACTIVE"}]).select().single();return r?null:{...e,id:t.id}},async updateCostCenter(e,t){const r={};t.name&&(r.name=t.name),t.code&&(r.code=t.code),t.description&&(r.description=t.description),t.budget!==void 0&&(r.budget=t.budget),t.period&&(r.period=t.period),t.status&&(r.status=t.status),await Je.from("cost_centers").update(r).eq("id",e)},async deleteCostCenter(e){await Je.from("cost_centers").delete().eq("id",e)},async fetchDRETemplates(e){const{data:t,error:r}=await Je.from("dre_templates").select("*").eq("company_id",e).eq("active",!0);return r?null:t.map(n=>({id:n.id,name:n.name,companyId:n.company_id,structureType:n.structure_type,active:n.active,isSystemDefault:n.is_system_default}))},async fetchDRELines(e){const{data:t,error:r}=await Je.from("dre_line_items").select("*").eq("template_id",e).order("order_index",{ascending:!0});if(r)return console.error("Error fetching DRE lines",r),null;const{data:n,error:a}=await Je.from("dre_mappings").select("*").in("line_item_id",t.map(i=>i.id));return a?(console.error("Error fetching DRE mappings",a),null):t.map(i=>{const s=n.filter(o=>o.line_item_id===i.id).map(o=>({id:o.id,type:o.linked_type,itemId:o.linked_id,operation:o.operation}));return{id:i.id,templateId:i.template_id,name:i.name,type:i.type,order:i.order_index,parentId:i.parent_id,mappings:s}})}},Or={async fetchFunnelStages(e){const{data:t}=await Je.from("crm_funnel_stages").select("*").eq("company_id",e).order("order",{ascending:!0});return(t||[]).map(r=>({id:r.id,name:r.name,order:r.order,color:r.color,companyId:r.company_id}))},async createFunnelStage(e){const{data:t,error:r}=await Je.from("crm_funnel_stages").insert([{company_id:e.companyId,name:e.name,order:e.order,color:e.color,is_system_default:!1}]).select().single();return r?null:{id:t.id,name:t.name,order:t.order,color:t.color,companyId:t.company_id}},async deleteFunnelStage(e){await Je.from("crm_funnel_stages").delete().eq("id",e)},async batchUpdateLeadsStatus(e,t){e.length!==0&&await Je.from("crm_leads").update({status:t}).in("id",e)},async fetchLeads(e){const{data:t,error:r}=await Je.from("crm_leads").select("*").eq("company_id",e).order("created_at",{ascending:!1});return r?[]:t.map(n=>({id:n.id,name:n.name,companyName:n.company_name,email:n.email,phone:n.phone,status:n.status,source:n.source,value:Number(n.value),notes:n.notes,assignedToId:n.assigned_to,createdAt:n.created_at,companyId:n.company_id,serviceInterest:n.service_interest,segment:n.segment,revenue:Number(n.revenue),pain:n.pain,nextAction:n.next_action,nextActionDate:n.next_action_date,lossReason:n.loss_reason}))},async createLead(e){const{data:t,error:r}=await Je.from("crm_leads").insert([{company_id:e.companyId,name:e.name,company_name:e.companyName,email:e.email,phone:e.phone,status:e.status||"NEW",source:e.source,value:e.value||0,notes:e.notes,assigned_to:e.assignedToId,service_interest:e.serviceInterest,segment:e.segment,revenue:e.revenue,pain:e.pain,next_action:e.nextAction,next_action_date:e.nextActionDate}]).select().single();return r?null:{...e,id:t.id}},async updateLead(e,t){const r={};t.name!==void 0&&(r.name=t.name),t.status!==void 0&&(r.status=t.status),t.value!==void 0&&(r.value=t.value),t.notes!==void 0&&(r.notes=t.notes),t.email!==void 0&&(r.email=t.email),t.phone!==void 0&&(r.phone=t.phone),t.serviceInterest!==void 0&&(r.service_interest=t.serviceInterest),t.source!==void 0&&(r.source=t.source),t.segment!==void 0&&(r.segment=t.segment),t.revenue!==void 0&&(r.revenue=t.revenue),t.pain!==void 0&&(r.pain=t.pain),t.nextAction!==void 0&&(r.next_action=t.nextAction),t.nextActionDate!==void 0&&(r.next_action_date=t.nextActionDate),t.lossReason!==void 0&&(r.loss_reason=t.lossReason);const{error:n}=await Je.from("crm_leads").update(r).eq("id",e);return!n},async deleteLead(e){await Je.from("crm_leads").delete().eq("id",e)},async fetchTasks(e){const{data:t,error:r}=await Je.from("tasks").select("*").eq("company_id",e).order("due_date",{ascending:!0});return r?[]:t.map(n=>({id:n.id,title:n.title,description:n.description,dueDate:n.due_date,priority:n.priority,status:n.status,assignedToId:n.assigned_to,linkedLeadId:n.related_lead_id,linkedCompanyId:n.company_id,type:n.task_type,relatedClientId:n.related_client_id,recurrence:n.recurrence_rule?{rule:n.recurrence_rule,endDate:n.recurrence_end}:void 0}))},async createTask(e){var n,a;const{data:t,error:r}=await Je.from("tasks").insert([{company_id:e.linkedCompanyId,title:e.title,description:e.description,due_date:e.dueDate,priority:e.priority||"MEDIUM",status:e.status||"PENDING",assigned_to:e.assignedToId,related_lead_id:e.linkedLeadId,created_by:e.assignedToId,task_type:e.type||"GENERAL",related_client_id:e.relatedClientId,recurrence_rule:(n=e.recurrence)==null?void 0:n.rule,recurrence_end:(a=e.recurrence)==null?void 0:a.endDate}]).select().single();return r?null:{...e,id:t.id}},async updateTask(e,t){const r={};t.status&&(r.status=t.status),t.title&&(r.title=t.title),t.dueDate&&(r.due_date=t.dueDate),await Je.from("tasks").update(r).eq("id",e)},async deleteTask(e){await Je.from("tasks").delete().eq("id",e)},async fetchGlobalLeads(e){if(!e.length)return[];const{data:t,error:r}=await Je.from("crm_leads").select("*").in("company_id",e).order("created_at",{ascending:!1});return r?[]:t.map(n=>({id:n.id,name:n.name,companyName:n.company_name,email:n.email,phone:n.phone,status:n.status,source:n.source,value:Number(n.value),notes:n.notes,assignedToId:n.assigned_to,createdAt:n.created_at,companyId:n.company_id,serviceInterest:n.service_interest,segment:n.segment,revenue:Number(n.revenue),pain:n.pain,nextAction:n.next_action,nextActionDate:n.next_action_date,lossReason:n.loss_reason}))},async fetchGlobalTasks(e){if(!e.length)return[];const{data:t,error:r}=await Je.from("tasks").select("*").in("company_id",e).order("due_date",{ascending:!0});return r?[]:t.map(n=>({id:n.id,title:n.title,description:n.description,dueDate:n.due_date,priority:n.priority,status:n.status,assignedToId:n.assigned_to,linkedLeadId:n.related_lead_id,linkedCompanyId:n.company_id,type:n.task_type,relatedClientId:n.related_client_id,recurrence:n.recurrence_rule?{rule:n.recurrence_rule,endDate:n.recurrence_end}:void 0}))}},ka={async fetchCompanies(){var e;try{const{data:{user:t}}=await Je.auth.getUser();if(!t)return null;const{data:r,error:n}=await Je.from("companies").select("*, company_members(user_id, role)").order("created_at",{ascending:!1});if(n)return console.error("Error fetching companies:",n.message),null;const a=[];for(const i of r){const s=(e=i.company_members)==null?void 0:e.find(m=>m.user_id===t.id),u=(s==null?void 0:s.role)==="OWNER",d=i.created_by===t.id,h=i.api_token&&i.api_token.trim().length>0;(u||d||h)&&a.push({...i,primaryColor:i.primary_color,createdAt:i.created_at,createdBy:i.created_by,apiToken:i.api_token,apiTokenDescription:i.api_token_description,serviceType:i.service_type})}return a}catch(t){return console.error("Exception fetching companies:",t),null}},async getCompanyById(e){try{const{data:t,error:r}=await Je.from("companies").select("*").eq("id",e).single();if(r)throw r;return t?{...t,primaryColor:t.primary_color,createdAt:t.created_at,apiToken:t.api_token,apiTokenDescription:t.api_token_description,serviceType:t.service_type}:null}catch(t){return console.error(`Error fetching company ${e}:`,t),null}},async ensureCurrentUserProfile(){var e;try{const{data:{user:t}}=await Je.auth.getUser();if(!t)return;const{data:r}=await Je.from("profiles").select("id").eq("id",t.id).single();if(!r){console.log("Profile missing for user, creating...");const{error:n}=await Je.from("profiles").insert([{id:t.id,email:t.email,name:t.user_metadata.name||((e=t.email)==null?void 0:e.split("@")[0])||"User",role:"ADMIN"}]);n&&console.error("Error creating missing profile:",n)}}catch(t){console.error("Error ensuring profile:",t)}},async createCompany(e){try{const{data:{user:t}}=await Je.auth.getUser();if(!t)return{data:null,error:"User not authenticated"};const r=e.cnpj?e.cnpj.replace(/\D/g,""):"";if(!r)return{data:null,error:"CNPJ  obrigatrio."};const{data:n,error:a}=await Je.rpc("get_company_by_cnpj",{p_cnpj:r});if(a&&console.error("Error checking CNPJ:",a),n&&n.length>0){const d=n[0];console.log("Company exists, joining:",d.name);const{error:h}=await Je.rpc("join_existing_company",{company_id:d.id});return h?{data:null,error:"Erro ao vincular-se  empresa existente: "+h.message}:await this.getCompanyById(d.id).then(m=>({data:m,error:null,isExisting:!0}))}const i={name:e.name,cnpj:r,plan:e.plan||"FREE",active:!0,primary_color:e.primaryColor||"#4f46e5",created_by:t.id};e.phone&&(i.phone=e.phone),e.address&&(i.address=e.address),e.logo&&(i.logo=e.logo),e.serviceType&&(i.service_type=e.serviceType);const{data:s,error:o}=await Je.from("companies").insert(i).select().single();return o?o.code==="23505"?{data:null,error:"Esta empresa j est cadastrada (CNPJ). Tente novamente para se vincular."}:(console.error("Error creating company:",o.message),{data:null,error:o.message}):{data:{...s,primaryColor:s.primary_color,createdAt:s.created_at,createdBy:s.created_by,apiToken:s.api_token,apiTokenDescription:s.api_token_description,serviceType:s.service_type},error:null,isExisting:!1}}catch(t){return console.error("Exception creating company:",t),{data:null,error:t.message||"Unknown error"}}},async updateCompany(e,t){try{const r={};t.name&&(r.name=t.name),t.cnpj&&(r.cnpj=t.cnpj),t.plan&&(r.plan=t.plan),t.active!==void 0&&(r.active=t.active),t.primaryColor&&(r.primary_color=t.primaryColor),t.phone&&(r.phone=t.phone),t.address&&(r.address=t.address),t.logo&&(r.logo=t.logo),t.apiToken!==void 0&&(r.api_token=t.apiToken),t.apiTokenDescription!==void 0&&(r.api_token_description=t.apiTokenDescription),t.serviceType&&(r.service_type=t.serviceType);const{error:n}=await Je.from("companies").update(r).eq("id",e);return n?(console.error("Error updating company:",n.message),!1):!0}catch(r){return console.error("Exception updating company:",r),!1}},async importCompany(e){try{const{data:t,error:r}=await Je.rpc("join_company_via_token",{_token:e});return r?(console.error("RPC Error importing company:",r),{success:!1,message:"Erro ao processar importao."}):{success:(t==null?void 0:t.success)||!1,message:(t==null?void 0:t.message)||"Resposta invlida do servidor."}}catch(t){return console.error("Exception importing company:",t),{success:!1,message:"Erro interno ao processar solicitao."}}},async leaveCompany(e){try{const{data:t,error:r}=await Je.rpc("leave_company",{_company_id:e});return r?(console.error("RPC Error leaving company:",r),{success:!1,message:r.message}):{success:(t==null?void 0:t.success)||!1,message:(t==null?void 0:t.message)||"Erro desconhecido ao sair da empresa."}}catch(t){return console.error("Exception leaving company:",t),{success:!1,message:"Erro interno: "+t.message}}},async deleteCompany(e){try{const{error:t}=await Je.from("companies").delete().eq("id",e);return t?(console.error("Error deleting company:",t.message),!1):!0}catch(t){return console.error("Exception deleting company:",t),!1}}},Zb=async e=>{var i,s,o,u;if(!e)return null;let t=((i=e.user_metadata)==null?void 0:i.role)||Xe.ADMIN,r=((s=e.user_metadata)==null?void 0:s.name)||((o=e.email)==null?void 0:o.split("@")[0])||"Usurio",n=(u=e.user_metadata)==null?void 0:u.avatar_url,a=[];try{const{data:d,error:h}=await Je.from("profiles").select("*").eq("id",e.id).maybeSingle();!h&&d?(t=d.role||t,r=d.name||r,n=d.avatar_url||n):h&&console.warn("Aviso: No foi possvel carregar tabela 'profiles'. Usando dados da sesso.",h.message);const{data:m,error:g}=await Je.from("company_members").select("company_id").eq("user_id",e.id);!g&&m&&m.length>0?a=m.map(x=>x.company_id):g&&console.warn("Aviso: No foi possvel carregar tabela 'company_members'.",g.message)}catch(d){console.error("Erro no obstrutivo ao mapear usurio:",d)}return{id:e.id,email:e.email||"",name:r,role:t,linkedCompanyIds:a,permissions:[],avatar:n}},Ug={async signIn(e,t){try{const{data:r,error:n}=await Je.auth.signInWithPassword({email:e,password:t});if(n){console.error("Supabase login error:",n.message);let a="Erro ao realizar login.";return n.message.includes("Invalid login credentials")?a="Email ou senha incorretos.":n.message.includes("Email not confirmed")?a="Email no confirmado. Verifique sua caixa de entrada.":n.message.includes("Too many requests")&&(a="Muitas tentativas. Tente novamente mais tarde."),{user:null,error:a}}if(r.user){const a=await Zb(r.user);return a?{user:a,error:null}:{user:null,error:"Erro crtico: Usurio autenticado mas sem dados de sesso."}}return{user:null,error:"Erro desconhecido ao obter sesso."}}catch(r){return console.error("Auth Exception:",r),{user:null,error:"Falha na conexo. Verifique sua internet."}}},async signUp(e,t,r){try{const{data:n,error:a}=await Je.auth.signUp({email:e,password:t,options:{data:{name:r.name,role:r.role}}});return a?(console.error("Sign up error:",a.message),{user:null,error:a.message}):n.user?{user:await Zb(n.user),error:null}:{user:null,error:"Verifique seu email para confirmar o cadastro."}}catch(n){return console.error("Sign Up Exception:",n),{user:null,error:"Erro ao realizar cadastro."}}},async signOut(){await Je.auth.signOut()},async getCurrentSessionUser(){try{const{data:{session:e},error:t}=await Je.auth.getSession();if(t)return console.warn("No active session found:",t.message),null;if(e!=null&&e.user)return await Zb(e.user)}catch(e){console.error("Session check exception",e)}return null}};let Nl=[{id:"1",name:"Tech Solutions",cnpj:"12.345.678/0001-99",plan:an.PREMIUM,active:!0,primaryColor:"indigo"},{id:"2",name:"Consultoria Silva",cnpj:"98.765.432/0001-11",plan:an.FREE,active:!0,primaryColor:"emerald"},{id:"3",name:"Padaria do Joo",cnpj:"11.222.333/0001-44",plan:an.ENTERPRISE,active:!1,primaryColor:"orange"}];const Yq=["VIEW_DASHBOARD","VIEW_TRANSACTIONS","EDIT_TRANSACTIONS","VIEW_GOALS","VIEW_COST_CENTERS","VIEW_ASSETS","VIEW_REPORTS","USE_AI","VIEW_SETTINGS","MANAGE_USERS","VIEW_CRM","VIEW_TASKS","VIEW_LEADS","MANAGE_COMPANIES"];let Rc=[{id:"u1",name:"Admin Geral",email:"admin@fingestao.com",role:Xe.ADMIN,linkedCompanyIds:["1","2"],permissions:[]},{id:"u5",name:"Parceiro BPO",email:"bpo@fingestao.com",role:Xe.BPO,linkedCompanyIds:["1","2","3"],permissions:["VIEW_DASHBOARD","VIEW_CRM","VIEW_TASKS","VIEW_LEADS","MANAGE_COMPANIES","MANAGE_USERS","VIEW_SETTINGS"]},{id:"u6",name:"Consultor Externo",email:"consultor@fingestao.com",role:Xe.CONSULTANT,linkedCompanyIds:["1","3"],permissions:["VIEW_DASHBOARD","VIEW_CRM","VIEW_TASKS","VIEW_LEADS","MANAGE_COMPANIES","VIEW_SETTINGS"]},{id:"u3",name:"Funcionrio Operacional",email:"func@fingestao.com",role:Xe.EMPLOYEE,linkedCompanyIds:["1"],permissions:["VIEW_DASHBOARD","VIEW_TRANSACTIONS","EDIT_TRANSACTIONS"]},{id:"u2",name:"Gestor Silva",email:"gestor@silva.com",role:Xe.MANAGER,linkedCompanyIds:["2"],permissions:[]},{id:"superadmin",name:"Suporte Fingesto",email:"suporte@fingestao.com",role:Xe.SUPER_ADMIN,linkedCompanyIds:[],permissions:Yq}],Yd=[{id:"t1",companyId:"1",description:"Venda de Software",amount:5e3,type:et.INCOME,category:"Vendas",date:"2024-05-15",status:"PAID",payments:[],accountId:"acc1"},{id:"t2",companyId:"1",description:"Servidor AWS",amount:150,type:et.EXPENSE,category:"Infraestrutura",date:"2024-05-16",status:"PAID",payments:[],accountId:"acc1",costCenterId:"cc1"}],ih=[{id:"acc1",name:"Banco Principal",type:"BANK",balance:15e3,status:"ACTIVE",companyId:"1",bankName:"Inter"},{id:"acc2",name:"Caixa Pequeno",type:"CASH",balance:500,status:"ACTIVE",companyId:"1"}],Xq=[{id:"cat1",name:"Vendas",type:et.INCOME,active:!0,companyId:"1"},{id:"cat2",name:"Infraestrutura",type:et.EXPENSE,active:!0,companyId:"1"}],Jq=[{id:"cc1",name:"TI",code:"001",description:"Tecnologia",budget:5e3,period:"MONTHLY",status:"ACTIVE",companyId:"1"}],Oc=[],Dc=[],Mc=[],Il=[],Zq=[],mE=[],Pc=[],Lc=[],V0={},Fc=[{id:"sp1",name:"Starter",description:"Para pequenas empresas",price:0,billingCycle:"MONTHLY",features:["Dashboard","Lanamentos"],targetRoles:[Xe.ADMIN],active:!0},{id:"sp2",name:"Pro",description:"Para empresas em crescimento",price:99.9,billingCycle:"MONTHLY",features:["Dashboard","Lanamentos","IA","Relatrios"],targetRoles:[Xe.ADMIN],active:!0,recommended:!0}],Qq=[{id:"TODO",label:"A Fazer",color:"border-gray-400",bg:"bg-gray-50",order:1},{id:"IN_PROGRESS",label:"Em Progresso",color:"border-blue-400",bg:"bg-blue-50",order:2},{id:"DONE",label:"Concludo",color:"border-green-400",bg:"bg-green-50",order:3}],D5=[{id:"tsk1",title:"Fechar Balancete Tech Solutions",description:"Revisar lanamentos de Maio e emitir DRE.",dueDate:"2024-05-30",status:"IN_PROGRESS",priority:"HIGH",linkedCompanyId:"1",assignedToId:"u5"},{id:"tsk2",title:"Conciliao Bancria Consultoria Silva",description:"Verificar extrato do Ita x Sistema.",dueDate:"2024-05-25",status:"TODO",priority:"MEDIUM",linkedCompanyId:"2",assignedToId:"u5"},{id:"tsk3",title:"Reunio Mensal Padaria do Joo",description:"Apresentar resultados do trimestre.",dueDate:"2024-06-05",status:"TODO",priority:"MEDIUM",linkedCompanyId:"3",assignedToId:"u5"},{id:"tsk4",title:"Enviar Proposta Justus",description:"Adequar valores conforme reunio.",dueDate:"2024-05-22",status:"DONE",priority:"HIGH",linkedCompanyId:void 0,linkedLeadId:"l1",assignedToId:"u5"}],X2={};const eW=[{id:"dashboard",type:"ITEM",label:"Dashboard",icon:"LayoutDashboard",viewId:"dashboard",permission:"VIEW_DASHBOARD",active:!0},{id:"ai_advisor",type:"ITEM",label:"IA Financeira",icon:"Bot",viewId:"ia-financeira",permission:"USE_AI",active:!0},{id:"transactions",type:"ITEM",label:"Lanamentos",icon:"CircleDollarSign",viewId:"lancamentos",permission:"VIEW_TRANSACTIONS",active:!0},{id:"goals",type:"ITEM",label:"Metas",icon:"Target",viewId:"metas",permission:"VIEW_GOALS",active:!0},{id:"prolabore",type:"ITEM",label:"Prolabore",icon:"Wallet",viewId:"prolabore",permission:"VIEW_TRANSACTIONS",active:!0},{id:"cost_centers",type:"ITEM",label:"Centro de Custos",icon:"Tags",viewId:"centros-de-custo",permission:"VIEW_COST_CENTERS",active:!0},{id:"long_term",type:"ITEM",label:"Longo Prazo",icon:"CalendarRange",viewId:"longo-prazo",permission:"VIEW_TRANSACTIONS",active:!0},{id:"assets",type:"ITEM",label:"Ativos",icon:"Briefcase",viewId:"ativos",permission:"VIEW_ASSETS",active:!0},{id:"accounts",type:"ITEM",label:"Contas",icon:"Landmark",viewId:"contas",permission:"VIEW_SETTINGS",active:!0},{id:"agenda",type:"ITEM",label:"Agenda",icon:"Calendar",viewId:"agenda",permission:"VIEW_TASKS",active:!0},{id:"reports",type:"ITEM",label:"Relatrios",icon:"FileText",viewId:"relatorios",permission:"VIEW_REPORTS",active:!0},{id:"tools",type:"ITEM",label:"Ferramentas",icon:"Wrench",viewId:"ferramentas",permission:"VIEW_SETTINGS",active:!0},{id:"users",type:"ITEM",label:"Usurios",icon:"Users",viewId:"usuarios",permission:"MANAGE_USERS",active:!0},{id:"settings",type:"ITEM",label:"Configuraes",icon:"Settings",viewId:"configuracao",permission:"VIEW_SETTINGS",active:!0}],M5=e=>JSON.parse(JSON.stringify(X2[e]||eW)),tW=(e,t)=>{X2[e]=t},rW=e=>{delete X2[e]},pv=(e,t)=>{mE.unshift({id:Math.random().toString(36).substr(2,9),userName:e.name,action:t,timestamp:new Date().toLocaleString()})},P5=()=>Fc,nW=(e,t)=>{Fc.push({...e,id:Math.random().toString(36).substr(2,9)}),pv(t,`Criou plano: ${e.name}`)},aW=(e,t,r)=>{const n=Fc.findIndex(a=>a.id===e);n>=0&&(Fc[n]={...Fc[n],...t})},iW=(e,t)=>{Fc=Fc.filter(r=>r.id!==e)},sW=(e,t)=>{Rc.push({...t,id:Math.random().toString(36).substr(2,9),linkedCompanyIds:[e]})},oW=(e,t)=>{const r=Rc.findIndex(n=>n.id===e);r>=0&&(Rc[r]={...Rc[r],...t})},lW=e=>{Rc=Rc.filter(t=>t.id!==e)},cW=(e,t)=>{const r=Nl.find(n=>n.id===e);r&&(r.active=!r.active,pv(t,`${r.active?"Ativou":"Bloqueou"} empresa ${r.name}`))},uW=(e,t)=>{const r=Nl.find(n=>n.id===e);r&&(r.plan=r.plan===an.FREE?an.PREMIUM:an.FREE)},L5=e=>Yd.filter(t=>t.companyId===e),dW=(e,t)=>{const r={...e,id:Math.random().toString(36).substr(2,9),status:e.status||"PENDING",payments:e.payments||[]};if(r.status==="PAID"&&r.accountId){const n=ih.find(a=>a.id===r.accountId);n&&(r.type===et.INCOME?n.balance+=r.amount:n.balance-=r.amount)}Yd.unshift(r),pv(t,`Adicionou transao: ${r.description}`)},fW=e=>Xq.filter(t=>t.companyId===e),hW=e=>ih.filter(t=>t.companyId===e),mW=e=>Jq.filter(t=>t.companyId===e),pW=e=>Il.filter(t=>t.companyId===e),gW=e=>Il.push({...e,id:Math.random().toString(36).substr(2,9)}),xW=(e,t)=>{const r=Il.findIndex(n=>n.id===e);r>=0&&(Il[r]={...Il[r],...t})},vW=e=>{Il=Il.filter(t=>t.id!==e)},yW=e=>{const t=Il.find(r=>r.id===e);t&&(t.status=t.status==="ACTIVE"?"INACTIVE":"ACTIVE")},bW=e=>Zq.filter(t=>t.companyId===e),wW=e=>Pc.filter(t=>t.companyId===e),_W=e=>Pc.push({...e,id:Math.random().toString(36).substr(2,9)}),EW=(e,t)=>{const r=Pc.findIndex(n=>n.id===e);r>=0&&(Pc[r]={...Pc[r],...t})},SW=e=>{Pc=Pc.filter(t=>t.id!==e)},TW=e=>Lc.filter(t=>t.companyId===e),NW=e=>Lc.push({...e,id:Math.random().toString(36).substr(2,9)}),AW=(e,t)=>{const r=Lc.findIndex(n=>n.id===e);r>=0&&(Lc[r]={...Lc[r],...t})},CW=e=>{Lc=Lc.filter(t=>t.id!==e)},F5=e=>Mc.filter(t=>t.companyId===e),kW=(e,t,r,n,a)=>{const i={...e,id:Math.random().toString(36).substr(2,9)};Mc.push(i),r&&n&&n.forEach(s=>{dW({description:`Parcela ${i.title}`,amount:s.amount,date:s.date,type:et.EXPENSE,category:a||"Longo Prazo",status:"PENDING",companyId:e.companyId,linkedLongTermItemId:i.id},t)})},IW=(e,t,r,n,a,i)=>{const s=Mc.findIndex(o=>o.id===e);s>=0&&(Mc[s]={...Mc[s],...t})},jW=e=>{Mc=Mc.filter(t=>t.id!==e)},Qb=e=>Yd.filter(t=>t.linkedLongTermItemId===e),RW=(e,t,r,n,a,i,s)=>{const o=Yd.find(u=>u.id===e);if(o){o.status="PAID",o.date=t,o.amount=r,o.accountId=a;const u=ih.find(d=>d.id===a);return u&&(u.balance-=r),{success:!0}}return{success:!1,message:"Not found"}},OW=e=>Oc.filter(t=>t.companyId===e),B5=e=>Dc.filter(t=>t.companyId===e),DW=e=>Oc.push({...e,id:Math.random().toString(36).substr(2,9)}),MW=(e,t)=>{const r=Oc.findIndex(n=>n.id===e);r>=0&&(Oc[r]={...Oc[r],...t})},PW=e=>{Oc=Oc.filter(t=>t.id!==e)},LW=e=>Dc.push({...e,id:Math.random().toString(36).substr(2,9)}),FW=(e,t)=>{const r=Dc.findIndex(n=>n.id===e);r>=0&&(Dc[r]={...Dc[r],...t})},BW=e=>{Dc=Dc.filter(t=>t.id!==e)},vj=e=>V0[e]||[],UW=(e,t)=>{V0[e]||(V0[e]=[]),V0[e].push(t)},zW=e=>{V0[e]=[]},$W=(e,t)=>{const r={id:Math.random().toString(36).substr(2,9),title:e.title,description:e.description,dueDate:e.dueDate,status:e.status||"TODO",priority:e.priority||"MEDIUM",linkedCompanyId:e.linkedCompanyId,linkedLeadId:e.linkedLeadId,assignedToId:e.assignedToId||(t?t.id:"u1")};D5.unshift(r),t&&pv(t,`Criou tarefa: ${r.title}`)};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),yj=e=>{const t=HW(e);return t.charAt(0).toUpperCase()+t.slice(1)},U5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),GW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},u)=>S.createElement("svg",{ref:u,...qW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:U5("lucide",a),...!i&&!GW(o)&&{"aria-hidden":"true"},...o},[...s.map(([d,h])=>S.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(WW,{ref:i,iconNode:t,className:U5(`lucide-${VW(yj(e))}`,`lucide-${e}`,n),...a}));return r.displayName=yj(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wc=ze("activity",KW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],XW=ze("arrow-down",YW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zg=ze("arrow-left",JW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],QW=ze("arrow-right-left",ZW);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kc=ze("arrow-right",eK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],rK=ze("arrow-up",tK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],aK=ze("award",nK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sK=ze("banknote",iK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lK=ze("bell",oK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],J2=ze("book-open",cK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Bd=ze("bot",uK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Rl=ze("briefcase",dK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],da=ze("building-2",fK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mK=ze("building",hK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],z5=ze("calculator",pK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],xK=ze("calendar-clock",gK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Xd=ze("calendar-range",vK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ma=ze("calendar",yK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],du=ze("chart-column",bK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],$5=ze("chart-line",wK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Uh=ze("chart-pie",_K);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ho=ze("check",EK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TK=ze("chevron-down",SK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bo=ze("chevron-left",NK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Oi=ze("chevron-right",AK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],kK=ze("chevrons-up-down",CK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],jK=ze("chromium",IK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$g=ze("circle-alert",RK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vn=ze("circle-check",OK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],V5=ze("circle-dollar-sign",DK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PK=ze("circle-question-mark",MK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FK=ze("circle-user-round",LK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vg=ze("circle-x",BK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gv=ze("clock",UK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],$K=ze("construction",zK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],H5=ze("copy",VK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],GK=ze("corner-down-right",HK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Z2=ze("credit-card",qK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],os=ze("dollar-sign",WK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hg=ze("download",KK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],XK=ze("ellipsis",YK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],ZK=ze("eraser",JK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Tg=ze("external-link",QK);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pE=ze("eye-off",eY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D0=ze("eye",tY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Gg=ze("file-spreadsheet",rY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fu=ze("file-text",nY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],bj=ze("folder-plus",aY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hu=ze("funnel",iY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oY=ze("globe",sY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wj=ze("grid-3x3",lY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Q2=ze("grip-vertical",cY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],eS=ze("handshake",uY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],tS=ze("hard-drive",dY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],G5=ze("hash",fY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qg=ze("image",hY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],rS=ze("infinity",mY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gY=ze("key",pY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Wg=ze("landmark",xY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],nS=ze("layers",vY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xv=ze("layout-dashboard",yY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],q5=ze("layout-grid",bY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],_j=ze("layout-template",wY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gE=ze("link",_Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Jd=ze("list-todo",EY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],W5=ze("list",SY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ia=ze("loader-circle",TY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ki=ze("lock",NY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],CY=ze("log-in",AY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K5=ze("log-out",kY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ol=ze("mail",IY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ng=ze("map-pin",jY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ag=ze("menu",RY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],DY=ze("mic-off",OY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ej=ze("mic",MY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],LY=ze("monitor",PY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],BY=ze("octagon-alert",FY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Kg=ze("palette",UY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_n=ze("pen",zY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Sj=ze("pencil",$Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Y5=ze("phone",VY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ft=ze("plus",HY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=ze("refresh-cw",GY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yc=ze("save",qY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],X5=ze("scale",WY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pa=ze("search",KY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J5=ze("send",YY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wo=ze("settings",XY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sh=ze("shield-check",JY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QY=ze("shield",ZY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],tX=ze("smartphone",eX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nX=ze("sparkles",rX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iX=ze("square-check-big",aX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Z5=ze("square-pen",sX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lX=ze("star",oX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],uX=ze("stethoscope",cX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],zl=ze("tags",dX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zd=ze("target",fX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],mX=ze("text-align-start",hX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bt=ze("trash-2",pX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ti=ze("trending-down",gX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ri=ze("trending-up",xX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Di=ze("triangle-alert",vX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oh=ze("upload",yX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vv=ze("user",bX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xc=ze("users",wX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ts=ze("wallet",_X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],SX=ze("wand-sparkles",EX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Q5=ze("wrench",TX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vt=ze("x",NX),AX=({className:e="h-24 w-24"})=>l.jsxs("svg",{viewBox:"0 0 200 200",className:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"100",cy:"100",r:"100",fill:"#0f172a"}),l.jsx("path",{d:"M45 105 L75 80 L105 100 L155 50",stroke:"#38BDF8",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M155 50 L130 50 M155 50 L155 75",stroke:"#38BDF8",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("text",{x:"100",y:"150",textAnchor:"middle",fontFamily:"sans-serif",fontWeight:"bold",fontSize:"24",fill:"white",letterSpacing:"-0.5",children:"FinGestao"})]}),CX=({onLogin:e})=>{const[t,r]=S.useState(!1),[n,a]=S.useState(!1),[i,s]=S.useState(1),[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(""),[y,_]=S.useState(""),[N,k]=S.useState(""),[A,D]=S.useState(""),[j,O]=S.useState(Xe.ADMIN),[I,M]=S.useState(""),R=P5(),z=async H=>{if(H.preventDefault(),u(""),!d||!m){u("Por favor, preencha todos os campos.");return}r(!0);try{const{user:L,error:J}=await Ug.signIn(d,m);J?(u(J),r(!1)):L?e(L):(u("Erro desconhecido ao autenticar."),r(!1))}catch(L){console.error(L),u("Falha na conexo com o servio de autenticao."),r(!1)}},q=()=>{if(!d){u("Por favor, informe seu email no campo acima para recuperar a senha.");return}u(""),alert(`Um link de recuperao de senha foi enviado para: ${d}`)},F=H=>{if(H.preventDefault(),u(""),!x||!y||!N||!A){u("Todos os campos so obrigatrios.");return}if(N!==A){u("As senhas no coincidem.");return}s(2)},Y=H=>{O(H),s(3)},de=async H=>{M(H),r(!0),u("");try{const{user:L,error:J}=await Ug.signUp(y,N,{name:x,role:j});if(J){u(J),r(!1);return}L?e(L):(u("Cadastro realizado! Verifique seu email para confirmar a conta."),r(!1))}catch(L){console.error(L),u("Erro ao criar conta. Tente novamente."),r(!1)}},ce=()=>{alert("Login social requer configurao especfica no painel do Supabase.")},K=()=>{a(!n),u(""),s(1),M(""),O(Xe.ADMIN)},ae=()=>l.jsxs("form",{onSubmit:z,className:"space-y-6 animate-in fade-in duration-500",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2 uppercase tracking-wider",children:"Email Corporativo"}),l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-[#2286D2] transition-colors",children:l.jsx(Ol,{size:20})}),l.jsx("input",{type:"email",value:d,onChange:H=>h(H.target.value),className:"block w-full pl-11 pr-4 py-4 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] focus:border-transparent outline-none transition-all placeholder-gray-400 shadow-sm",placeholder:"nome@empresa.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2 uppercase tracking-wider",children:"Senha"}),l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-[#2286D2] transition-colors",children:l.jsx(ki,{size:20})}),l.jsx("input",{type:"password",value:m,onChange:H=>g(H.target.value),className:"block w-full pl-11 pr-4 py-4 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] focus:border-transparent outline-none transition-all placeholder-gray-400 shadow-sm",placeholder:""})]}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsx("button",{type:"button",onClick:q,className:"text-xs font-medium text-gray-500 hover:text-[#2286D2] transition-colors focus:outline-none",children:"Esqueceu a senha?"})})]}),o&&l.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-sm text-red-600 flex items-center gap-2 animate-pulse",children:[l.jsx(Di,{size:16,className:"shrink-0"}),l.jsx("span",{children:o})]}),l.jsx("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center py-4 px-4 rounded-xl bg-[#2286D2] hover:bg-[#1c75b9] text-white font-bold text-sm transition-all shadow-lg shadow-blue-200 hover:shadow-blue-300 transform hover:-translate-y-0.5 active:translate-y-0",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"animate-spin mr-2",size:20})," Autenticando..."]}):"Acessar Sistema"})]}),Z=()=>l.jsxs("form",{onSubmit:F,className:"space-y-5 animate-in slide-in-from-right duration-300",children:[l.jsxs("div",{className:"flex gap-2 mb-6 justify-center",children:[l.jsx("div",{className:"h-1.5 w-12 bg-[#2286D2] rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-gray-200 rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-gray-200 rounded-full"})]}),l.jsx("h3",{className:"text-center text-xl font-bold text-gray-900",children:"Crie sua conta"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(FK,{size:18,className:"absolute left-4 top-4 text-gray-400 group-focus-within:text-[#2286D2] transition-colors"}),l.jsx("input",{type:"text",value:x,onChange:H=>b(H.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] outline-none placeholder-gray-400 shadow-sm",placeholder:"Seu Nome Completo",autoFocus:!0})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(Ol,{size:18,className:"absolute left-4 top-4 text-gray-400 group-focus-within:text-[#2286D2] transition-colors"}),l.jsx("input",{type:"email",value:y,onChange:H=>_(H.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] outline-none placeholder-gray-400 shadow-sm",placeholder:"Email Corporativo"})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(ki,{size:18,className:"absolute left-4 top-4 text-gray-400 group-focus-within:text-[#2286D2] transition-colors"}),l.jsx("input",{type:"password",value:N,onChange:H=>k(H.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] outline-none placeholder-gray-400 shadow-sm",placeholder:"Senha"})]}),l.jsxs("div",{className:"relative group",children:[l.jsx(ki,{size:18,className:"absolute left-4 top-4 text-gray-400 group-focus-within:text-[#2286D2] transition-colors"}),l.jsx("input",{type:"password",value:A,onChange:H=>D(H.target.value),className:"w-full pl-11 pr-4 py-3.5 bg-white border border-gray-200 text-gray-900 rounded-xl focus:ring-2 focus:ring-[#2286D2] outline-none placeholder-gray-400 shadow-sm",placeholder:"Confirmar Senha"})]})]}),o&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-sm text-red-600 text-center",children:o}),l.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center py-3.5 px-4 rounded-xl bg-[#2286D2] hover:bg-[#1c75b9] text-white font-bold transition-all shadow-lg shadow-blue-200 hover:shadow-blue-300",children:["Continuar ",l.jsx(Kc,{size:18,className:"ml-2"})]})]}),W=()=>l.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right duration-300",children:[l.jsxs("div",{className:"flex gap-2 mb-6 justify-center",children:[l.jsx("div",{className:"h-1.5 w-12 bg-green-500 rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-[#2286D2] rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-gray-200 rounded-full"})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Qual o seu objetivo?"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione como voc ir utilizar o sistema."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("button",{onClick:()=>Y(Xe.ADMIN),className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-100 hover:border-[#2286D2] hover:bg-blue-50 transition-all text-left group",children:[l.jsx("div",{className:"p-3 bg-blue-100 text-[#2286D2] rounded-lg group-hover:bg-[#2286D2] group-hover:text-white transition-colors",children:l.jsx(da,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:"Gesto Empresarial"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Gerenciar o financeiro da minha prpria empresa."})]})]}),l.jsxs("button",{onClick:()=>Y(Xe.BPO),className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-100 hover:border-[#2286D2] hover:bg-blue-50 transition-all text-left group",children:[l.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-lg group-hover:bg-purple-600 group-hover:text-white transition-colors",children:l.jsx(Rl,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:"BPO Financeiro"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Gerenciar financeiro de mltiplos clientes (Terceirizao)."})]})]}),l.jsxs("button",{onClick:()=>Y(Xe.CONSULTANT),className:"flex items-center gap-4 p-4 rounded-xl border-2 border-gray-100 hover:border-[#2286D2] hover:bg-blue-50 transition-all text-left group",children:[l.jsx("div",{className:"p-3 bg-emerald-100 text-emerald-600 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:l.jsx($5,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:"Consultoria"}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Acompanhar e auditar nmeros de empresas clientes."})]})]})]}),l.jsxs("button",{onClick:()=>s(1),className:"w-full flex items-center justify-center py-2 text-gray-500 hover:text-gray-900 text-sm transition-colors mt-2",children:[l.jsx(zg,{size:16,className:"mr-1"})," Voltar"]})]}),ee=()=>l.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right duration-300",children:[l.jsxs("div",{className:"flex gap-2 mb-6 justify-center",children:[l.jsx("div",{className:"h-1.5 w-12 bg-green-500 rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-green-500 rounded-full"}),l.jsx("div",{className:"h-1.5 w-12 bg-[#2286D2] rounded-full"})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Escolha seu Plano"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comece hoje, cancele quando quiser."})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[320px] overflow-y-auto pr-1 custom-scrollbar",children:R.map(H=>l.jsxs("div",{onClick:()=>M(H.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${I===H.id?"border-[#2286D2] bg-blue-50 shadow-md ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:H.name}),H.price===0?l.jsx("span",{className:"text-[#2286D2] font-bold text-sm bg-blue-100 px-2 py-0.5 rounded",children:"Grtis"}):l.jsxs("span",{className:"text-gray-900 font-bold text-sm",children:["R$ ",H.price.toLocaleString("pt-BR"),l.jsx("span",{className:"text-xs font-normal text-gray-500",children:"/ms"})]})]}),l.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:H.description})]},H.id))}),l.jsxs("div",{className:"pt-2 space-y-3",children:[l.jsx("button",{onClick:()=>I&&de(I),disabled:t||!I,className:`w-full flex items-center justify-center py-3.5 px-4 rounded-xl text-white font-bold transition-all shadow-lg ${t||!I?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#2286D2] hover:bg-[#1c75b9] shadow-blue-200 hover:shadow-blue-300 transform hover:-translate-y-0.5"}`,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"animate-spin mr-2",size:20})," Criando..."]}):"Finalizar Cadastro"}),l.jsxs("button",{onClick:()=>s(2),className:"w-full flex items-center justify-center py-2 text-gray-500 hover:text-gray-900 text-sm transition-colors",children:[l.jsx(zg,{size:16,className:"mr-1"})," Voltar"]})]})]});return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-blue-100/50 rounded-full blur-3xl opacity-60"}),l.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-indigo-50/50 rounded-full blur-3xl opacity-60"})]}),l.jsxs("div",{className:`relative bg-white border border-gray-100 rounded-2xl shadow-xl w-full max-w-md overflow-hidden transition-all duration-300 z-10 ${i>=2?"max-w-lg":"max-w-md"}`,children:[l.jsxs("div",{className:"pt-8 pb-6 px-8 text-center border-b border-gray-50 bg-white",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(AX,{className:"h-28 w-28"})}),!n&&l.jsx("p",{className:"text-sm text-gray-500",children:"Inteligncia financeira para o seu negcio"})]}),l.jsxs("div",{className:"p-8 pb-6",children:[n?l.jsxs(l.Fragment,{children:[i===1&&Z(),i===2&&W(),i===3&&ee()]}):ae(),!n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative my-8",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-wide",children:l.jsx("span",{className:"px-3 bg-white text-gray-400",children:"Ou"})})]}),l.jsxs("button",{onClick:ce,disabled:t,className:"w-full flex items-center justify-center px-4 py-3.5 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all group",children:[l.jsx(jK,{size:20,className:"text-red-500 mr-3"})," Entrar com Google"]})]})]}),l.jsx("div",{className:"p-5 bg-gray-50 text-center border-t border-gray-200",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[n?"J possui uma conta?":"Ainda no tem conta?",l.jsx("button",{onClick:K,className:"ml-2 text-[#2286D2] font-bold hover:text-blue-800 transition-colors focus:outline-none",children:n?"Fazer Login":"Criar agora"})]})})]})]})},Qd={[Xe.OWNER]:"Dono",[Xe.ADMIN]:"Administrador",[Xe.MANAGER]:"Gestor",[Xe.EMPLOYEE]:"Funcionrio",[Xe.BPO]:"BPO Financeiro",[Xe.CONSULTANT]:"Consultor",[Xe.VIEWER]:"Visualizador",[Xe.SUPER_ADMIN]:"Super Admin"},kX={LayoutDashboard:l.jsx(xv,{size:20}),Bot:l.jsx(Bd,{size:20}),CircleDollarSign:l.jsx(V5,{size:20}),Target:l.jsx(Zd,{size:20}),Wallet:l.jsx(ts,{size:20}),Tags:l.jsx(zl,{size:20}),Landmark:l.jsx(Wg,{size:20}),CalendarRange:l.jsx(Xd,{size:20}),Briefcase:l.jsx(Rl,{size:20}),Wrench:l.jsx(Q5,{size:20}),FileText:l.jsx(fu,{size:20}),Users:l.jsx(Xc,{size:20}),Settings:l.jsx(wo,{size:20}),Handshake:l.jsx(eS,{size:20}),ListTodo:l.jsx(Jd,{size:20}),Filter:l.jsx(hu,{size:20}),Building2:l.jsx(da,{size:20}),BarChart3:l.jsx(du,{size:20}),Activity:l.jsx(Wc,{size:20}),CreditCard:l.jsx(Z2,{size:20}),Calendar:l.jsx(ma,{size:20})},ew=({children:e,user:t,onLogout:r,title:n,currentView:a,onNavigate:i,isBPOOperationalMode:s,onExitOperationalMode:o,menuRefreshTrigger:u,companyId:d,onSwitchCompany:h,onManageCompanies:m,companies:g=[]})=>{const[x,b]=S.useState(!1),[y,_]=S.useState(!1),[N,k]=S.useState([]),[A,D]=S.useState([]),j=S.useRef(null),O=d?g.find(Y=>Y.id===d):null,I=g.filter(Y=>t.linkedCompanyIds.includes(Y.id)),M=O?O.name:"Selecionar Empresa...";S.useEffect(()=>{const Y=d||t.linkedCompanyIds[0]||"1",de=j.current!==Y;if(t.role===Xe.SUPER_ADMIN&&!d){k([{id:"dashboard",type:"ITEM",viewId:"dashboard",label:"Dashboard Global",icon:"BarChart3",active:!0},{id:"companies",type:"ITEM",viewId:"global_view",label:"Empresas e Logs",icon:"Building2",active:!0},{id:"plans",type:"ITEM",viewId:"plans",label:"Planos",icon:"CreditCard",active:!0},{id:"admin_users",type:"ITEM",viewId:"admin_users",label:"Usurios do Sistema",icon:"Users",active:!0},{id:"audit",type:"ITEM",viewId:"audit",label:"Auditoria",icon:"Activity",active:!0},{id:"settings",type:"ITEM",viewId:"configuracao",label:"Config. SaaS",icon:"Settings",active:!0}]);return}if((t.role===Xe.BPO||t.role===Xe.CONSULTANT)&&!s){const K=[{id:"dashboard",type:"ITEM",label:"Dashboard",icon:"LayoutDashboard",viewId:"dashboard",permission:"VIEW_DASHBOARD",active:!0},{id:"crm",type:"ITEM",label:"CRM",icon:"Handshake",viewId:"crm",permission:"VIEW_CRM",active:!0},{id:"tasks",type:"ITEM",label:"Tarefas",icon:"ListTodo",viewId:"tarefas",permission:"VIEW_TASKS",active:!0},{id:"leads",type:"ITEM",label:"Leads",icon:"Filter",viewId:"leads",permission:"VIEW_LEADS",active:!0},{id:"companies",type:"ITEM",label:t.role===Xe.CONSULTANT?"Empresa":"Empresas",icon:"Building2",viewId:"empresas",permission:"MANAGE_COMPANIES",active:!0}];t.role===Xe.BPO&&K.push({id:"users",type:"ITEM",label:"Usurios",icon:"Users",viewId:"usuarios",permission:"MANAGE_USERS",active:!0}),K.push({id:"settings",type:"ITEM",label:"Configuraes",icon:"Settings",viewId:"configuracao",permission:"VIEW_SETTINGS",active:!0}),k(K),j.current="BPO_GLOBAL";return}const ce=M5(Y);if(k(ce),de||A.length===0){const K=ce.filter(ae=>ae.type==="GROUP"&&(ae.groupType==="FIXED"||ae.isExpanded)).map(ae=>ae.id);D(K),j.current=Y}},[t,s,u,d,g]);const R=Y=>!Y||[Xe.ADMIN,Xe.SUPER_ADMIN,Xe.BPO,Xe.CONSULTANT].includes(t.role)?!0:t.permissions?t.permissions.includes(Y):!1,z=Y=>{A.includes(Y)?D(A.filter(de=>de!==Y)):D([...A,Y])},q=(Y,de=0)=>{var ce;if(Y.active===!1||Y.permission&&!R(Y.permission))return null;if(Y.type==="ITEM"){const K=a===Y.viewId||Y.viewId==="global_view"&&a==="companies";let ae="",Z=K?"text-white":"text-[#A3A7AA]",W="border-l-4 border-transparent";K?(ae="bg-[#2286D2] shadow-md",W="border-l-4 border-[#60A5FA]"):de===1?ae="bg-[#121416] hover:bg-[#1A1D1F]":de>1?ae="bg-[#1B1D1F] hover:bg-[#232628]":ae="hover:bg-[#1A1D1F]";const ee=de*12+16;return l.jsxs("button",{onClick:()=>{Y.viewId&&i(Y.viewId),b(!1)},className:`flex items-center w-full py-3 text-sm font-medium transition-all mb-1 rounded-r-lg ${ae} ${Z} ${W}`,style:{paddingLeft:`${ee}px`},children:[l.jsx("span",{className:`mr-3 ${K?"text-white":"text-[#555]"}`,children:kX[Y.icon||""]||l.jsx(xv,{size:20})}),l.jsx("span",{className:"truncate",children:Y.label})]},Y.id)}if(Y.type==="GROUP"){const K=A.includes(Y.id)||Y.groupType==="FIXED",ae=(ce=Y.children)==null?void 0:ce.filter(Z=>Z.active!==!1&&(!Z.permission||R(Z.permission)));return!ae||ae.length===0?null:l.jsxs("div",{className:"mb-2",children:[Y.groupType==="FIXED"?l.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-bold text-[#555] uppercase tracking-wider",children:Y.label}):l.jsxs("button",{onClick:()=>z(Y.id),className:`flex items-center justify-between w-full px-4 py-2 mt-1 text-sm font-medium transition-colors rounded-lg ${K?"text-white":"text-[#A3A7AA] hover:text-white hover:bg-[#1A1D1F]"}`,children:[l.jsxs("span",{className:"flex items-center gap-2",children:[de>0&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-600"}),Y.label]}),K?l.jsx(TK,{size:16,className:"text-[#2286D2]"}):l.jsx(Oi,{size:16})]}),K&&Y.children&&l.jsx("div",{className:"mt-1 transition-all duration-200 ease-in-out",children:Y.children.map(Z=>q(Z,de+1))})]},Y.id)}return null},F=a==="ai_advisor";return l.jsxs("div",{className:"flex h-screen bg-[#F3F4F6] overflow-hidden",children:[x&&l.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>b(!1)}),l.jsxs("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-[#090B0C] border-r border-[#2A2E32] text-white transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${x?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between h-20 px-6 bg-[#090B0C] border-b border-[#2A2E32]",children:[l.jsx("span",{className:"text-2xl font-bold text-[#DEDEDD] tracking-tight",children:"FinGesto"}),l.jsx("button",{className:"lg:hidden text-gray-400",onClick:()=>b(!1),children:l.jsx(Vt,{size:24})})]}),l.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)]",children:[l.jsx("div",{className:"px-5 py-4 shrink-0 space-y-2 relative",children:h&&(I.length>0||m)&&![Xe.BPO,Xe.CONSULTANT].includes(t.role)?l.jsxs(l.Fragment,{children:[y&&l.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>_(!1)}),l.jsx("p",{className:"text-[10px] font-bold text-[#555] uppercase tracking-wider mb-1",children:"Contexto Atual"}),l.jsxs("div",{className:"relative group w-full z-20",children:[l.jsxs("div",{onClick:()=>_(!y),className:`flex items-center gap-3 p-2.5 bg-[#131517] border ${y?"border-[#2286D2] ring-1 ring-[#2286D2]/30":"border-[#2A2E32]"} rounded-lg cursor-pointer hover:bg-[#1A1D1F] transition-all relative w-full group-hover:border-[#3A3E42]`,children:[l.jsx("div",{className:"w-6 h-6 rounded bg-[#2286D2]/20 text-[#2286D2] flex items-center justify-center",children:l.jsx(da,{size:14})}),l.jsx("div",{className:"flex-1 overflow-hidden min-w-0",children:l.jsx("p",{className:"text-sm font-medium truncate text-[#DEDEDD] leading-tight",children:M})}),l.jsx(kK,{size:14,className:`text-[#555] shrink-0 transition-transform ${y?"rotate-180":""}`})]}),y&&l.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-[#131517] border border-[#2A2E32] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-100 flex flex-col",children:[l.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar p-1",children:I.length>0?I.map(Y=>l.jsxs("button",{onClick:()=>{h(Y.id),_(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center gap-3 transition-colors ${(O==null?void 0:O.id)===Y.id?"bg-[#2286D2]/10 text-[#2286D2]":"text-gray-400 hover:bg-[#1A1D1F] hover:text-white"}`,children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${(O==null?void 0:O.id)===Y.id?"bg-[#2286D2]":"bg-transparent"}`}),l.jsx("span",{className:"truncate",children:Y.name})]},Y.id)):l.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic text-center",children:"Nenhuma empresa encontrada"})}),m&&l.jsx("div",{className:"p-1 border-t border-[#2A2E32] bg-[#090B0C]",children:l.jsxs("button",{onClick:()=>{m(),_(!1)},className:"w-full text-left px-3 py-2 rounded-lg text-sm text-[#2286D2] hover:bg-[#2286D2]/10 font-medium flex items-center gap-2 transition-colors",children:[l.jsx(wo,{size:14}),"Gerenciar Empresas"]})})]})]})]}):s&&o?l.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-4 py-3 bg-[#1A1D1F] text-indigo-400 font-bold rounded-lg hover:bg-[#202428] transition-colors text-sm border border-indigo-900/30",children:[l.jsx(zg,{size:18})," Voltar  Carteira"]}):null}),l.jsx("nav",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 pb-4",children:N.map(Y=>q(Y))}),l.jsx("div",{className:"p-4 border-t border-[#2A2E32] bg-[#090B0C] shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-xs font-bold text-white border border-[#2A2E32] shrink-0",children:t.name.charAt(0)}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"text-xs font-medium truncate text-[#DEDEDD]",children:t.name}),l.jsx("p",{className:"text-[10px] text-[#555] truncate uppercase",children:Qd[t.role]})]})]}),l.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Sair do Sistema",children:l.jsx(K5,{size:18})})]})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[l.jsx("button",{className:"absolute top-4 left-4 z-40 p-2 bg-white rounded-full shadow-md text-gray-600 lg:hidden hover:bg-gray-50 focus:outline-none border border-gray-200",onClick:()=>b(!0),children:l.jsx(Ag,{size:24})}),l.jsx("main",{className:`flex-1 bg-[#F3F4F6] ${F?"flex flex-col overflow-hidden p-0":"overflow-x-hidden overflow-y-auto p-8 pt-16 lg:pt-8"}`,children:e})]})]})},IX=["indigo","blue","emerald","red","violet","orange","cyan","slate"],e6=({isOpen:e,onClose:t,onSave:r,initialData:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState(""),[u,d]=S.useState("indigo"),[h,m]=S.useState(an.FREE),[g,x]=S.useState(!0),[b,y]=S.useState(""),[_,N]=S.useState(""),k=S.useRef(null);S.useEffect(()=>{e&&(n?(i(n.name),o(n.cnpj),d(n.primaryColor||"indigo"),m(n.plan),x(n.active),y(n.logo||""),N(n.serviceType||"")):(i(""),o(""),d("indigo"),m(an.FREE),x(!0),y(""),N("")))},[e,n]);const A=j=>{var I;const O=(I=j.target.files)==null?void 0:I[0];if(O){const M=new FileReader;M.onloadend=()=>{y(M.result)},M.readAsDataURL(O)}};if(!e)return null;const D=j=>{j.preventDefault(),!(!a||!s)&&(r({id:n==null?void 0:n.id,name:a,cnpj:s,primaryColor:u,plan:h,active:g,logo:b,serviceType:_||void 0}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(da,{size:24,className:`text-${u}-600`,style:{color:`var(--color-${u}-600)`}}),n?"Editar Empresa":"Nova Empresa"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:D,className:"p-6 space-y-5",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{onClick:()=>{var j;return(j=k.current)==null?void 0:j.click()},className:"w-16 h-16 rounded-lg bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:border-indigo-400 relative group overflow-hidden",children:[b?l.jsx("img",{src:b,alt:"Logo",className:"w-full h-full object-contain"}):l.jsx(qg,{size:20,className:"text-gray-400 group-hover:text-indigo-500"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(oh,{size:16,className:"text-white"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Logo"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var j;return(j=k.current)==null?void 0:j.click()},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 hover:underline",children:"Escolher Imagem"}),b&&l.jsx("button",{type:"button",onClick:()=>y(""),className:"text-xs text-red-500 hover:text-red-700 hover:underline",children:"Remover"})]}),l.jsx("input",{type:"file",ref:k,onChange:A,accept:"image/*",className:"hidden"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Razo Social / Nome"}),l.jsx("input",{type:"text",required:!0,value:a,onChange:j=>i(j.target.value),placeholder:"Ex: Minha Empresa Ltda",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"CNPJ"}),l.jsx("input",{type:"text",required:!0,value:s,onChange:j=>o(j.target.value),placeholder:"00.000.000/0001-00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Kg,{size:16})," Cor de Identificao"]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:IX.map(j=>l.jsx("button",{type:"button",onClick:()=>d(j),className:`w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center ${u===j?"border-gray-600 scale-110 shadow-sm":"border-transparent hover:scale-105"}`,style:{backgroundColor:`var(--color-${j}-500, ${j})`},children:u===j&&l.jsx(ho,{size:14,className:"text-white"})},j))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Plano"}),l.jsxs("select",{value:h,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",children:[l.jsx("option",{value:an.FREE,children:"Gratuito"}),l.jsx("option",{value:an.PREMIUM,children:"Premium"}),l.jsx("option",{value:an.ENTERPRISE,children:"Enterprise"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tipo de Servio"}),l.jsxs("select",{value:_,onChange:j=>N(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",children:[l.jsx("option",{value:"",children:"Nenhum (Padro)"}),l.jsx("option",{value:"CONSULTING",children:"Consultoria Financeira"}),l.jsx("option",{value:"BPO",children:"BPO Financeiro"}),l.jsx("option",{value:"BOTH",children:"Ambos"})]})]}),l.jsx("div",{className:"flex items-center pt-6 col-span-2",children:l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:g,onChange:j=>x(j.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500 w-4 h-4"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Empresa Ativa"})]})})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-100 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors shadow-sm flex items-center justify-center gap-2",children:[l.jsx(Yc,{size:18})," Salvar"]})]})]})]})})},jX=({companies:e,onSelect:t,onRefresh:r})=>{const[n,a]=S.useState(!1),[i,s]=S.useState(null),o=()=>{s(null),a(!0)},u=(m,g)=>{m.stopPropagation(),s(g),a(!0)},d=async(m,g)=>{m.stopPropagation(),confirm("Tem certeza que deseja excluir esta empresa? Todos os dados sero perdidos.")&&(await ka.deleteCompany(g),r&&r())},h=async m=>{let g=!1,x="";if(i)g=await ka.updateCompany(i.id,m);else{const{data:b,error:y}=await ka.createCompany(m);g=!!b,y&&(x=y)}g?(a(!1),r&&r()):alert(`Erro ao salvar empresa: ${x||"Verifique os dados ou a conexo."}`)};return l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx(e6,{isOpen:n,onClose:()=>a(!1),onSave:h,initialData:i}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-10 gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Bem-vindo ao FinGesto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Selecione ou gerencie suas empresas para acessar o painel."})]}),l.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl font-bold shadow-lg transition-all transform hover:-translate-y-0.5",children:[l.jsx(Ft,{size:20})," Nova Empresa"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.map(m=>l.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 border-l-4 p-6 hover:shadow-md transition-all group flex flex-col relative h-full ${m.active?"":"opacity-75 grayscale-[0.5]"}`,style:{borderLeftColor:`var(--color-${m.primaryColor||"indigo"}-500, ${m.primaryColor||"#6366f1"})`},children:[l.jsxs("div",{className:"absolute top-6 right-24 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[l.jsx("button",{onClick:g=>u(g,m),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:g=>d(g,m.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:l.jsx(Bt,{size:16})})]}),l.jsxs("div",{className:"absolute top-6 right-6 flex gap-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${m.plan===an.PREMIUM?"bg-amber-100 text-amber-800":m.plan===an.ENTERPRISE?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:m.plan}),l.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${m.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.active?"Ativa":"Inativa"})]}),l.jsx("div",{className:"h-16 w-16 rounded-full border border-gray-100 flex items-center justify-center overflow-hidden bg-white mb-4 shadow-sm",children:m.logo?l.jsx("img",{src:m.logo,alt:m.name,className:"h-full w-full object-cover"}):l.jsx(da,{className:"text-gray-300",size:32})}),l.jsxs("div",{className:"flex-1 mb-6",children:[l.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1 line-clamp-1",title:m.name,children:m.name}),l.jsx("p",{className:"text-gray-500 text-sm mb-4 font-mono",children:m.cnpj}),m.address&&l.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-400",children:[l.jsx(Ng,{size:14,className:"mt-0.5 shrink-0"}),l.jsx("span",{className:"line-clamp-2",children:m.address})]})]}),l.jsx("button",{onClick:()=>m.active&&t(m.id),disabled:!m.active,className:`w-full py-2.5 bg-white border border-gray-300 text-gray-700 font-bold rounded-lg flex items-center justify-center gap-2 transition-all mt-auto ${m.active?"hover:bg-gray-50":"cursor-not-allowed opacity-50"}`,children:m.active?l.jsxs(l.Fragment,{children:["Acessar Ambiente ",l.jsx(Kc,{size:16})]}):l.jsxs(l.Fragment,{children:["Acesso Bloqueado ",l.jsx(ki,{size:16})]})})]},m.id)),e.length===0&&l.jsxs("div",{onClick:o,className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-indigo-400 hover:text-indigo-500 hover:bg-indigo-50 transition-all cursor-pointer min-h-[200px]",children:[l.jsx(Ft,{size:48,className:"mb-2 opacity-50"}),l.jsx("span",{className:"font-bold text-lg",children:"Cadastrar Primeira Empresa"})]})]})]})},RX=({isOpen:e,onClose:t,onSave:r,initialData:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState(""),[u,d]=S.useState(""),[h,m]=S.useState("MONTHLY"),[g,x]=S.useState(!0),[b,y]=S.useState(!1),[_,N]=S.useState([]),[k,A]=S.useState(""),[D,j]=S.useState([]);S.useEffect(()=>{e&&(n?(i(n.name),o(n.description),d(n.price.toString()),m(n.billingCycle),x(n.active),y(n.recommended||!1),N(n.features||[]),j(n.targetRoles||[])):(i(""),o(""),d(""),m("MONTHLY"),x(!0),y(!1),N([""]),j([Xe.ADMIN])))},[e,n]);const O=()=>{k.trim()&&(N([..._,k.trim()]),A(""))},I=z=>{N(_.filter((q,F)=>F!==z))},M=z=>{D.includes(z)?j(D.filter(q=>q!==z)):j([...D,z])},R=z=>{z.preventDefault(),!(!a||!u)&&(r({id:n==null?void 0:n.id,name:a,description:s,price:parseFloat(u),billingCycle:h,features:_.filter(q=>q.trim()!==""),targetRoles:D,active:g,recommended:b}),t())};return e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Z2,{size:24,className:"text-indigo-600"}),n?"Editar Plano":"Novo Plano"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1",children:l.jsxs("form",{id:"planForm",onSubmit:R,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome do Plano"}),l.jsx("input",{type:"text",required:!0,value:a,onChange:z=>i(z.target.value),placeholder:"Ex: Profissional, Enterprise...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Preo (R$)"}),l.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:u,onChange:z=>d(z.target.value),placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Ciclo de Cobrana"}),l.jsxs("select",{value:h,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l.jsx("option",{value:"MONTHLY",children:"Mensal"}),l.jsx("option",{value:"YEARLY",children:"Anual"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Descrio Curta"}),l.jsx("input",{type:"text",value:s,onChange:z=>o(z.target.value),placeholder:"Uma breve descrio dos benefcios...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(sh,{size:16})," Perfis de Acesso Permitidos"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[Xe.ADMIN,Xe.MANAGER,Xe.EMPLOYEE].map(z=>l.jsx("button",{type:"button",onClick:()=>M(z),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition-all ${D.includes(z)?"bg-indigo-600 text-white border-indigo-600 shadow-sm":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:Qd[z]},z))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione quem poder visualizar e contratar este plano."})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Funcionalidades Inclusas"}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"text",value:k,onChange:z=>A(z.target.value),onKeyDown:z=>z.key==="Enter"&&(z.preventDefault(),O()),placeholder:"Adicionar funcionalidade (ex: Suporte 24h)...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),l.jsx("button",{type:"button",onClick:O,className:"bg-gray-900 text-white p-2 rounded-lg hover:bg-black transition-colors",children:l.jsx(Ft,{size:20})})]}),l.jsxs("ul",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:[_.map((z,q)=>l.jsxs("li",{className:"flex justify-between items-center bg-white px-3 py-2 rounded border border-gray-200 text-sm",children:[l.jsx("span",{children:z}),l.jsx("button",{type:"button",onClick:()=>I(q),className:"text-gray-400 hover:text-red-500",children:l.jsx(Bt,{size:16})})]},q)),_.length===0&&l.jsx("li",{className:"text-gray-400 text-sm italic text-center py-2",children:"Nenhuma funcionalidade adicionada."})]})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:g,onChange:z=>x(z.target.checked),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Plano Ativo"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:b,onChange:z=>y(z.target.checked),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recomendado (Destaque)"})]})]})]})}),l.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex gap-3 justify-end",children:[l.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",form:"planForm",className:"px-5 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center gap-2",children:[l.jsx(ho,{size:18})," Salvar Plano"]})]})]})}):null},OX=({currentUser:e,onRefresh:t})=>{const[r,n]=S.useState(!1),[a,i]=S.useState(null),o=P5(),u=()=>{i(null),n(!0)},d=x=>{i(x),n(!0)},h=x=>{a?aW(a.id,x):nW(x,e),t()},m=x=>{confirm("Tem certeza que deseja excluir este plano? Isso no afetar assinaturas ativas imediatamente, mas impedir novas.")&&(iW(x),t())},g=x=>l.jsxs("div",{className:`relative bg-white rounded-xl shadow-sm border flex flex-col transition-all hover:shadow-md ${x.active?"border-gray-200":"border-gray-100 bg-gray-50 opacity-80"}`,children:[x.recommended&&l.jsxs("div",{className:"absolute top-0 right-0 bg-emerald-500 text-white text-[10px] font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg flex items-center gap-1 shadow-sm z-10",children:[l.jsx(lX,{size:10,fill:"white"})," RECOMENDADO"]}),l.jsxs("div",{className:"p-6 border-b border-gray-100 flex-1",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:x.name}),l.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:x.targetRoles.map(b=>l.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded-full font-semibold border border-indigo-100",children:Qd[b]},b))})]})}),l.jsx("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px]",children:x.description}),l.jsx("div",{className:"mb-6",children:x.price===0?l.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"Grtis"}):l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["R$ ",x.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["/",x.billingCycle==="MONTHLY"?"ms":"ano"]})]})}),l.jsx("ul",{className:"space-y-3 mb-6",children:x.features.map((b,y)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[l.jsx(Vn,{size:16,className:"text-emerald-500 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:b})]},y))})]}),l.jsxs("div",{className:"p-4 bg-gray-50 rounded-b-xl flex gap-3",children:[l.jsxs("button",{onClick:()=>d(x),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors shadow-sm",children:[l.jsx(_n,{size:16})," Editar"]}),l.jsx("button",{onClick:()=>m(x.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(Bt,{size:20})})]})]},x.id);return l.jsxs("div",{className:"space-y-10",children:[l.jsx(RX,{isOpen:r,onClose:()=>n(!1),onSave:h,initialData:a}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-gray-200 pb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Planos e Preos"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie o portflio de produtos do Fingesto SaaS."})]}),l.jsxs("button",{onClick:u,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Plano"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:l.jsx(Rl,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Planos Disponveis"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ofertas para clientes finais."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(g),o.length===0&&l.jsx("div",{className:"text-gray-400 italic text-sm p-4",children:"Nenhum plano cadastrado."})]})]})]})};function t6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=t6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=t6(e))&&(n&&(n+=" "),n+=t);return n}var DX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iS(e){if(typeof e!="string")return!1;var t=DX;return t.includes(e)}var MX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PX=new Set(MX);function r6(e){return typeof e!="string"?!1:PX.has(e)}function n6(e){return typeof e=="string"&&e.startsWith("data-")}function ni(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r6(r)||n6(r))&&(t[r]=e[r]);return t}function zh(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ni(t)}return typeof e=="object"&&!Array.isArray(e)?ni(e):null}function ra(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r6(r)||n6(r)||iS(r))&&(t[r]=e[r]);return t}function LX(e){return e==null?null:S.isValidElement(e)?ra(e.props):typeof e=="object"&&!Array.isArray(e)?ra(e):null}var FX=["children","width","height","viewBox","className","style","title","desc"];function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xE.apply(null,arguments)}function BX(e,t){if(e==null)return{};var r,n,a=UX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sS=S.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:u,desc:d}=e,h=BX(e,FX),m=i||{width:n,height:a,x:0,y:0},g=Gt("recharts-surface",s);return S.createElement("svg",xE({},ra(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,d),r)}),zX=["children","className"];function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(null,arguments)}function $X(e,t){if(e==null)return{};var r,n,a=VX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var na=S.forwardRef((e,t)=>{var{children:r,className:n}=e,a=$X(e,zX),i=Gt("recharts-layer",n);return S.createElement("g",vE({className:i},ra(a),{ref:t}),r)}),oS=d5(),a6=S.createContext(null),HX=()=>S.useContext(a6);function fr(e){return function(){return e}}const i6=Math.cos,Yg=Math.sin,fs=Math.sqrt,Xg=Math.PI,yv=2*Xg,yE=Math.PI,bE=2*yE,yc=1e-6,GX=bE-yc;function s6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s6;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class WX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s6:qX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,u=n-t,d=a-r,h=s-t,m=o-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>yc)if(!(Math.abs(m*u-d*h)>yc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,b=a-o,y=u*u+d*d,_=x*x+b*b,N=Math.sqrt(y),k=Math.sqrt(g),A=i*Math.tan((yE-Math.acos((y+g-_)/(2*N*k)))/2),D=A/k,j=A/N;Math.abs(D-1)>yc&&this._append`L${t+D*h},${r+D*m}`,this._append`A${i},${i},0,0,${+(m*x>h*b)},${this._x1=t+j*u},${this._y1=r+j*d}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),d=t+o,h=r+u,m=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>yc||Math.abs(this._y1-h)>yc)&&this._append`L${d},${h}`,n&&(g<0&&(g=g%bE+bE),g>GX?this._append`A${n},${n},0,1,${m},${t-o},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:g>yc&&this._append`A${n},${n},0,${+(g>=yE)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WX(t)}function cS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o6(e){this._context=e}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bv(e){return new o6(e)}function l6(e){return e[0]}function c6(e){return e[1]}function u6(e,t){var r=fr(!0),n=null,a=bv,i=null,s=lS(o);e=typeof e=="function"?e:e===void 0?l6:fr(e),t=typeof t=="function"?t:t===void 0?c6:fr(t);function o(u){var d,h=(u=cS(u)).length,m,g=!1,x;for(n==null&&(i=a(x=s())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,d,u),+t(m,d,u));if(x)return i=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:fr(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:fr(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:fr(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function $p(e,t,r){var n=null,a=fr(!0),i=null,s=bv,o=null,u=lS(d);e=typeof e=="function"?e:e===void 0?l6:fr(+e),t=typeof t=="function"?t:fr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c6:fr(+r);function d(m){var g,x,b,y=(m=cS(m)).length,_,N=!1,k,A=new Array(y),D=new Array(y);for(i==null&&(o=s(k=u())),g=0;g<=y;++g){if(!(g<y&&a(_=m[g],g,m))===N)if(N=!N)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(A[b],D[b]);o.lineEnd(),o.areaEnd()}N&&(A[g]=+e(_,g,m),D[g]=+t(_,g,m),o.point(n?+n(_,g,m):A[g],r?+r(_,g,m):D[g]))}if(k)return o=null,k+""||null}function h(){return u6().defined(a).curve(s).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:fr(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:fr(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:fr(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:fr(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:fr(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:fr(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(n).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:fr(!!m),d):a},d.curve=function(m){return arguments.length?(s=m,i!=null&&(o=s(i)),d):s},d.context=function(m){return arguments.length?(m==null?i=o=null:o=s(i=m),d):i},d}class d6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KX(e){return new d6(e,!0)}function YX(e){return new d6(e,!1)}const uS={draw(e,t){const r=fs(t/Xg);e.moveTo(r,0),e.arc(0,0,r,0,yv)}},XX={draw(e,t){const r=fs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f6=fs(1/3),JX=f6*2,ZX={draw(e,t){const r=fs(t/JX),n=r*f6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QX={draw(e,t){const r=fs(t),n=-r/2;e.rect(n,n,r,r)}},eJ=.8908130915292852,h6=Yg(Xg/10)/Yg(7*Xg/10),tJ=Yg(yv/10)*h6,rJ=-i6(yv/10)*h6,nJ={draw(e,t){const r=fs(t*eJ),n=tJ*r,a=rJ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=yv*i/5,o=i6(s),u=Yg(s);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},tw=fs(3),aJ={draw(e,t){const r=-fs(t/(tw*3));e.moveTo(0,r*2),e.lineTo(-tw*r,-r),e.lineTo(tw*r,-r),e.closePath()}},vi=-.5,yi=fs(3)/2,wE=1/fs(12),iJ=(wE/2+1)*3,sJ={draw(e,t){const r=fs(t/iJ),n=r/2,a=r*wE,i=n,s=r*wE+r,o=-i,u=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,u),e.lineTo(vi*n-yi*a,yi*n+vi*a),e.lineTo(vi*i-yi*s,yi*i+vi*s),e.lineTo(vi*o-yi*u,yi*o+vi*u),e.lineTo(vi*n+yi*a,vi*a-yi*n),e.lineTo(vi*i+yi*s,vi*s-yi*i),e.lineTo(vi*o+yi*u,vi*u-yi*o),e.closePath()}};function oJ(e,t){let r=null,n=lS(a);e=typeof e=="function"?e:fr(e||uS),t=typeof t=="function"?t:fr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:fr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:fr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jg(){}function Zg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function m6(e){this._context=e}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lJ(e){return new m6(e)}function p6(e){this._context=e}p6.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cJ(e){return new p6(e)}function g6(e){this._context=e}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uJ(e){return new g6(e)}function x6(e){this._context=e}x6.prototype={areaStart:Jg,areaEnd:Jg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dJ(e){return new x6(e)}function Tj(e){return e<0?-1:1}function Nj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Tj(i)+Tj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Aj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Qg(e){this._context=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rw(this,this._t0,Aj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rw(this,Aj(this,r=Nj(this,e,t)),r);break;default:rw(this,this._t0,r=Nj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function v6(e){this._context=new y6(e)}(v6.prototype=Object.create(Qg.prototype)).point=function(e,t){Qg.prototype.point.call(this,t,e)};function y6(e){this._context=e}y6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function fJ(e){return new Qg(e)}function hJ(e){return new v6(e)}function b6(e){this._context=e}b6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Cj(e),a=Cj(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Cj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function mJ(e){return new b6(e)}function wv(e,t){this._context=e,this._t=t}wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function pJ(e){return new wv(e,.5)}function gJ(e){return new wv(e,0)}function xJ(e){return new wv(e,1)}function Jc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _E(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vJ(e,t){return e[t]}function yJ(e){const t=[];return t.key=e,t}function bJ(){var e=fr([]),t=_E,r=Jc,n=vJ;function a(i){var s=Array.from(e.apply(this,arguments),yJ),o,u=s.length,d=-1,h;for(const m of i)for(o=0,++d;o<u;++o)(s[o][d]=[0,+n(m,s[o].key,d,i)]).data=m;for(o=0,h=cS(t(s));o<u;++o)s[h[o]].index=o;return r(s,h),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:fr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:fr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_E:typeof i=="function"?i:fr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Jc,a):r},a}function wJ(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Jc(e,t)}}function _J(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Jc(e,t)}}function EJ(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,u=0,d=0;o<s;++o){for(var h=e[t[o]],m=h[n][1]||0,g=h[n-1][1]||0,x=(m-g)/2,b=0;b<o;++b){var y=e[t[b]],_=y[n][1]||0,N=y[n-1][1]||0;x+=_-N}u+=m,d+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,Jc(e,t)}}var nw={},aw={},kj;function SJ(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(aw)),aw}var iw={},Ij;function w6(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(iw)),iw}var sw={},jj;function dS(){return jj||(jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sw)),sw}var ow={},lw={},Rj;function TJ(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(lw)),lw}var Oj;function fS(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TJ(),r=dS();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,u="",d="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const m=a[o];d?m==="\\"&&o+1<s?(o++,u+=a[o]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,i.push(u),u=""):u+=m:m==="["?(h=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,o++}return u&&i.push(u),i}e.toPath=n})(ow)),ow}var Dj;function hS(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SJ(),r=w6(),n=dS(),a=fS();function i(o,u,d){if(o==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=o[u];return h===void 0?r.isDeepKey(u)?i(o,a.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?d:h}default:{if(Array.isArray(u))return s(o,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=o[u];return h===void 0?d:h}}}function s(o,u,d){if(u.length===0)return d;let h=o;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return d;h=h[u[m]]}return h===void 0?d:h}e.get=i})(nw)),nw}var cw,Mj;function NJ(){return Mj||(Mj=1,cw=hS().get),cw}var AJ=NJ();const ef=ds(AJ);var CJ=4;function Al(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CJ,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Rr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,s)=>{var o=r[s-1];return typeof o=="string"?a+o+i:o!==void 0?a+Al(o)+i:a+i},"")}var ja=e=>e===0?0:e>0?1:-1,Mi=e=>typeof e=="number"&&e!=+e,_o=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Mi(e),As=e=>Qe(e)||typeof e=="string",kJ=0,lh=e=>{var t=++kJ;return"".concat(e||"").concat(t)},ls=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return n;var i;if(_o(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Mi(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},_6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ar(e,t,r){return Qe(e)&&Qe(t)?Al(e+r*(t-e)):t}function E6(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ef(n,t))===r)}var xr=e=>e===null||typeof e>"u",$h=e=>xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function IJ(e){return e!=null}function Vh(){}var jJ=["type","size","sizeType"];function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EE.apply(null,arguments)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){RJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RJ(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t){if(e==null)return{};var r,n,a=PJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S6={symbolCircle:uS,symbolCross:XX,symbolDiamond:ZX,symbolSquare:QX,symbolStar:nJ,symbolTriangle:aJ,symbolWye:sJ},LJ=Math.PI/180,FJ=e=>{var t="symbol".concat($h(e));return S6[t]||uS},BJ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LJ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UJ=(e,t)=>{S6["symbol".concat($h(e))]=t},mS=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=MJ(e,jJ),i=Lj(Lj({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var g=FJ(s),x=oJ().type(g).size(BJ(r,n,s)),b=x();if(b!==null)return b},{className:u,cx:d,cy:h}=i,m=ra(i);return Qe(d)&&Qe(h)&&Qe(r)?S.createElement("path",EE({},m,{className:Gt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:o()})):null};mS.registerSymbol=UJ;var T6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,pS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{iS(a)&&(n[a]=(i=>r[a](r,i)))}),n},zJ=(e,t,r)=>n=>(e(t,r,n),null),_v=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];iS(a)&&typeof i=="function"&&(n||(n={}),n[a]=zJ(i,t,r))}),n};function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){VJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t){var r=$J({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni=32,XJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JJ(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Ni/2,i=Ni/6,s=Ni/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var d;return S.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:a,x2:Ni,y2:a,className:"recharts-legend-icon"})}if(u==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ni,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return S.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-Ni,"z"),className:"recharts-legend-icon"});if(S.isValidElement(t.legendIcon)){var h=qJ({},t);return delete h.legendIcon,S.cloneElement(t.legendIcon,h)}return S.createElement(mS,{fill:o,cx:a,cy:a,size:Ni,sizeType:"diameter",type:u})}function ZJ(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=e,o={x:0,y:0,width:Ni,height:Ni},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||a,x=Gt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,y=g?g(h.value,h,m):h.value;return S.createElement("li",ex({className:x,style:u,key:"legend-item-".concat(m)},_v(e,h,m)),S.createElement(sS,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(y," legend icon")},S.createElement(JJ,{data:h,iconType:s,inactiveColor:i})),S.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y))})}var QJ=e=>{var t=un(e,XJ),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:i},S.createElement(ZJ,ex({},t,{payload:r})))},uw={},dw={},Uj;function eZ(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(dw)),dw}var fw={},zj;function N6(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(fw)),fw}var hw={},mw={},pw={},$j;function tZ(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(pw)),pw}var Vj;function gS(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tZ();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(mw)),mw}var gw={},Hj;function rZ(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(gw)),gw}var Gj;function nZ(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS(),r=rZ();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(hw)),hw}var xw={},vw={},qj;function aZ(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hS();function r(n){return function(a){return t.get(a,n)}}e.property=r})(vw)),vw}var yw={},bw={},ww={},_w={},Wj;function A6(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(_w)),_w}var Ew={},Kj;function C6(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ew)),Ew}var Sw={},Yj;function k6(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Sw)),Sw}var Xj;function iZ(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6(),r=C6(),n=k6();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):i(h,m,function x(b,y,_,N,k,A){const D=g(b,y,_,N,k,A);return D!==void 0?!!D:i(b,y,x,A)},new Map)}function i(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,g,x);case"function":return Object.keys(m).length>0?i(h,{...m},g,x):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function s(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(h,m,g,x);if(m instanceof Map)return o(h,m,g,x);if(m instanceof Set)return d(h,m,g,x);const b=Object.keys(m);if(h==null||r.isPrimitive(h))return b.length===0;if(b.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===h;x==null||x.set(m,h);try{for(let y=0;y<b.length;y++){const _=b[y];if(!r.isPrimitive(h)&&!(_ in h)||m[_]===void 0&&h[_]!==void 0||m[_]===null&&h[_]!==null||!g(h[_],m[_],_,h,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function o(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,y]of m.entries()){const _=h.get(b);if(g(_,y,b,h,m,x)===!1)return!1}return!0}function u(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let y=0;y<m.length;y++){const _=m[y];let N=!1;for(let k=0;k<h.length;k++){if(b.has(k))continue;const A=h[k];let D=!1;if(g(A,_,y,h,m,x)&&(D=!0),D){b.add(k),N=!0;break}}if(!N)return!1}return!0}function d(h,m,g,x){return m.size===0?!0:h instanceof Set?u([...h],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=d})(ww)),ww}var Jj;function I6(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iZ();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(bw)),bw}var Tw={},Nw={},Aw={},Zj;function sZ(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Aw)),Aw}var Cw={},Qj;function j6(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Cw)),Cw}var kw={},eR;function R6(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",y="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",D="[object BigUint64Array]",j="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",M="[object BigInt64Array]",R="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=R,e.float64ArrayTag=z,e.functionTag=m,e.int16ArrayTag=O,e.int32ArrayTag=I,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=N})(kw)),kw}var Iw={},tR;function oZ(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Iw)),Iw}var rR;function O6(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sZ(),r=j6(),n=R6(),a=C6(),i=oZ();function s(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,g,x=new Map,b=void 0){const y=b==null?void 0:b(h,m,g,x);if(y!==void 0)return y;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const _=new Array(h.length);x.set(h,_);for(let N=0;N<h.length;N++)_[N]=o(h[N],N,g,x,b);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;x.set(h,_);for(const[N,k]of h)_.set(N,o(k,N,g,x,b));return _}if(h instanceof Set){const _=new Set;x.set(h,_);for(const N of h)_.add(o(N,void 0,g,x,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,_);for(let N=0;N<h.length;N++)_[N]=o(h[N],N,g,x,b);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,_),u(_,h,g,x,b),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return x.set(h,_),u(_,h,g,x,b),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return x.set(h,_),u(_,h,g,x,b),_}if(h instanceof Error){const _=new h.constructor;return x.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,u(_,h,g,x,b),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return x.set(h,_),u(_,h,g,x,b),_}if(h instanceof Number){const _=new Number(h.valueOf());return x.set(h,_),u(_,h,g,x,b),_}if(h instanceof String){const _=new String(h.valueOf());return x.set(h,_),u(_,h,g,x,b),_}if(typeof h=="object"&&d(h)){const _=Object.create(Object.getPrototypeOf(h));return x.set(h,_),u(_,h,g,x,b),_}return h}function u(h,m,g=h,x,b){const y=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<y.length;_++){const N=y[_],k=Object.getOwnPropertyDescriptor(h,N);(k==null||k.writable)&&(h[N]=o(m[N],N,g,x,b))}}function d(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=u})(Nw)),Nw}var nR;function lZ(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O6();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Tw)),Tw}var aR;function cZ(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6(),r=lZ();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(yw)),yw}var jw={},Rw={},Ow={},iR;function uZ(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O6(),r=R6();function n(a,i){return t.cloneDeepWith(a,(s,o,u,d)=>{const h=i==null?void 0:i(s,o,u,d);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(Ow)),Ow}var sR;function dZ(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uZ();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Rw)),Rw}var Dw={},Mw={},oR;function D6(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Mw)),Mw}var Pw={},lR;function fZ(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j6();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Pw)),Pw}var cR;function hZ(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w6(),r=D6(),n=fZ(),a=fS();function i(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=a.toPath(o):u=[o],u.length===0)return!1;let d=s;for(let h=0;h<u.length;h++){const m=u[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(Dw)),Dw}var uR;function mZ(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6(),r=dS(),n=dZ(),a=hS(),i=hZ();function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(d){const h=a.get(d,o);return h===void 0?i.has(d,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=s})(jw)),jw}var dR;function pZ(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N6(),r=aZ(),n=cZ(),a=mZ();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(xw)),xw}var fR;function gZ(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eZ(),r=N6(),n=nZ(),a=pZ();function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(uw)),uw}var Lw,hR;function xZ(){return hR||(hR=1,Lw=gZ().uniqBy),Lw}var vZ=xZ();const mR=ds(vZ);function M6(e,t,r){return t===!0?mR(e,r):typeof t=="function"?mR(e,t):e}var Fw={exports:{}},Bw={},Uw={exports:{}},zw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function yZ(){if(pR)return zw;pR=1;var e=df();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),y=b[0].inst,_=b[1];return i(function(){y.value=x,y.getSnapshot=g,u(y)&&_({inst:y})},[m,x,g]),a(function(){return u(y)&&_({inst:y}),m(function(){u(y)&&_({inst:y})})},[m]),s(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return zw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,zw}var gR;function bZ(){return gR||(gR=1,Uw.exports=yZ()),Uw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function wZ(){if(xR)return Bw;xR=1;var e=df(),t=bZ();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,u=e.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(d,h,m,g,x){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function N(O){if(!k){if(k=!0,A=O,O=g(O),x!==void 0&&y.hasValue){var I=y.value;if(x(I,O))return D=I}return D=O}if(I=D,n(A,O))return I;var M=g(O);return x!==void 0&&x(I,M)?(A=O,I):(A=O,D=M)}var k=!1,A,D,j=m===void 0?null:m;return[function(){return N(h())},j===null?void 0:function(){return N(j())}]},[h,m,g,x]);var _=a(d,b[0],b[1]);return s(function(){y.hasValue=!0,y.value=_},[_]),u(_),_},Bw}var vR;function _Z(){return vR||(vR=1,Fw.exports=wZ()),Fw.exports}var EZ=_Z(),xS=S.createContext(null),SZ=e=>e,Cr=()=>{var e=S.useContext(xS);return e?e.store.dispatch:SZ},Cg=()=>{},TZ=()=>Cg,NZ=(e,t)=>e===t;function it(e){var t=S.useContext(xS);return EZ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:TZ,t?t.store.getState:Cg,t?t.store.getState:Cg,t?e:Cg,NZ)}function AZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var yR=e=>Array.isArray(e)?e:[e];function IZ(e){const t=Array.isArray(e[0])?e[0]:e;return kZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function jZ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var RZ=class{constructor(e){this.value=e}deref(){return this.value}},OZ=typeof WeakRef<"u"?WeakRef:RZ,DZ=0,bR=1;function Vp(){return{s:DZ,v:void 0,o:null,p:null}}function P6(e,t={}){let r=Vp();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var m;let o=r;const{length:u}=arguments;for(let g=0,x=u;g<x;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const _=y.get(b);_===void 0?(o=Vp(),y.set(b,o)):o=_}else{let y=o.p;y===null&&(o.p=y=new Map);const _=y.get(b);_===void 0?(o=Vp(),y.set(b,o)):o=_}}const d=o;let h;if(o.s===bR)h=o.v;else if(h=e.apply(null,arguments),i++,n){const g=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;g!=null&&n(g,h)&&(h=g,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new OZ(h):h}return d.s=bR,d.v=h,h}return s.clearCache=()=>{r=Vp(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function MZ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,u={},d=a.pop();typeof d=="object"&&(u=d,d=a.pop()),AZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=P6,argsMemoizeOptions:b=[]}=h,y=yR(g),_=yR(b),N=IZ(a),k=m(function(){return i++,d.apply(null,arguments)},...y),A=x(function(){s++;const j=jZ(N,arguments);return o=k.apply(null,j),o},..._);return Object.assign(A,{resultFunc:d,memoizedResultFunc:k,dependencies:N,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var ke=MZ(P6),PZ=Object.assign((e,t=ke)=>{CZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,u)=>(s[r[u]]=o,s),{}))},{withTypes:()=>PZ}),$w={},Vw={},Hw={},wR;function LZ(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(Hw)),Hw}var Gw={},qw={},_R;function L6(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qw)),qw}var ER;function FZ(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L6(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(Gw)),Gw}var SR;function BZ(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LZ(),r=FZ(),n=fS();function a(i,s,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const d=(x,b)=>{let y=x;for(let _=0;_<b.length&&y!=null;++_)y=y[b[_]];return y},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:d(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?d(b,x):typeof b=="object"?b[x]:b,m=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let y=0;y<m.length;y++){const _=t.compareValues(x.criteria[y],b.criteria[y],o[y]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=a})(Vw)),Vw}var Ww={},TR;function UZ(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,u)=>{for(let d=0;d<o.length;d++){const h=o[d];Array.isArray(h)&&u<i?s(h,u+1):a.push(h)}};return s(r,0),a}e.flatten=t})(Ww)),Ww}var Kw={},NR;function F6(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D6(),r=gS(),n=A6(),a=k6();function i(s,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],s):!1}e.isIterateeCall=i})(Kw)),Kw}var AR;function zZ(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BZ(),r=UZ(),n=F6();function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})($w)),$w}var Yw,CR;function $Z(){return CR||(CR=1,Yw=zZ().sortBy),Yw}var VZ=$Z();const Ev=ds(VZ);var B6=e=>e.legend.settings,HZ=e=>e.legend.size,GZ=e=>e.legend.payload,qZ=ke([GZ,B6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ev(n,r):n});function WZ(){return it(qZ)}var Hp=1;function U6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Hp||Math.abs(s.left-t.left)>Hp||Math.abs(s.top-t.top)>Hp||Math.abs(s.width-t.width)>Hp)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",kR=KZ,Xw=()=>Math.random().toString(36).substring(7).split("").join("."),YZ={INIT:`@@redux/INIT${Xw()}`,REPLACE:`@@redux/REPLACE${Xw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xw()}`},tx=YZ;function vS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function z6(e,t,r){if(typeof e!="function")throw new Error(Fn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Fn(1));return r(z6)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,u=!1;function d(){s===i&&(s=new Map,i.forEach((_,N)=>{s.set(N,_)}))}function h(){if(u)throw new Error(Fn(3));return a}function m(_){if(typeof _!="function")throw new Error(Fn(4));if(u)throw new Error(Fn(5));let N=!0;d();const k=o++;return s.set(k,_),function(){if(N){if(u)throw new Error(Fn(6));N=!1,d(),s.delete(k),i=null}}}function g(_){if(!vS(_))throw new Error(Fn(7));if(typeof _.type>"u")throw new Error(Fn(8));if(typeof _.type!="string")throw new Error(Fn(17));if(u)throw new Error(Fn(9));try{u=!0,a=n(a,_)}finally{u=!1}return(i=s).forEach(k=>{k()}),_}function x(_){if(typeof _!="function")throw new Error(Fn(10));n=_,g({type:tx.REPLACE})}function b(){const _=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Fn(11));function k(){const D=N;D.next&&D.next(h())}return k(),{unsubscribe:_(k)}},[kR](){return this}}}return g({type:tx.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[kR]:b}}function XZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:tx.INIT})>"u")throw new Error(Fn(12));if(typeof r(void 0,{type:tx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function $6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{XZ(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let u=!1;const d={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],x=s[m],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(Fn(14));d[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(s).length,u?d:s}}function rx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function JZ(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Fn(15))};const s={getState:a.getState,dispatch:(u,...d)=>i(u,...d)},o=e.map(u=>u(s));return i=rx(...o)(a.dispatch),{...a,dispatch:i}}}function V6(e){return vS(e)&&"type"in e&&typeof e.type=="string"}var H6=Symbol.for("immer-nothing"),IR=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function Xi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qa=Object,tf=Qa.getPrototypeOf,nx="constructor",Sv="prototype",SE="configurable",ax="enumerable",kg="writable",ch="value",Eo=e=>!!e&&!!e[ga];function cs(e){var t;return e?G6(e)||Nv(e)||!!e[IR]||!!((t=e[nx])!=null&&t[IR])||Av(e)||Cv(e):!1}var ZZ=Qa[Sv][nx].toString(),jR=new WeakMap;function G6(e){if(!e||!yS(e))return!1;const t=tf(e);if(t===null||t===Qa[Sv])return!0;const r=Qa.hasOwnProperty.call(t,nx)&&t[nx];if(r===Object)return!0;if(!Cd(r))return!1;let n=jR.get(r);return n===void 0&&(n=Function.toString.call(r),jR.set(r,n)),n===ZZ}function Tv(e,t,r=!0){Hh(e)===0?(r?Reflect.ownKeys(e):Qa.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Hh(e){const t=e[ga];return t?t.type_:Nv(e)?1:Av(e)?2:Cv(e)?3:0}var RR=(e,t,r=Hh(e))=>r===2?e.has(t):Qa[Sv].hasOwnProperty.call(e,t),TE=(e,t,r=Hh(e))=>r===2?e.get(t):e[t],ix=(e,t,r,n=Hh(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function QZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nv=Array.isArray,Av=e=>e instanceof Map,Cv=e=>e instanceof Set,yS=e=>typeof e=="object",Cd=e=>typeof e=="function",Jw=e=>typeof e=="boolean";function eQ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var so=e=>e.copy_||e.base_,bS=e=>e.modified_?e.copy_:e.base_;function NE(e,t){if(Av(e))return new Map(e);if(Cv(e))return new Set(e);if(Nv(e))return Array[Sv].slice.call(e);const r=G6(e);if(t===!0||t==="class_only"&&!r){const n=Qa.getOwnPropertyDescriptors(e);delete n[ga];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o[kg]===!1&&(o[kg]=!0,o[SE]=!0),(o.get||o.set)&&(n[s]={[SE]:!0,[kg]:!0,[ax]:o[ax],[ch]:e[s]})}return Qa.create(tf(e),n)}else{const n=tf(e);if(n!==null&&r)return{...e};const a=Qa.create(n);return Qa.assign(a,e)}}function wS(e,t=!1){return kv(e)||Eo(e)||!cs(e)||(Hh(e)>1&&Qa.defineProperties(e,{set:Gp,add:Gp,clear:Gp,delete:Gp}),Qa.freeze(e),t&&Tv(e,(r,n)=>{wS(n,!0)},!1)),e}function tQ(){Xi(2)}var Gp={[ch]:tQ};function kv(e){return e===null||!yS(e)?!0:Qa.isFrozen(e)}var sx="MapSet",AE="Patches",OR="ArrayMethods",q6={};function Zc(e){const t=q6[e];return t||Xi(0,e),t}var DR=e=>!!q6[e],uh,W6=()=>uh,rQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:DR(sx)?Zc(sx):void 0,arrayMethodsPlugin_:DR(OR)?Zc(OR):void 0});function MR(e,t){t&&(e.patchPlugin_=Zc(AE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function CE(e){kE(e),e.drafts_.forEach(nQ),e.drafts_=null}function kE(e){e===uh&&(uh=e.parent_)}var PR=e=>uh=rQ(uh,e);function nQ(e){const t=e[ga];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ga].modified_&&(CE(t),Xi(4)),cs(e)&&(e=FR(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ga].base_,e,t)}else e=FR(t,r);return aQ(t,e,!0),CE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H6?e:void 0}function FR(e,t){if(kv(t))return t;const r=t[ga];if(!r)return ox(t,e.handledSet_,e);if(!Iv(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);X6(r,e)}return r.copy_}function aQ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wS(t,r)}function K6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Iv=(e,t)=>e.scope_===t,iQ=[];function Y6(e,t,r,n){const a=so(e),i=e.type_;if(n!==void 0&&TE(a,n,i)===t){ix(a,n,r,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Tv(a,(u,d)=>{if(Eo(d)){const h=o.get(d)||[];h.push(u),o.set(d,h)}})}const s=e.draftLocations_.get(t)??iQ;for(const o of s)ix(a,o,r,i)}function sQ(e,t,r){e.callbacks_.push(function(a){var o;const i=t;if(!i||!Iv(i,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(i);const s=bS(i);Y6(e,i.draft_??i,s,r),X6(i,a)})}function X6(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}K6(e)}}function oQ(e,t,r){const{scope_:n}=e;if(Eo(r)){const a=r[ga];Iv(a,n)&&a.callbacks_.push(function(){Ig(e);const s=bS(a);Y6(e,r,s,t)})}else cs(r)&&e.callbacks_.push(function(){const i=so(e);e.type_===3?i.has(r)&&ox(r,n.handledSet_,n):TE(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ox(TE(e.copy_,t,e.type_),n.handledSet_,n)})}function ox(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Eo(e)||t.has(e)||!cs(e)||kv(e)||(t.add(e),Tv(e,(n,a)=>{if(Eo(a)){const i=a[ga];if(Iv(i,r)){const s=bS(i);ix(e,n,s,e.type_),K6(i)}}else cs(a)&&ox(a,t,r)})),e}function lQ(e,t){const r=Nv(e),n={type_:r?1:0,scope_:t?t.scope_:W6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=lx;r&&(a=[n],i=dh);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,[o,n]}var lx={get(e,t){if(t===ga)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=so(e);if(!RR(a,t,e.type_))return cQ(e,a,t);const i=a[t];if(e.finalized_||!cs(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&eQ(t))return i;if(i===Zw(e.base_,t)){Ig(e);const s=e.type_===1?+t:t,o=jE(e.scope_,i,e,s);return e.copy_[s]=o}return i},has(e,t){return t in so(e)},ownKeys(e){return Reflect.ownKeys(so(e))},set(e,t,r){const n=J6(so(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zw(so(e),t),i=a==null?void 0:a[ga];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(QZ(r,a)&&(r!==void 0||RR(e.base_,t,e.type_)))return!0;Ig(e),IE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),oQ(e,t,r)),!0},deleteProperty(e,t){return Ig(e),Zw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),IE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=so(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[kg]:!0,[SE]:e.type_!==1||t!=="length",[ax]:n[ax],[ch]:r[t]}},defineProperty(){Xi(11)},getPrototypeOf(e){return tf(e.base_)},setPrototypeOf(){Xi(12)}},dh={};for(let e in lx){let t=lx[e];dh[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}dh.deleteProperty=function(e,t){return dh.set.call(this,e,t,void 0)};dh.set=function(e,t,r){return lx.set.call(this,e[0],t,r,e[0])};function Zw(e,t){const r=e[ga];return(r?so(r):e)[t]}function cQ(e,t,r){var a;const n=J6(t,r);return n?ch in n?n[ch]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function J6(e,t){if(!(t in e))return;let r=tf(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=tf(r)}}function IE(e){e.modified_||(e.modified_=!0,e.parent_&&IE(e.parent_))}function Ig(e){e.copy_||(e.assigned_=new Map,e.copy_=NE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Cd(r)&&!Cd(n)){const s=n;n=r;const o=this;return function(d=s,...h){return o.produce(d,m=>n.call(this,m,...h))}}Cd(n)||Xi(6),a!==void 0&&!Cd(a)&&Xi(7);let i;if(cs(r)){const s=PR(this),o=jE(s,r,void 0);let u=!0;try{i=n(o),u=!1}finally{u?CE(s):kE(s)}return MR(s,a),LR(i,s)}else if(!r||!yS(r)){if(i=n(r),i===void 0&&(i=r),i===H6&&(i=void 0),this.autoFreeze_&&wS(i,!0),a){const s=[],o=[];Zc(AE).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:o}),a(s,o)}return i}else Xi(1,r)},this.produceWithPatches=(r,n)=>{if(Cd(r))return(o,...u)=>this.produceWithPatches(o,d=>r(d,...u));let a,i;return[this.produce(r,n,(o,u)=>{a=o,i=u}),a,i]},Jw(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Jw(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Jw(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cs(t)||Xi(8),Eo(t)&&(t=rs(t));const r=PR(this),n=jE(r,t,void 0);return n[ga].isManual_=!0,kE(r),n}finishDraft(t,r){const n=t&&t[ga];(!n||!n.isManual_)&&Xi(9);const{scope_:a}=n;return MR(a,r),LR(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Zc(AE).applyPatches_;return Eo(t)?a(t,r):this.produce(t,i=>a(i,r))}};function jE(e,t,r,n){const[a,i]=Av(t)?Zc(sx).proxyMap_(t,r):Cv(t)?Zc(sx).proxySet_(t,r):lQ(t,r);return((r==null?void 0:r.scope_)??W6()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?sQ(r,i,n):i.callbacks_.push(function(u){var h;(h=u.mapSetPlugin_)==null||h.fixSetContents(i);const{patchPlugin_:d}=u;i.modified_&&d&&d.generatePatches_(i,[],u)}),a}function rs(e){return Eo(e)||Xi(10,e),Z6(e)}function Z6(e){if(!cs(e)||kv(e))return e;const t=e[ga];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=NE(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=NE(e,!0);return Tv(r,(a,i)=>{ix(r,a,Z6(i))},n),t&&(t.finalized_=!1),r}var dQ=new uQ,Q6=dQ.produce;function eL(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var fQ=eL(),hQ=eL,mQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rx:rx.apply(null,arguments)};function Pi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ei(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>V6(n)&&n.type===e,r}var tL=class M0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,M0.prototype)}static get[Symbol.species](){return M0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new M0(...t[0].concat(this)):new M0(...t.concat(this))}};function BR(e){return cs(e)?Q6(e,()=>{}):e}function qp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function pQ(e){return typeof e=="boolean"}var gQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new tL;return r&&(pQ(r)?s.push(fQ):s.push(hQ(r.extraArgument))),s},rL="RTK_autoBatch",_r=()=>e=>({payload:e,meta:{[rL]:!0}}),UR=e=>t=>{setTimeout(t,e)},nL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UR(10):e.type==="callback"?e.queueNotification:UR(e.timeout),d=()=>{s=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){var m;try{return a=!((m=h==null?void 0:h.meta)!=null&&m[rL]),i=!a,i&&(s||(s=!0,u(d))),n.dispatch(h)}finally{a=!0}}})},xQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new tL(e);return n&&a.push(nL(typeof n=="object"?n:void 0)),a};function vQ(e){const t=gQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(vS(r))o=$6(r);else throw new Error(ei(1));let u;typeof n=="function"?u=n(t):u=t();let d=rx;a&&(d=mQ({trace:!1,...typeof a=="object"&&a}));const h=JZ(...u),m=xQ(h);let g=typeof s=="function"?s(m):m();const x=d(...g);return z6(o,i,x)}function aL(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ei(28));if(o in t)throw new Error(ei(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function yQ(e){return typeof e=="function"}function bQ(e,t){let[r,n,a]=aL(t),i;if(yQ(e))i=()=>BR(e());else{const o=BR(e);i=()=>o}function s(o=i(),u){let d=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[a]),d.reduce((h,m)=>{if(m)if(Eo(h)){const x=m(h,u);return x===void 0?h:x}else{if(cs(h))return Q6(h,g=>m(g,u));{const g=m(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return s.getInitialState=i,s}var wQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_Q=(e=21)=>{let t="",r=e;for(;r--;)t+=wQ[Math.random()*64|0];return t},EQ=Symbol.for("rtk-slice-createasyncthunk");function SQ(e,t){return`${e}/${t}`}function TQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[EQ];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(ei(11));const o=(typeof a.reducers=="function"?a.reducers(AQ()):a.reducers)||{},u=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,j){const O=typeof D=="string"?D:D.type;if(!O)throw new Error(ei(12));if(O in d.sliceCaseReducersByType)throw new Error(ei(13));return d.sliceCaseReducersByType[O]=j,h},addMatcher(D,j){return d.sliceMatchers.push({matcher:D,reducer:j}),h},exposeAction(D,j){return d.actionCreators[D]=j,h},exposeCaseReducer(D,j){return d.sliceCaseReducersByName[D]=j,h}};u.forEach(D=>{const j=o[D],O={reducerName:D,type:SQ(i,D),createNotation:typeof a.reducers=="function"};kQ(j)?jQ(O,j,h,t):CQ(O,j,h)});function m(){const[D={},j=[],O=void 0]=typeof a.extraReducers=="function"?aL(a.extraReducers):[a.extraReducers],I={...D,...d.sliceCaseReducersByType};return bQ(a.initialState,M=>{for(let R in I)M.addCase(R,I[R]);for(let R of d.sliceMatchers)M.addMatcher(R.matcher,R.reducer);for(let R of j)M.addMatcher(R.matcher,R.reducer);O&&M.addDefaultCase(O)})}const g=D=>D,x=new Map,b=new WeakMap;let y;function _(D,j){return y||(y=m()),y(D,j)}function N(){return y||(y=m()),y.getInitialState()}function k(D,j=!1){function O(M){let R=M[D];return typeof R>"u"&&j&&(R=qp(b,O,N)),R}function I(M=g){const R=qp(x,j,()=>new WeakMap);return qp(R,M,()=>{const z={};for(const[q,F]of Object.entries(a.selectors??{}))z[q]=NQ(F,M,()=>qp(b,M,N),j);return z})}return{reducerPath:D,getSelectors:I,get selectors(){return I(O)},selectSlice:O}}const A={name:i,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...k(s),injectInto(D,{reducerPath:j,...O}={}){const I=j??s;return D.inject({reducerPath:I,reducer:_},O),{...A,...k(I,!0)}}};return A}}function NQ(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var Ma=TQ();function AQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CQ({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!IQ(n))throw new Error(ei(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Pi(e,s):Pi(e))}function kQ(e){return e._reducerDefinitionType==="asyncThunk"}function IQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ei(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:u,settled:d,options:h}=r,m=a(e,i,h);n.exposeAction(t,m),s&&n.addCase(m.fulfilled,s),o&&n.addCase(m.pending,o),u&&n.addCase(m.rejected,u),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:s||Wp,pending:o||Wp,rejected:u||Wp,settled:d||Wp})}function Wp(){}var RQ="task",iL="listener",sL="completed",_S="cancelled",OQ=`task-${_S}`,DQ=`task-${sL}`,RE=`${iL}-${_S}`,MQ=`${iL}-${sL}`,jv=class{constructor(e){Pb(this,"name","TaskAbortError");Pb(this,"message");this.code=e,this.message=`${RQ} ${_S} (reason: ${e})`}},ES=(e,t)=>{if(typeof e!="function")throw new TypeError(ei(32))},cx=()=>{},oL=(e,t=cx)=>(e.catch(t),e),lL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Bc=e=>{if(e.aborted)throw new jv(e.reason)};function cL(e,t){let r=cx;return new Promise((n,a)=>{const i=()=>a(new jv(e.reason));if(e.aborted){i();return}r=lL(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=cx})}var PQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof jv?"cancelled":"rejected",error:r}}finally{t==null||t()}},ux=e=>t=>oL(cL(e,t).then(r=>(Bc(e),r))),uL=e=>{const t=ux(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ud}=Object,zR={},Rv="listenerMiddleware",LQ=(e,t)=>{const r=n=>lL(e,()=>n.abort(e.reason));return(n,a)=>{ES(n);const i=new AbortController;r(i);const s=PQ(async()=>{Bc(e),Bc(i.signal);const o=await n({pause:ux(i.signal),delay:uL(i.signal),signal:i.signal});return Bc(i.signal),o},()=>i.abort(DQ));return a!=null&&a.autoJoin&&t.push(s.catch(cx)),{result:ux(e)(s),cancel(){i.abort(OQ)}}}},FQ=(e,t)=>{const r=async(n,a)=>{Bc(t);let i=()=>{};const o=[new Promise((u,d)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{h(),d()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await cL(t,Promise.race(o));return Bc(t),u}finally{i()}};return(n,a)=>oL(r(n,a))},dL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Pi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ei(21));return ES(i),{predicate:a,type:t,effect:i}},fL=Ud(e=>{const{type:t,predicate:r,effect:n}=dL(e);return{id:_Q(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ei(22))}}},{withTypes:()=>fL}),$R=(e,t)=>{const{type:r,effect:n,predicate:a}=dL(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},OE=e=>{e.pending.forEach(t=>{t.abort(RE)})},BQ=(e,t)=>()=>{for(const r of t.keys())OE(r);e.clear()},VR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},hL=Ud(Pi(`${Rv}/add`),{withTypes:()=>hL}),UQ=Pi(`${Rv}/removeAll`),mL=Ud(Pi(`${Rv}/remove`),{withTypes:()=>mL}),zQ=(...e)=>{console.error(`${Rv}/error`,...e)},Gh=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:s=zQ}=e;ES(s);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b!=null&&b.cancelActive&&OE(x)}),u=x=>{const b=$R(t,x)??fL(x);return o(b)};Ud(u,{withTypes:()=>u});const d=x=>{const b=$R(t,x);return b&&(b.unsubscribe(),x.cancelActive&&OE(b)),!!b};Ud(d,{withTypes:()=>d});const h=async(x,b,y,_)=>{const N=new AbortController,k=FQ(u,N.signal),A=[];try{x.pending.add(N),n(x),await Promise.resolve(x.effect(b,Ud({},y,{getOriginalState:_,condition:(D,j)=>k(D,j).then(Boolean),take:k,delay:uL(N.signal),pause:ux(N.signal),extra:i,signal:N.signal,fork:LQ(N.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,j,O)=>{D!==N&&(D.abort(RE),O.delete(D))})},cancel:()=>{N.abort(RE),x.pending.delete(N)},throwIfCancelled:()=>{Bc(N.signal)}})))}catch(D){D instanceof jv||VR(s,D,{raisedBy:"effect"})}finally{await Promise.all(A),N.abort(MQ),a(x),x.pending.delete(N)}},m=BQ(t,r);return{middleware:x=>b=>y=>{if(!V6(y))return b(y);if(hL.match(y))return u(y.payload);if(UQ.match(y)){m();return}if(mL.match(y))return d(y.payload);let _=x.getState();const N=()=>{if(_===zR)throw new Error(ei(23));return _};let k;try{if(k=b(y),t.size>0){const A=x.getState(),D=Array.from(t.values());for(const j of D){let O=!1;try{O=j.predicate(y,A,_)}catch(I){O=!1,VR(s,I,{raisedBy:"predicate"})}O&&h(j,y,x,N)}}}finally{_=zR}return k},startListening:u,stopListening:d,clearListeners:m}};function ei(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $Q={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pL=Ma({name:"chartLayout",initialState:$Q,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:VQ,setLayout:HQ,setChartSize:GQ,setScale:qQ}=pL.actions,WQ=pL.reducer;function gL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ur(e){return Number.isFinite(e)}function Cs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){KQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KQ(e,t,r){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t,r){return xr(e)||xr(t)?r:As(t)?ef(e,t,r):typeof t=="function"?t(e):r}var JQ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Qe(e[i]))return Rd(Rd({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Qe(e[s]))return Rd(Rd({},e),{},{[s]:e[s]+(a||0)})}return e},Rs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xL=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},vL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!s)return null;var b=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/b:0;if(y=x==="angleAxis"&&i&&i.length>=2?ja(i[0]-i[1])*2*y:y,m||g){var _=(m||g||[]).map((N,k)=>{var A=n?n.indexOf(N):N;return{coordinate:s(A)+y,value:N,offset:y,index:k}});return _.filter(N=>!Mi(N.coordinate))}return u&&d?d.map((N,k)=>({coordinate:s(N)+y,value:N,index:k,offset:y})):s.ticks&&h!=null?s.ticks(h).map((N,k)=>({coordinate:s(N)+y,value:N,offset:y,index:k})):s.domain().map((N,k)=>({coordinate:s(N)+y,value:n?n[N]:N,index:k,offset:y}))},GR=1e-4,ZQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-GR,i=Math.max(n[0],n[1])+GR,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},QQ=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(a[0]=r),(!Qe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},eee=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0,o=0;o<r;++o){var u=e[o],d=u==null?void 0:u[a];if(d!=null){var h=d[1],m=d[0],g=Mi(h)?m:h;g>=0?(d[0]=i,d[1]=i+g,i=h):(d[0]=s,d[1]=s+g,s=h)}}}},tee=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0;s<r;++s){var o=e[s],u=o==null?void 0:o[a];if(u!=null){var d=Mi(u[1])?u[0]:u[1];d>=0?(u[0]=i,u[1]=i+d,i=u[1]):(u[0]=0,u[1]=0)}}}},ree={sign:eee,expand:wJ,none:Jc,silhouette:_J,wiggle:EJ,positive:tee},nee=(e,t,r)=>{var n,a=(n=ree[r])!==null&&n!==void 0?n:Jc,i=bJ().keys(t).value((o,u)=>Number(Mr(o,u,0))).order(_E).offset(a),s=i(e);return s.forEach((o,u)=>{o.forEach((d,h)=>{var m=Mr(e[h],t[u],0);Array.isArray(m)&&m.length===2&&Qe(m[0])&&Qe(m[1])&&(d[0]=m[0],d[1]=m[1])})}),s};function yL(e){return e==null?void 0:String(e)}function dx(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(a[t.dataKey])){var o=E6(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Mr(a,xr(s)?t.dataKey:s);return xr(u)?null:t.scale(u)}var qR=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Mr(i,t.dataKey,t.scale.domain()[s]);return xr(o)?null:t.scale(o)-a/2+n},aee=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},iee=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},see=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],oee=(e,t,r)=>{if(e!=null)return see(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:s}=i,o=s.reduce((u,d)=>{var h=gL(d,t,r),m=iee(h);return!ur(m[0])||!ur(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},WR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Ev(t,h=>h.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var u=a[s],d=a[s-1];i=Math.min(((u==null?void 0:u.coordinate)||0)-((d==null?void 0:d.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function YR(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Rd(Rd({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ff(e,t){if(e)return String(e);if(typeof t=="string")return t}var lee=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},cee=(e,t)=>t==="centric"?e.angle:e.radius,Oo=e=>e.layout.width,Do=e=>e.layout.height,uee=e=>e.layout.scale,bL=e=>e.layout.margin,Ov=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Dv=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dee="data-recharts-item-index",fee="data-recharts-item-id",qh=60;function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hee(e,t,r){return(t=mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gee=e=>e.brush.height;function xee(e){var t=Dv(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qh;return r+a}return r},0)}function vee(e){var t=Dv(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qh;return r+a}return r},0)}function yee(e){var t=Ov(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function bee(e){var t=Ov(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Tn=ke([Oo,Do,bL,gee,xee,vee,yee,bee,B6,HZ],(e,t,r,n,a,i,s,o,u,d)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+o},g=Kp(Kp({},m),h),x=g.bottom;g.bottom+=n,g=JQ(g,u,d);var b=e-g.left-g.right,y=t-g.top-g.bottom;return Kp(Kp({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(y,0)})}),wee=ke(Tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),SS=ke(Oo,Do,(e,t)=>({x:0,y:0,width:e,height:t})),_ee=S.createContext(null),Nn=()=>S.useContext(_ee)!=null,Mv=e=>e.brush,Pv=ke([Mv,Tn,bL],(e,t,r)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Qe(e.width)?e.width:t.width})),Qw={},e_={},t_={},JR;function Eee(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},m=()=>{d&&h(),y()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{b(),s=void 0,o=null},_=()=>{h()},N=function(...k){if(a!=null&&a.aborted)return;s=this,o=k;const A=g==null;x(),u&&A&&h()};return N.schedule=x,N.cancel=y,N.flush=_,a==null||a.addEventListener("abort",y,{once:!0}),N}e.debounce=t})(t_)),t_}var ZR;function See(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eee();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:u}=i,d=Array(2);s&&(d[0]="leading"),o&&(d[1]="trailing");let h,m=null;const g=t.debounce(function(...y){h=n.apply(this,y),m=null},a,{edges:d}),x=function(...y){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,y),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,y),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(e_)),e_}var QR;function Tee(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=See();function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(Qw)),Qw}var r_,e4;function Nee(){return e4||(e4=1,r_=Tee().throttle),r_}var Aee=Nee();const Cee=ds(Aee);var fx=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},wL=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=_o(n)?e:Number(n),u=_o(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},kee={width:0,height:0,overflow:"visible"},Iee={width:0,overflowX:"visible"},jee={height:0,overflowY:"visible"},Ree={},Oee=e=>{var{width:t,height:r}=e,n=_o(t),a=_o(r);return n&&a?kee:n?Iee:a?jee:Ree};function Dee(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(null,arguments)}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){Mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _L=S.createContext({width:-1,height:-1});function Fee(e){return Cs(e.width)&&Cs(e.height)}function EL(e){var{children:t,width:r,height:n}=e,a=S.useMemo(()=>({width:r,height:n}),[r,n]);return Fee(a)?S.createElement(_L.Provider,{value:a},t):null}var TS=()=>S.useContext(_L),Bee=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:u,children:d,debounce:h=0,id:m,className:g,onResize:x,style:b={}}=e,y=S.useRef(null),_=S.useRef();_.current=x,S.useImperativeHandle(t,()=>y.current);var[N,k]=S.useState({containerWidth:n.width,containerHeight:n.height}),A=S.useCallback((M,R)=>{k(z=>{var q=Math.round(M),F=Math.round(R);return z.containerWidth===q&&z.containerHeight===F?z:{containerWidth:q,containerHeight:F}})},[]);S.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Vh;var M=F=>{var Y,{width:de,height:ce}=F[0].contentRect;A(de,ce),(Y=_.current)===null||Y===void 0||Y.call(_,de,ce)};h>0&&(M=Cee(M,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),{width:z,height:q}=y.current.getBoundingClientRect();return A(z,q),R.observe(y.current),()=>{R.disconnect()}},[A,h]);var{containerWidth:D,containerHeight:j}=N;fx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:I}=wL(D,j,{width:a,height:i,aspect:r,maxHeight:u});return fx(O!=null&&O>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,I,a,i,s,o,r),S.createElement("div",{id:m?"".concat(m):void 0,className:Gt("recharts-responsive-container",g),style:r4(r4({},b),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:u}),ref:y},S.createElement("div",{style:Oee({width:a,height:i})},S.createElement(EL,{width:O,height:I},d)))}),Lv=S.forwardRef((e,t)=>{var r=TS();if(Cs(r.width)&&Cs(r.height))return e.children;var{width:n,height:a}=Dee({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=wL(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(i)&&Qe(s)?S.createElement(EL,{width:i,height:s},e.children):S.createElement(Bee,DE({},e,{width:n,height:a,ref:t}))});function SL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Fv=()=>{var e,t=Nn(),r=it(wee),n=it(Pv),a=(e=it(Mv))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Uee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TL=()=>{var e;return(e=it(Tn))!==null&&e!==void 0?e:Uee},NS=()=>it(Oo),AS=()=>it(Do),zee=()=>it(e=>e.layout.margin),jt=e=>e.layout.layoutType,$l=()=>it(jt),$ee=()=>{var e=$l();if(e==="horizontal"||e==="vertical")return e},Vee=()=>{var e=$l();return e!==void 0},Bv=e=>{var t=Cr(),r=Nn(),{width:n,height:a}=e,i=TS(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),S.useEffect(()=>{!r&&Cs(s)&&Cs(o)&&t(GQ({width:s,height:o}))},[t,r,s,o]),null},NL=Symbol.for("immer-nothing"),n4=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function Ji(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fh=Object.getPrototypeOf;function rf(e){return!!e&&!!e[ai]}function Qc(e){var t;return e?AL(e)||Array.isArray(e)||!!e[n4]||!!((t=e.constructor)!=null&&t[n4])||Wh(e)||zv(e):!1}var Hee=Object.prototype.constructor.toString(),a4=new WeakMap;function AL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=a4.get(r);return n===void 0&&(n=Function.toString.call(r),a4.set(r,n)),n===Hee}function hx(e,t,r=!0){Uv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Uv(e){const t=e[ai];return t?t.type_:Array.isArray(e)?1:Wh(e)?2:zv(e)?3:0}function ME(e,t){return Uv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CL(e,t,r){const n=Uv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Gee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Wh(e){return e instanceof Map}function zv(e){return e instanceof Set}function bc(e){return e.copy_||e.base_}function PE(e,t){if(Wh(e))return new Map(e);if(zv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=AL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ai];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(fh(e),n)}else{const n=fh(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function CS(e,t=!1){return $v(e)||rf(e)||!Qc(e)||(Uv(e)>1&&Object.defineProperties(e,{set:Yp,add:Yp,clear:Yp,delete:Yp}),Object.freeze(e),t&&Object.values(e).forEach(r=>CS(r,!0))),e}function qee(){Ji(2)}var Yp={value:qee};function $v(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Wee={};function eu(e){const t=Wee[e];return t||Ji(0,e),t}var hh;function kL(){return hh}function Kee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function i4(e,t){t&&(eu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function LE(e){FE(e),e.drafts_.forEach(Yee),e.drafts_=null}function FE(e){e===hh&&(hh=e.parent_)}function s4(e){return hh=Kee(hh,e)}function Yee(e){const t=e[ai];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function o4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ai].modified_&&(LE(t),Ji(4)),Qc(e)&&(e=mx(t,e),t.parent_||px(t,e)),t.patches_&&eu("Patches").generateReplacementPatches_(r[ai].base_,e,t.patches_,t.inversePatches_)):e=mx(t,r,[]),LE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NL?e:void 0}function mx(e,t,r){if($v(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ai];if(!a)return hx(t,(i,s)=>l4(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return px(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),hx(s,(u,d)=>l4(e,a,i,u,d,r,o),n),px(e,i,!1),r&&e.patches_&&eu("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function l4(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=$v(a);if(!(o&&!s)){if(rf(a)){const u=i&&t&&t.type_!==3&&!ME(t.assigned_,n)?i.concat(n):void 0,d=mx(e,a,u);if(CL(r,n,d),rf(d))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Qc(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;mx(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Wh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&px(e,a)}}}function px(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&CS(t,r)}function Xee(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=kS;r&&(a=[n],i=mh);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var kS={get(e,t){if(t===ai)return e;const r=bc(e);if(!ME(r,t))return Jee(e,r,t);const n=r[t];return e.finalized_||!Qc(n)?n:n===n_(e.base_,t)?(a_(e),e.copy_[t]=UE(n,e)):n},has(e,t){return t in bc(e)},ownKeys(e){return Reflect.ownKeys(bc(e))},set(e,t,r){const n=IL(bc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=n_(bc(e),t),i=a==null?void 0:a[ai];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Gee(r,a)&&(r!==void 0||ME(e.base_,t)))return!0;a_(e),BE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return n_(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,a_(e),BE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=bc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ji(11)},getPrototypeOf(e){return fh(e.base_)},setPrototypeOf(){Ji(12)}},mh={};hx(kS,(e,t)=>{mh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mh.deleteProperty=function(e,t){return mh.set.call(this,e,t,void 0)};mh.set=function(e,t,r){return kS.set.call(this,e[0],t,r,e[0])};function n_(e,t){const r=e[ai];return(r?bc(r):e)[t]}function Jee(e,t,r){var a;const n=IL(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function IL(e,t){if(!(t in e))return;let r=fh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fh(r)}}function BE(e){e.modified_||(e.modified_=!0,e.parent_&&BE(e.parent_))}function a_(e){e.copy_||(e.copy_=PE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...d){return s.produce(u,h=>r.call(this,h,...d))}}typeof r!="function"&&Ji(6),n!==void 0&&typeof n!="function"&&Ji(7);let a;if(Qc(t)){const i=s4(this),s=UE(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?LE(i):FE(i)}return i4(i,n),o4(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===NL&&(a=void 0),this.autoFreeze_&&CS(a,!0),n){const i=[],s=[];eu("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Ji(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,u=>t(u,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qc(e)||Ji(8),rf(e)&&(e=Qee(e));const t=s4(this),r=UE(e,void 0);return r[ai].isManual_=!0,FE(t),r}finishDraft(e,t){const r=e&&e[ai];(!r||!r.isManual_)&&Ji(9);const{scope_:n}=r;return i4(n,t),o4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=eu("Patches").applyPatches_;return rf(e)?n(e,t):this.produce(e,a=>n(a,t))}};function UE(e,t){const r=Wh(e)?eu("MapSet").proxyMap_(e,t):zv(e)?eu("MapSet").proxySet_(e,t):Xee(e,t);return(t?t.scope_:kL()).drafts_.push(r),r}function Qee(e){return rf(e)||Ji(10,e),jL(e)}function jL(e){if(!Qc(e)||$v(e))return e;const t=e[ai];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=PE(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=PE(e,!0);return hx(r,(a,i)=>{CL(r,a,jL(i))},n),t&&(t.finalized_=!1),r}var ete=new Zee;ete.produce;var tte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RL=Ma({name:"legend",initialState:tte,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_r()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:_r()},removeLegendPayload:{reducer(e,t){var r=rs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:_r()}}}),{setLegendSize:c4,setLegendSettings:rte,addLegendPayload:nte,replaceLegendPayload:ate,removeLegendPayload:ite}=RL.actions,ste=RL.reducer,ote=["contextPayload"];function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(null,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lte(e,t,r){return(t=cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dte(e,t){if(e==null)return{};var r,n,a=fte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hte(e){return e.value}function mte(e){var{contextPayload:t}=e,r=dte(e,ote),n=M6(t,e.payloadUniqBy,hte),a=nf(nf({},r),{},{payload:n});return S.isValidElement(e.content)?S.cloneElement(e.content,a):typeof e.content=="function"?S.createElement(e.content,a):S.createElement(QJ,a)}function pte(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:u}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?d={left:((n||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),nf(nf({},d),h)}function gte(e){var t=Cr();return S.useEffect(()=>{t(rte(e))},[t,e]),null}function xte(e){var t=Cr();return S.useEffect(()=>(t(c4(e)),()=>{t(c4({width:0,height:0}))}),[t,e]),null}function vte(e,t,r,n){return e==="vertical"&&Qe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var yte={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function IS(e){var t=un(e,yte),r=WZ(),n=HX(),a=zee(),{width:i,height:s,wrapperStyle:o,portal:u}=t,[d,h]=U6([r]),m=NS(),g=AS();if(m==null||g==null)return null;var x=m-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),b=vte(t.layout,s,i,x),y=u?o:nf(nf({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||s||"auto"},pte(o,t,a,m,g,d)),o),_=u??n;if(_==null||r==null)return null;var N=S.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:h},S.createElement(gte,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&S.createElement(xte,{width:d.width,height:d.height}),S.createElement(mte,zE({},t,b,{margin:a,chartWidth:m,chartHeight:g,contextPayload:r})));return oS.createPortal(N,_)}IS.displayName="Legend";function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(null,arguments)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e){return Array.isArray(e)&&As(e[0])&&As(e[1])?e.join(" ~ "):e}var Ste=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var j={padding:0,margin:0},O=(o?Ev(i,o):i).map((I,M)=>{if(I.type==="none")return null;var R=I.formatter||s||Ete,{value:z,name:q}=I,F=z,Y=q;if(R){var de=R(z,q,I,M,i);if(Array.isArray(de))[F,Y]=de;else if(de!=null)F=de;else return null}var ce=i_({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ce},As(Y)?S.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,As(Y)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},F),S.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},b=i_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=i_({margin:0},a),_=!xr(h),N=_?h:"",k=Gt("recharts-default-tooltip",u),A=Gt("recharts-tooltip-label",d);_&&m&&i!==void 0&&i!==null&&(N=m(h,i));var D=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",$E({className:k,style:b},D),S.createElement("p",{className:A,style:y},S.isValidElement(N)?N:"".concat(N)),x())},b0="recharts-tooltip-wrapper",Tte={visibility:"hidden"};function Nte(e){var{coordinate:t,translateX:r,translateY:n}=e;return Gt(b0,{["".concat(b0,"-right")]:Qe(r)&&t&&Qe(t.x)&&r>=t.x,["".concat(b0,"-left")]:Qe(r)&&t&&Qe(t.x)&&r<t.x,["".concat(b0,"-bottom")]:Qe(n)&&t&&Qe(t.y)&&n>=t.y,["".concat(b0,"-top")]:Qe(n)&&t&&Qe(t.y)&&n<t.y})}function f4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:d}=e;if(i&&Qe(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return s[n]?h:m;var g=u[n];if(g==null)return 0;if(s[n]){var x=h,b=g;return x<b?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var y=m+o,_=g+d;return y>_?Math.max(h,g):Math.max(m,g)}function Ate(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Cte(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:u}=e,d,h,m;return s.height>0&&s.width>0&&r?(h=f4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),m=f4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),d=Ate({translateX:h,translateY:m,useTranslate3d:o})):d=Tte,{cssProperties:d,cssClasses:Nte({translateX:h,translateY:m,coordinate:r})}}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){VE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VE(e,t,r){return(t=kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jte extends S.PureComponent{constructor(){super(...arguments),VE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:u,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:y,innerRef:_,hasPortalFromProps:N}=this.props,{cssClasses:k,cssProperties:A}=Cte({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:x}),D=N?{}:Xp(Xp({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Xp(Xp({},D),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:j,ref:_},i)}}var OL=()=>{var e;return(e=it(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(null,arguments)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){Rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rte(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4={curveBasisClosed:cJ,curveBasisOpen:uJ,curveBasis:lJ,curveBumpX:KX,curveBumpY:YX,curveLinearClosed:dJ,curveLinear:bv,curveMonotoneX:fJ,curveMonotoneY:hJ,curveNatural:mJ,curveStep:pJ,curveStepAfter:xJ,curveStepBefore:gJ},gx=e=>ur(e.x)&&ur(e.y),x4=e=>e.base!=null&&gx(e.base)&&gx(e),w0=e=>e.x,_0=e=>e.y,Mte=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($h(e));return(r==="curveMonotone"||r==="curveBump")&&t?g4["".concat(r).concat(t==="vertical"?"Y":"X")]:g4[r]||bv},Pte=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=Mte(t,a),o=i?r.filter(gx):r,u;if(Array.isArray(n)){var d=r.map((x,b)=>p4(p4({},x),{},{base:n[b]}));a==="vertical"?u=$p().y(_0).x1(w0).x0(x=>x.base.x):u=$p().x(w0).y1(_0).y0(x=>x.base.y);var h=u.defined(x4).curve(s),m=i?d.filter(x4):d;return h(m)}a==="vertical"&&Qe(n)?u=$p().y(_0).x1(w0).x0(n):Qe(n)?u=$p().x(w0).y1(_0).y0(n):u=u6().x(w0).y(_0);var g=u.defined(gx).curve(s);return g(o)},H0=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=$l();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},o=r&&r.length?Pte(s):n;return S.createElement("path",HE({},ni(e),pS(e),{className:Gt("recharts-curve",t),d:o===null?void 0:o,ref:a}))},Lte=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(null,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){Bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $te(e,t){if(e==null)return{};var r,n,a=Vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hte=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Gte=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,u=$te(e,Lte),d=Fte({x:t,y:r,top:n,left:a,width:i,height:s},u);return!Qe(t)||!Qe(r)||!Qe(i)||!Qe(s)||!Qe(n)||!Qe(a)?null:S.createElement("path",GE({},ra(d),{className:Gt("recharts-cross",o),d:Hte(t,r,i,s,n,a)}))};function qte(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){Wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t,r){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DL=(e,t,r)=>e.map(n=>"".concat(Xte(n)," ").concat(t,"ms ").concat(r)).join(","),Jte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ph=(e,t)=>Object.keys(t).reduce((r,n)=>b4(b4({},r),{},{[n]:e(n,t[n])}),{});function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xx=(e,t,r)=>e+(t-e)*r,qE=e=>{var{from:t,to:r}=e;return t!==r},ML=(e,t,r)=>{var n=ph((a,i)=>{if(qE(i)){var[s,o]=e(i.from,i.to,i.velocity);return nn(nn({},i),{},{from:s,velocity:o})}return i},t);return r<1?ph((a,i)=>qE(i)&&n[a]!=null?nn(nn({},i),{},{velocity:xx(i.velocity,n[a].velocity,r),from:xx(i.from,n[a].from,r)}):i,t):ML(e,n,r-1)};function tre(e,t,r,n,a,i){var s,o=n.reduce((g,x)=>nn(nn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>ph((g,x)=>x.from,o),d=()=>!Object.values(o).filter(qE).length,h=null,m=g=>{s||(s=g);var x=g-s,b=x/r.dt;o=ML(r,o,b),a(nn(nn(nn({},e),t),u())),s=g,d()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function rre(e,t,r,n,a,i,s){var o=null,u=a.reduce((m,g)=>{var x=e[g],b=t[g];return x==null||b==null?m:nn(nn({},m),{},{[g]:[x,b]})},{}),d,h=m=>{d||(d=m);var g=(m-d)/n,x=ph((y,_)=>xx(..._,r(g)),u);if(i(nn(nn(nn({},e),t),x)),g<1)o=s.setTimeout(h);else{var b=ph((y,_)=>xx(..._,r(1)),u);i(nn(nn(nn({},e),t),b))}};return()=>(o=s.setTimeout(h),()=>{var m;(m=o)===null||m===void 0||m()})}const nre=(e,t,r,n,a,i)=>{var s=Jte(e,t);return r==null?()=>(a(nn(nn({},e),t)),()=>{}):r.isStepper===!0?tre(e,t,r,s,a,i):rre(e,t,r,n,s,a,i)};var vx=1e-4,PL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),_4=(e,t)=>r=>{var n=PL(e,t);return LL(n,r)},are=(e,t)=>r=>{var n=PL(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return LL(a,r)},ire=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},sre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=ire(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},ore=(e,t,r,n)=>{var a=_4(e,r),i=_4(t,n),s=are(e,r),o=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,m=h,g=0;g<8;++g){var x=a(m)-h,b=s(m);if(Math.abs(x-h)<vx||b<vx)return i(m);m=o(m-x/b)}return i(m)};return u.isStepper=!1,u},E4=function(){return ore(...sre(...arguments))},lre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,u)=>{var d=-(s-o)*r,h=u*n,m=u+(d-h)*a/1e3,g=u*a/1e3+s;return Math.abs(g-o)<vx&&Math.abs(m)<vx?[o,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},cre=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return E4(e);case"spring":return lre();default:if(e.split("(")[0]==="cubic-bezier")return E4(e)}return typeof e=="function"?e:null};function ure(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...d]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,d),u);return}i(u),a=e.setTimeout(i.bind(null,d));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class dre{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function fre(){return ure(new dre)}var hre=S.createContext(fre);function mre(e,t){var r=S.useContext(hre);return S.useMemo(()=>t??r(e),[e,t,r])}var pre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Kh={isSsr:pre()},gre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},S4={t:0},s_={t:1};function Yh(e){var t=un(e,gre),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:u,children:d}=t,h=r==="auto"?!Kh.isSsr:r,m=mre(t.animationId,t.animationManager),[g,x]=S.useState(h?S4:s_),b=S.useRef(null);return S.useEffect(()=>{h||x(s_)},[h]),S.useEffect(()=>{if(!h||!n)return Vh;var y=nre(S4,s_,cre(i),a,x,m.getTimeoutController()),_=()=>{b.current=y()};return m.start([u,s,_,a,o]),()=>{m.stop(),b.current&&b.current(),o()}},[h,n,a,i,s,u,o,m]),d(g.t)}function Xh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(lh(t)),n=S.useRef(e);return n.current!==e&&(r.current=lh(t),n.current=e),r.current}var xre=["radius"],vre=["radius"],T4,N4,A4,C4,k4,I4,j4,R4,O4,D4;function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){yre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yre(e,t,r){return(t=bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function L4(e,t){if(e==null)return{};var r,n,a=_re(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _re(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ys(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F4=(e,t,r,n,a)=>{var i=Al(r),s=Al(n),o=Math.min(Math.abs(i)/2,Math.abs(s)/2),u=s>=0?1:-1,d=i>=0?1:-1,h=s>=0&&i>=0||s<0&&i<0?1:0,m;if(o>0&&a instanceof Array){for(var g=[0,0,0,0],x=0,b=4;x<b;x++)g[x]=a[x]>o?o:a[x];m=Rr(T4||(T4=ys(["M",",",""])),e,t+u*g[0]),g[0]>0&&(m+=Rr(N4||(N4=ys(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,e+d*g[0],t)),m+=Rr(A4||(A4=ys(["L ",",",""])),e+r-d*g[1],t),g[1]>0&&(m+=Rr(C4||(C4=ys(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,e+r,t+u*g[1])),m+=Rr(k4||(k4=ys(["L ",",",""])),e+r,t+n-u*g[2]),g[2]>0&&(m+=Rr(I4||(I4=ys(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,e+r-d*g[2],t+n)),m+=Rr(j4||(j4=ys(["L ",",",""])),e+d*g[3],t+n),g[3]>0&&(m+=Rr(R4||(R4=ys(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,e,t+n-u*g[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);m=Rr(O4||(O4=ys(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*y,y,y,h,e+d*y,t,e+r-d*y,t,y,y,h,e+r,t+u*y,e+r,t+n-u*y,y,y,h,e+r-d*y,t+n,e+d*y,t+n,y,y,h,e,t+n-u*y)}else m=Rr(D4||(D4=ys(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},B4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FL=e=>{var t=un(e,B4),r=S.useRef(null),[n,a]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&a(ae)}catch{}},[]);var{x:i,y:s,width:o,height:u,radius:d,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:y}=t,_=S.useRef(o),N=S.useRef(u),k=S.useRef(i),A=S.useRef(s),D=S.useMemo(()=>({x:i,y:s,width:o,height:u,radius:d}),[i,s,o,u,d]),j=Xh(D,"rectangle-");if(i!==+i||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var O=Gt("recharts-rectangle",h);if(!y){var I=ra(t),{radius:M}=I,R=L4(I,xre);return S.createElement("path",yx({},R,{x:Al(i),y:Al(s),width:Al(o),height:Al(u),radius:typeof d=="number"?d:void 0,className:O,d:F4(i,s,o,u,d)}))}var z=_.current,q=N.current,F=k.current,Y=A.current,de="0px ".concat(n===-1?1:n,"px"),ce="".concat(n,"px 0px"),K=DL(["strokeDasharray"],g,typeof m=="string"?m:B4.animationEasing);return S.createElement(Yh,{animationId:j,key:j,canBegin:n>0,duration:g,easing:m,isActive:y,begin:x},ae=>{var Z=ar(z,o,ae),W=ar(q,u,ae),ee=ar(F,i,ae),H=ar(Y,s,ae);r.current&&(_.current=Z,N.current=W,k.current=ee,A.current=H);var L;b?ae>0?L={transition:K,strokeDasharray:ce}:L={strokeDasharray:de}:L={strokeDasharray:ce};var J=ra(t),{radius:U}=J,B=L4(J,vre);return S.createElement("path",yx({},B,{radius:typeof d=="number"?d:void 0,className:O,d:F4(ee,H,Z,W,d),ref:r,style:P4(P4({},L),t.style)}))})};function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bx=Math.PI/180,Nre=e=>e*180/Math.PI,Hn=(e,t,r,n)=>({x:e+Math.cos(-bx*n)*r,y:t+Math.sin(-bx*n)*r}),Are=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Cre=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},kre=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=Cre({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:s,angle:Nre(u),angleInRadian:u}},Ire=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},jre=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},Rre=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=kre({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:u,endAngle:d}=Ire(t),h=i,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?z4(z4({},t),{},{radius:a,angle:jre(h,t)}):null};function BL(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Hn(t,r,n,a),o=Hn(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var $4,V4,H4,G4,q4,W4,K4;function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(null,arguments)}function Ac(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ore=(e,t)=>{var r=ja(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Jp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:u}=e,d=o*(s?1:-1)+n,h=Math.asin(o/d)/bx,m=u?a:a+i*h,g=Hn(t,r,d,m),x=Hn(t,r,n,m),b=u?a-i*h:a,y=Hn(t,r,d*Math.cos(h*bx),b);return{center:g,circleTangency:x,lineTangency:y,theta:h}},UL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=Ore(i,s),u=i+o,d=Hn(t,r,a,i),h=Hn(t,r,a,u),m=Rr($4||($4=Ac(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,a,a,+(Math.abs(o)>180),+(i>u),h.x,h.y);if(n>0){var g=Hn(t,r,n,i),x=Hn(t,r,n,u);m+=Rr(V4||(V4=Ac(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(o)>180),+(i<=u),g.x,g.y)}else m+=Rr(H4||(H4=Ac(["L ",","," Z"])),t,r);return m},Dre=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:d}=e,h=ja(d-u),{circleTangency:m,lineTangency:g,theta:x}=Jp({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:y,theta:_}=Jp({cx:t,cy:r,radius:a,angle:d,sign:-h,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(u-d):Math.abs(u-d)-x-_;if(N<0)return s?Rr(G4||(G4=Ac(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):UL({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:d});var k=Rr(q4||(q4=Ac(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(h<0),m.x,m.y,a,a,+(N>180),+(h<0),b.x,b.y,i,i,+(h<0),y.x,y.y);if(n>0){var{circleTangency:A,lineTangency:D,theta:j}=Jp({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:I,theta:M}=Jp({cx:t,cy:r,radius:n,angle:d,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),R=o?Math.abs(u-d):Math.abs(u-d)-j-M;if(R<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+=Rr(W4||(W4=Ac(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,i,i,+(h<0),O.x,O.y,n,n,+(R>180),+(h>0),A.x,A.y,i,i,+(h<0),D.x,D.y)}else k+=Rr(K4||(K4=Ac(["L",",","Z"])),t,r);return k},Mre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=e=>{var t=un(e,Mre),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h,className:m}=t;if(i<a||d===h)return null;var g=Gt("recharts-sector",m),x=i-a,b=ls(s,x,0,!0),y;return b>0&&Math.abs(d-h)<360?y=Dre({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h}):y=UL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:h}),S.createElement("path",WE({},ra(t),{className:g,d:y}))};function Pre(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(T6(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,u=Hn(n,a,i,o),d=Hn(n,a,s,o);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return BL(t)}}var o_={},l_={},c_={},Y4;function Lre(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L6();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(c_)),c_}var X4;function Fre(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lre();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(l_)),l_}var J4;function Bre(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6(),r=Fre();function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),u=new Array(o);for(let d=0;d<o;d++)u[d]=a,a+=s;return u}e.range=n})(o_)),o_}var u_,Z4;function Ure(){return Z4||(Z4=1,u_=Bre().range),u_}var zre=Ure();const $L=ds(zre);function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $re(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jS(e){let t,r,n;e.length!==2?(t=jl,r=(o,u)=>jl(e(o),u),n=(o,u)=>e(o)-u):(t=e===jl||e===$re?e:Vre,r=e,n=e);function a(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(o[m],u)<0?d=m+1:h=m}while(d<h)}return d}function i(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(o[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function s(o,u,d=0,h=o.length){const m=a(o,u,d,h-1);return m>d&&n(o[m-1],u)>-n(o[m],u)?m-1:m}return{left:a,center:s,right:i}}function Vre(){return 0}function VL(e){return e===null?NaN:+e}function*Hre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gre=jS(jl),Jh=Gre.right;jS(VL).center;class Q4 extends Map{constructor(t,r=Kre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eO(this,t))}has(t){return super.has(eO(this,t))}set(t,r){return super.set(qre(this,t),r)}delete(t){return super.delete(Wre(this,t))}}function eO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Wre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Yre(e=jl){if(e===jl)return HL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function HL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Xre=Math.sqrt(50),Jre=Math.sqrt(10),Zre=Math.sqrt(2);function wx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Xre?10:i>=Jre?5:i>=Zre?2:1;let o,u,d;return a<0?(d=Math.pow(10,-a)/s,o=Math.round(e*d),u=Math.round(t*d),o/d<e&&++o,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*s,o=Math.round(e/d),u=Math.round(t/d),o*d<e&&++o,u*d>t&&--u),u<o&&.5<=r&&r<2?wx(e,t,r*2):[o,u,d]}function KE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?wx(t,e,r):wx(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(s<0)for(let d=0;d<o;++d)u[d]=(i-d)/-s;else for(let d=0;d<o;++d)u[d]=(i-d)*s;else if(s<0)for(let d=0;d<o;++d)u[d]=(a+d)/-s;else for(let d=0;d<o;++d)u[d]=(a+d)*s;return u}function YE(e,t,r){return t=+t,e=+e,r=+r,wx(e,t,r)[2]}function XE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?YE(t,e,r):YE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?HL:Yre(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(t-d*m/u+g)),b=Math.min(n,Math.floor(t+(u-d)*m/u+g));GL(e,t,x,b,a)}const i=e[t];let s=r,o=n;for(E0(e,r,t),a(e[n],i)>0&&E0(e,r,n);s<o;){for(E0(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?E0(e,r,o):(++o,E0(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function E0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Qre(e,t,r){if(e=Float64Array.from(Hre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rO(e);if(t>=1)return tO(e);var n,a=(n-1)*t,i=Math.floor(a),s=tO(GL(e,i).subarray(0,i+1)),o=rO(e.subarray(i+1));return s+(o-s)*(a-i)}}function ene(e,t,r=VL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function tne(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const JE=Symbol("implicit");function RS(){var e=new Q4,t=[],r=[],n=JE;function a(i){let s=e.get(i);if(s===void 0){if(n!==JE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Q4;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RS(t,r).unknown(n)},Ui.apply(a,arguments),a}function OS(){var e=RS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,y=x?n:a;i=(y-b)/Math.max(1,g-u+d*2),o&&(i=Math.floor(i)),b+=(y-b-i*(g-u))*h,s=i*(1-u),o&&(b=Math.round(b),s=Math.round(s));var _=tne(g).map(function(N){return b+i*N});return r(x?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return OS(t(),[n,a]).round(o).paddingInner(u).paddingOuter(d).align(h)},Ui.apply(m(),arguments)}function qL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qL(t())},e}function rne(){return qL(OS.apply(null,arguments).paddingInner(1))}function DS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zh(){}var gh=.7,_x=1/gh,zd="\\s*([+-]?\\d+)\\s*",xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nne=/^#([0-9a-f]{3,8})$/,ane=new RegExp(`^rgb\\(${zd},${zd},${zd}\\)$`),ine=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),sne=new RegExp(`^rgba\\(${zd},${zd},${zd},${xh}\\)$`),one=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${xh}\\)$`),lne=new RegExp(`^hsl\\(${xh},${Ns},${Ns}\\)$`),cne=new RegExp(`^hsla\\(${xh},${Ns},${Ns},${xh}\\)$`),nO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DS(Zh,vh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aO,formatHex:aO,formatHex8:une,formatHsl:dne,formatRgb:iO,toString:iO});function aO(){return this.rgb().formatHex()}function une(){return this.rgb().formatHex8()}function dne(){return KL(this).formatHsl()}function iO(){return this.rgb().formatRgb()}function vh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nne.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sO(t):r===3?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ane.exec(e))?new Ra(t[1],t[2],t[3],1):(t=ine.exec(e))?new Ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sne.exec(e))?Zp(t[1],t[2],t[3],t[4]):(t=one.exec(e))?Zp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lne.exec(e))?cO(t[1],t[2]/100,t[3]/100,1):(t=cne.exec(e))?cO(t[1],t[2]/100,t[3]/100,t[4]):nO.hasOwnProperty(e)?sO(nO[e]):e==="transparent"?new Ra(NaN,NaN,NaN,0):null}function sO(e){return new Ra(e>>16&255,e>>8&255,e&255,1)}function Zp(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ra(e,t,r,n)}function fne(e){return e instanceof Zh||(e=vh(e)),e?(e=e.rgb(),new Ra(e.r,e.g,e.b,e.opacity)):new Ra}function ZE(e,t,r,n){return arguments.length===1?fne(e):new Ra(e,t,r,n??1)}function Ra(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}DS(Ra,ZE,WL(Zh,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ra(Uc(this.r),Uc(this.g),Uc(this.b),Ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oO,formatHex:oO,formatHex8:hne,formatRgb:lO,toString:lO}));function oO(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function hne(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function lO(){const e=Ex(this.opacity);return`${e===1?"rgb(":"rgba("}${Uc(this.r)}, ${Uc(this.g)}, ${Uc(this.b)}${e===1?")":`, ${e})`}`}function Ex(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cc(e){return e=Uc(e),(e<16?"0":"")+e.toString(16)}function cO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zi(e,t,r,n)}function KL(e){if(e instanceof Zi)return new Zi(e.h,e.s,e.l,e.opacity);if(e instanceof Zh||(e=vh(e)),!e)return new Zi;if(e instanceof Zi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,u=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=u<.5?i+a:2-i-a,s*=60):o=u>0&&u<1?0:s,new Zi(s,o,u,e.opacity)}function mne(e,t,r,n){return arguments.length===1?KL(e):new Zi(e,t,r,n??1)}function Zi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}DS(Zi,mne,WL(Zh,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new Zi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gh:Math.pow(gh,e),new Zi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ra(d_(e>=240?e-240:e+120,a,n),d_(e,a,n),d_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Zi(uO(this.h),Qp(this.s),Qp(this.l),Ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ex(this.opacity);return`${e===1?"hsl(":"hsla("}${uO(this.h)}, ${Qp(this.s)*100}%, ${Qp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uO(e){return e=(e||0)%360,e<0?e+360:e}function Qp(e){return Math.max(0,Math.min(1,e||0))}function d_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const MS=e=>()=>e;function pne(e,t){return function(r){return e+r*t}}function gne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function xne(e){return(e=+e)==1?YL:function(t,r){return r-t?gne(t,r,e):MS(isNaN(t)?r:t)}}function YL(e,t){var r=t-e;return r?pne(e,r):MS(isNaN(e)?t:e)}const dO=(function e(t){var r=xne(t);function n(a,i){var s=r((a=ZE(a)).r,(i=ZE(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),d=YL(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=o(h),a.b=u(h),a.opacity=d(h),a+""}}return n.gamma=e,n})(1);function vne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function yne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=hf(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function wne(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _ne(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=hf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var QE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,f_=new RegExp(QE.source,"g");function Ene(e){return function(){return e}}function Sne(e){return function(t){return e(t)+""}}function Tne(e,t){var r=QE.lastIndex=f_.lastIndex=0,n,a,i,s=-1,o=[],u=[];for(e=e+"",t=t+"";(n=QE.exec(e))&&(a=f_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,u.push({i:s,x:Sx(n,a)})),r=f_.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?Sne(u[0].x):Ene(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(d);return o.join("")})}function hf(e,t){var r=typeof t,n;return t==null||r==="boolean"?MS(t):(r==="number"?Sx:r==="string"?(n=vh(t))?(t=n,dO):Tne:t instanceof vh?dO:t instanceof Date?wne:yne(t)?vne:Array.isArray(t)?bne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_ne:Sx)(e,t)}function PS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Nne(e,t){t===void 0&&(t=e,e=hf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Ane(e){return function(){return e}}function Tx(e){return+e}var fO=[0,1];function fa(e){return e}function e2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ane(isNaN(t)?NaN:.5)}function Cne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kne(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=e2(a,n),i=r(s,i)):(n=e2(n,a),i=r(i,s)),function(o){return i(n(o))}}function Ine(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=e2(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var u=Jh(e,o,1,n)-1;return i[u](a[u](o))}}function Qh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vv(){var e=fO,t=fO,r=hf,n,a,i,s=fa,o,u,d;function h(){var g=Math.min(e.length,t.length);return s!==fa&&(s=Cne(e[0],e[g-1])),o=g>2?Ine:kne,u=d=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(n),t,r)))(n(s(g)))}return m.invert=function(g){return s(a((d||(d=o(t,e.map(n),Sx)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Tx),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=PS,h()},m.clamp=function(g){return arguments.length?(s=g?!0:fa,h()):s!==fa},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,h()}}function LS(){return Vv()(fa,fa)}function jne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function af(e){return e=Nx(Math.abs(e)),e?e[1]:NaN}function Rne(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function One(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Dne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yh(e){if(!(t=Dne.exec(e)))throw new Error("invalid format: "+e);var t;return new FS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yh.prototype=FS.prototype;function FS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mne(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var XL;function Pne(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(XL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Nx(e,Math.max(0,t+i-1))[0]}function hO(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hO(e*100,t),r:hO,s:Pne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pO(e){return e}var gO=Array.prototype.map,xO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lne(e){var t=e.grouping===void 0||e.thousands===void 0?pO:Rne(gO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pO:One(gO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=yh(m);var g=m.fill,x=m.align,b=m.sign,y=m.symbol,_=m.zero,N=m.width,k=m.comma,A=m.precision,D=m.trim,j=m.type;j==="n"?(k=!0,j="g"):mO[j]||(A===void 0&&(A=12),D=!0,j="g"),(_||g==="0"&&x==="=")&&(_=!0,g="0",x="=");var O=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",I=y==="$"?n:/[%p]/.test(j)?s:"",M=mO[j],R=/[defgprs%]/.test(j);A=A===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function z(q){var F=O,Y=I,de,ce,K;if(j==="c")Y=M(q)+Y,q="";else{q=+q;var ae=q<0||1/q<0;if(q=isNaN(q)?u:M(Math.abs(q),A),D&&(q=Mne(q)),ae&&+q==0&&b!=="+"&&(ae=!1),F=(ae?b==="("?b:o:b==="-"||b==="("?"":b)+F,Y=(j==="s"?xO[8+XL/3]:"")+Y+(ae&&b==="("?")":""),R){for(de=-1,ce=q.length;++de<ce;)if(K=q.charCodeAt(de),48>K||K>57){Y=(K===46?a+q.slice(de+1):q.slice(de))+Y,q=q.slice(0,de);break}}}k&&!_&&(q=t(q,1/0));var Z=F.length+q.length+Y.length,W=Z<N?new Array(N-Z+1).join(g):"";switch(k&&_&&(q=t(W+q,W.length?N-Y.length:1/0),W=""),x){case"<":q=F+q+Y+W;break;case"=":q=F+W+q+Y;break;case"^":q=W.slice(0,Z=W.length>>1)+F+q+Y+W.slice(Z);break;default:q=W+F+q+Y;break}return i(q)}return z.toString=function(){return m+""},z}function h(m,g){var x=d((m=yh(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(af(g)/3)))*3,y=Math.pow(10,-b),_=xO[8+b/3];return function(N){return x(y*N)+_}}return{format:d,formatPrefix:h}}var eg,BS,JL;Fne({thousands:",",grouping:[3],currency:["$",""]});function Fne(e){return eg=Lne(e),BS=eg.format,JL=eg.formatPrefix,eg}function Bne(e){return Math.max(0,-af(Math.abs(e)))}function Une(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(af(t)/3)))*3-af(Math.abs(e)))}function zne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,af(t)-af(e))+1}function ZL(e,t,r,n){var a=XE(e,t,r),i;switch(n=yh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Une(a,s))&&(n.precision=i),JL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=zne(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Bne(a))&&(n.precision=i-(n.type==="%")*2);break}}return BS(n)}function Vl(e){var t=e.domain;return e.ticks=function(r){var n=t();return KE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ZL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],u,d,h=10;for(o<s&&(d=s,s=o,o=d,d=a,a=i,i=d);h-- >0;){if(d=YE(s,o,r),d===u)return n[a]=s,n[i]=o,t(n);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;u=d}return e},e}function QL(){var e=LS();return e.copy=function(){return Qh(e,QL())},Ui.apply(e,arguments),Vl(e)}function eF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Tx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eF(e).unknown(t)},e=arguments.length?Array.from(e,Tx):[0,1],Vl(r)}function tF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function vO(e){return Math.log(e)}function yO(e){return Math.exp(e)}function $ne(e){return-Math.log(-e)}function Vne(e){return-Math.exp(-e)}function Hne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gne(e){return e===10?Hne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bO(e){return(t,r)=>-e(-t,r)}function US(e){const t=e(vO,yO),r=t.domain;let n=10,a,i;function s(){return a=qne(n),i=Gne(n),r()[0]<0?(a=bO(a),i=bO(i),e($ne,Vne)):e(vO,yO),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=a(d),x=a(h),b,y;const _=o==null?10:+o;let N=[];if(!(n%1)&&x-g<_){if(g=Math.floor(g),x=Math.ceil(x),d>0){for(;g<=x;++g)for(b=1;b<n;++b)if(y=g<0?b/i(-g):b*i(g),!(y<d)){if(y>h)break;N.push(y)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/i(-g):b*i(g),!(y<d)){if(y>h)break;N.push(y)}N.length*2<_&&(N=KE(d,h,_))}else N=KE(g,x,Math.min(x-g,_)).map(i);return m?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=yh(u)).precision==null&&(u.trim=!0),u=BS(u)),o===1/0)return u;const d=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=d?u(h):""}},t.nice=()=>r(tF(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function rF(){const e=US(Vv()).domain([1,10]);return e.copy=()=>Qh(e,rF()).base(e.base()),Ui.apply(e,arguments),e}function wO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _O(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zS(e){var t=1,r=e(wO(t),_O(t));return r.constant=function(n){return arguments.length?e(wO(t=+n),_O(t)):t},Vl(r)}function nF(){var e=zS(Vv());return e.copy=function(){return Qh(e,nF()).constant(e.constant())},Ui.apply(e,arguments)}function EO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kne(e){return e<0?-e*e:e*e}function $S(e){var t=e(fa,fa),r=1;function n(){return r===1?e(fa,fa):r===.5?e(Wne,Kne):e(EO(r),EO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vl(t)}function VS(){var e=$S(Vv());return e.copy=function(){return Qh(e,VS()).exponent(e.exponent())},Ui.apply(e,arguments),e}function Yne(){return VS.apply(null,arguments).exponent(.5)}function SO(e){return Math.sign(e)*e*e}function Xne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aF(){var e=LS(),t=[0,1],r=!1,n;function a(i){var s=Xne(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(SO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Tx)).map(SO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ui.apply(a,arguments),Vl(a)}function iF(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=ene(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Jh(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(jl),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return iF().domain(e).range(t).unknown(n)},Ui.apply(i,arguments)}function sF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(u){return u!=null&&u<=u?a[Jh(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},s.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return sF().domain([e,t]).range(a).unknown(i)},Ui.apply(Vl(s),arguments)}function oF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Jh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oF().domain(e).range(t).unknown(r)},Ui.apply(a,arguments)}const h_=new Date,m_=new Date;function dn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return u;let d;do u.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<s);return u},a.filter=i=>dn(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(h_.setTime(+i),m_.setTime(+s),e(h_),e(m_),Math.floor(r(h_,m_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ax=dn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ax.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ax);Ax.range;const co=1e3,Ii=co*60,uo=Ii*60,So=uo*24,HS=So*7,TO=So*30,p_=So*365,kc=dn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCSeconds());kc.range;const GS=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getMinutes());GS.range;const qS=dn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCMinutes());qS.range;const WS=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*Ii)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getHours());WS.range;const KS=dn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCHours());KS.range;const em=dn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/So,e=>e.getDate()-1);em.range;const Hv=dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>e.getUTCDate()-1);Hv.range;const lF=dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>Math.floor(e/So));lF.range;function mu(e){return dn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/HS)}const Gv=mu(0),Cx=mu(1),Jne=mu(2),Zne=mu(3),sf=mu(4),Qne=mu(5),eae=mu(6);Gv.range;Cx.range;Jne.range;Zne.range;sf.range;Qne.range;eae.range;function pu(e){return dn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HS)}const qv=pu(0),kx=pu(1),tae=pu(2),rae=pu(3),of=pu(4),nae=pu(5),aae=pu(6);qv.range;kx.range;tae.range;rae.range;of.range;nae.range;aae.range;const YS=dn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YS.range;const XS=dn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());XS.range;const To=dn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});To.range;const No=dn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});No.range;function cF(e,t,r,n,a,i){const s=[[kc,1,co],[kc,5,5*co],[kc,15,15*co],[kc,30,30*co],[i,1,Ii],[i,5,5*Ii],[i,15,15*Ii],[i,30,30*Ii],[a,1,uo],[a,3,3*uo],[a,6,6*uo],[a,12,12*uo],[n,1,So],[n,2,2*So],[r,1,HS],[t,1,TO],[t,3,3*TO],[e,1,p_]];function o(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:u(d,h,m),b=x?x.range(d,+h+1):[];return g?b.reverse():b}function u(d,h,m){const g=Math.abs(h-d)/m,x=jS(([,,_])=>_).right(s,g);if(x===s.length)return e.every(XE(d/p_,h/p_,m));if(x===0)return Ax.every(Math.max(XE(d,h,m),1));const[b,y]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return b.every(y)}return[o,u]}const[iae,sae]=cF(No,XS,qv,lF,KS,qS),[oae,lae]=cF(To,YS,Gv,em,WS,GS);function g_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function x_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function S0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function cae(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,d=T0(a),h=N0(a),m=T0(i),g=N0(i),x=T0(s),b=N0(s),y=T0(o),_=N0(o),N=T0(u),k=N0(u),A={a:ae,A:Z,b:W,B:ee,c:null,d:jO,e:jO,f:Rae,g:$ae,G:Hae,H:kae,I:Iae,j:jae,L:uF,m:Oae,M:Dae,p:H,q:L,Q:DO,s:MO,S:Mae,u:Pae,U:Lae,V:Fae,w:Bae,W:Uae,x:null,X:null,y:zae,Y:Vae,Z:Gae,"%":OO},D={a:J,A:U,b:B,B:se,c:null,d:RO,e:RO,f:Yae,g:iie,G:oie,H:qae,I:Wae,j:Kae,L:fF,m:Xae,M:Jae,p:fe,q:Te,Q:DO,s:MO,S:Zae,u:Qae,U:eie,V:tie,w:rie,W:nie,x:null,X:null,y:aie,Y:sie,Z:lie,"%":OO},j={a:z,A:q,b:F,B:Y,c:de,d:kO,e:kO,f:Tae,g:CO,G:AO,H:IO,I:IO,j:wae,L:Sae,m:bae,M:_ae,p:R,q:yae,Q:Aae,s:Cae,S:Eae,u:mae,U:pae,V:gae,w:hae,W:xae,x:ce,X:K,y:CO,Y:AO,Z:vae,"%":Nae};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),D.x=O(r,D),D.X=O(n,D),D.c=O(t,D);function O(te,ge){return function(Se){var G=[],_e=-1,ue=0,be=te.length,Le,me,Re;for(Se instanceof Date||(Se=new Date(+Se));++_e<be;)te.charCodeAt(_e)===37&&(G.push(te.slice(ue,_e)),(me=NO[Le=te.charAt(++_e)])!=null?Le=te.charAt(++_e):me=Le==="e"?" ":"0",(Re=ge[Le])&&(Le=Re(Se,me)),G.push(Le),ue=_e+1);return G.push(te.slice(ue,_e)),G.join("")}}function I(te,ge){return function(Se){var G=S0(1900,void 0,1),_e=M(G,te,Se+="",0),ue,be;if(_e!=Se.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ge&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ue=x_(S0(G.y,0,1)),be=ue.getUTCDay(),ue=be>4||be===0?kx.ceil(ue):kx(ue),ue=Hv.offset(ue,(G.V-1)*7),G.y=ue.getUTCFullYear(),G.m=ue.getUTCMonth(),G.d=ue.getUTCDate()+(G.w+6)%7):(ue=g_(S0(G.y,0,1)),be=ue.getDay(),ue=be>4||be===0?Cx.ceil(ue):Cx(ue),ue=em.offset(ue,(G.V-1)*7),G.y=ue.getFullYear(),G.m=ue.getMonth(),G.d=ue.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),be="Z"in G?x_(S0(G.y,0,1)).getUTCDay():g_(S0(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(be+5)%7:G.w+G.U*7-(be+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,x_(G)):g_(G)}}function M(te,ge,Se,G){for(var _e=0,ue=ge.length,be=Se.length,Le,me;_e<ue;){if(G>=be)return-1;if(Le=ge.charCodeAt(_e++),Le===37){if(Le=ge.charAt(_e++),me=j[Le in NO?ge.charAt(_e++):Le],!me||(G=me(te,Se,G))<0)return-1}else if(Le!=Se.charCodeAt(G++))return-1}return G}function R(te,ge,Se){var G=d.exec(ge.slice(Se));return G?(te.p=h.get(G[0].toLowerCase()),Se+G[0].length):-1}function z(te,ge,Se){var G=x.exec(ge.slice(Se));return G?(te.w=b.get(G[0].toLowerCase()),Se+G[0].length):-1}function q(te,ge,Se){var G=m.exec(ge.slice(Se));return G?(te.w=g.get(G[0].toLowerCase()),Se+G[0].length):-1}function F(te,ge,Se){var G=N.exec(ge.slice(Se));return G?(te.m=k.get(G[0].toLowerCase()),Se+G[0].length):-1}function Y(te,ge,Se){var G=y.exec(ge.slice(Se));return G?(te.m=_.get(G[0].toLowerCase()),Se+G[0].length):-1}function de(te,ge,Se){return M(te,t,ge,Se)}function ce(te,ge,Se){return M(te,r,ge,Se)}function K(te,ge,Se){return M(te,n,ge,Se)}function ae(te){return s[te.getDay()]}function Z(te){return i[te.getDay()]}function W(te){return u[te.getMonth()]}function ee(te){return o[te.getMonth()]}function H(te){return a[+(te.getHours()>=12)]}function L(te){return 1+~~(te.getMonth()/3)}function J(te){return s[te.getUTCDay()]}function U(te){return i[te.getUTCDay()]}function B(te){return u[te.getUTCMonth()]}function se(te){return o[te.getUTCMonth()]}function fe(te){return a[+(te.getUTCHours()>=12)]}function Te(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ge=O(te+="",A);return ge.toString=function(){return te},ge},parse:function(te){var ge=I(te+="",!1);return ge.toString=function(){return te},ge},utcFormat:function(te){var ge=O(te+="",D);return ge.toString=function(){return te},ge},utcParse:function(te){var ge=I(te+="",!0);return ge.toString=function(){return te},ge}}}var NO={"-":"",_:" ",0:"0"},An=/^\s*\d+/,uae=/^%/,dae=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function fae(e){return e.replace(dae,"\\$&")}function T0(e){return new RegExp("^(?:"+e.map(fae).join("|")+")","i")}function N0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hae(e,t,r){var n=An.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function mae(e,t,r){var n=An.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function pae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function xae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AO(e,t,r){var n=An.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CO(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vae(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yae(e,t,r){var n=An.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function bae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kO(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wae(e,t,r){var n=An.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function IO(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _ae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Eae(e,t,r){var n=An.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Sae(e,t,r){var n=An.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Tae(e,t,r){var n=An.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nae(e,t,r){var n=uae.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Aae(e,t,r){var n=An.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Cae(e,t,r){var n=An.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jO(e,t){return Ut(e.getDate(),t,2)}function kae(e,t){return Ut(e.getHours(),t,2)}function Iae(e,t){return Ut(e.getHours()%12||12,t,2)}function jae(e,t){return Ut(1+em.count(To(e),e),t,3)}function uF(e,t){return Ut(e.getMilliseconds(),t,3)}function Rae(e,t){return uF(e,t)+"000"}function Oae(e,t){return Ut(e.getMonth()+1,t,2)}function Dae(e,t){return Ut(e.getMinutes(),t,2)}function Mae(e,t){return Ut(e.getSeconds(),t,2)}function Pae(e){var t=e.getDay();return t===0?7:t}function Lae(e,t){return Ut(Gv.count(To(e)-1,e),t,2)}function dF(e){var t=e.getDay();return t>=4||t===0?sf(e):sf.ceil(e)}function Fae(e,t){return e=dF(e),Ut(sf.count(To(e),e)+(To(e).getDay()===4),t,2)}function Bae(e){return e.getDay()}function Uae(e,t){return Ut(Cx.count(To(e)-1,e),t,2)}function zae(e,t){return Ut(e.getFullYear()%100,t,2)}function $ae(e,t){return e=dF(e),Ut(e.getFullYear()%100,t,2)}function Vae(e,t){return Ut(e.getFullYear()%1e4,t,4)}function Hae(e,t){var r=e.getDay();return e=r>=4||r===0?sf(e):sf.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function Gae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function RO(e,t){return Ut(e.getUTCDate(),t,2)}function qae(e,t){return Ut(e.getUTCHours(),t,2)}function Wae(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function Kae(e,t){return Ut(1+Hv.count(No(e),e),t,3)}function fF(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function Yae(e,t){return fF(e,t)+"000"}function Xae(e,t){return Ut(e.getUTCMonth()+1,t,2)}function Jae(e,t){return Ut(e.getUTCMinutes(),t,2)}function Zae(e,t){return Ut(e.getUTCSeconds(),t,2)}function Qae(e){var t=e.getUTCDay();return t===0?7:t}function eie(e,t){return Ut(qv.count(No(e)-1,e),t,2)}function hF(e){var t=e.getUTCDay();return t>=4||t===0?of(e):of.ceil(e)}function tie(e,t){return e=hF(e),Ut(of.count(No(e),e)+(No(e).getUTCDay()===4),t,2)}function rie(e){return e.getUTCDay()}function nie(e,t){return Ut(kx.count(No(e)-1,e),t,2)}function aie(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function iie(e,t){return e=hF(e),Ut(e.getUTCFullYear()%100,t,2)}function sie(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function oie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?of(e):of.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function lie(){return"+0000"}function OO(){return"%"}function DO(e){return+e}function MO(e){return Math.floor(+e/1e3)}var yd,mF,pF;cie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cie(e){return yd=cae(e),mF=yd.format,yd.parse,pF=yd.utcFormat,yd.utcParse,yd}function uie(e){return new Date(e)}function die(e){return e instanceof Date?+e:+new Date(+e)}function JS(e,t,r,n,a,i,s,o,u,d){var h=LS(),m=h.invert,g=h.domain,x=d(".%L"),b=d(":%S"),y=d("%I:%M"),_=d("%I %p"),N=d("%a %d"),k=d("%b %d"),A=d("%B"),D=d("%Y");function j(O){return(u(O)<O?x:o(O)<O?b:s(O)<O?y:i(O)<O?_:n(O)<O?a(O)<O?N:k:r(O)<O?A:D)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?g(Array.from(O,die)):g().map(uie)},h.ticks=function(O){var I=g();return e(I[0],I[I.length-1],O??10)},h.tickFormat=function(O,I){return I==null?j:d(I)},h.nice=function(O){var I=g();return(!O||typeof O.range!="function")&&(O=t(I[0],I[I.length-1],O??10)),O?g(tF(I,O)):h},h.copy=function(){return Qh(h,JS(e,t,r,n,a,i,s,o,u,d))},h}function fie(){return Ui.apply(JS(oae,lae,To,YS,Gv,em,WS,GS,kc,mF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hie(){return Ui.apply(JS(iae,sae,No,XS,qv,Hv,KS,qS,kc,pF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wv(){var e=0,t=1,r,n,a,i,s=fa,o=!1,u;function d(m){return m==null||isNaN(m=+m)?u:s(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(g){var x,b;return arguments.length?([x,b]=g,s=m(x,b),d):[s(0),s(1)]}}return d.range=h(hf),d.rangeRound=h(PS),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),d}}function Hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gF(){var e=Vl(Wv()(fa));return e.copy=function(){return Hl(e,gF())},Mo.apply(e,arguments)}function xF(){var e=US(Wv()).domain([1,10]);return e.copy=function(){return Hl(e,xF()).base(e.base())},Mo.apply(e,arguments)}function vF(){var e=zS(Wv());return e.copy=function(){return Hl(e,vF()).constant(e.constant())},Mo.apply(e,arguments)}function ZS(){var e=$S(Wv());return e.copy=function(){return Hl(e,ZS()).exponent(e.exponent())},Mo.apply(e,arguments)}function mie(){return ZS.apply(null,arguments).exponent(.5)}function yF(){var e=[],t=fa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Qre(e,i/n))},r.copy=function(){return yF(t).domain(e)},Mo.apply(r,arguments)}function Kv(){var e=0,t=.5,r=1,n=1,a,i,s,o,u,d=fa,h,m=!1,g;function x(y){return isNaN(y=+y)?g:(y=.5+((y=+h(y))-i)*(n*y<n*i?o:u),d(m?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,a=h(e=+e),i=h(t=+t),s=h(r=+r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(m=!!y,x):m},x.interpolator=function(y){return arguments.length?(d=y,x):d};function b(y){return function(_){var N,k,A;return arguments.length?([N,k,A]=_,d=Nne(y,[N,k,A]),x):[d(0),d(.5),d(1)]}}return x.range=b(hf),x.rangeRound=b(PS),x.unknown=function(y){return arguments.length?(g=y,x):g},function(y){return h=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x}}function bF(){var e=Vl(Kv()(fa));return e.copy=function(){return Hl(e,bF())},Mo.apply(e,arguments)}function wF(){var e=US(Kv()).domain([.1,1,10]);return e.copy=function(){return Hl(e,wF()).base(e.base())},Mo.apply(e,arguments)}function _F(){var e=zS(Kv());return e.copy=function(){return Hl(e,_F()).constant(e.constant())},Mo.apply(e,arguments)}function QS(){var e=$S(Kv());return e.copy=function(){return Hl(e,QS()).exponent(e.exponent())},Mo.apply(e,arguments)}function pie(){return QS.apply(null,arguments).exponent(.5)}const P0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OS,scaleDiverging:bF,scaleDivergingLog:wF,scaleDivergingPow:QS,scaleDivergingSqrt:pie,scaleDivergingSymlog:_F,scaleIdentity:eF,scaleImplicit:JE,scaleLinear:QL,scaleLog:rF,scaleOrdinal:RS,scalePoint:rne,scalePow:VS,scaleQuantile:iF,scaleQuantize:sF,scaleRadial:aF,scaleSequential:gF,scaleSequentialLog:xF,scaleSequentialPow:ZS,scaleSequentialQuantile:yF,scaleSequentialSqrt:mie,scaleSequentialSymlog:vF,scaleSqrt:Yne,scaleSymlog:nF,scaleThreshold:oF,scaleTime:fie,scaleUtc:hie,tickFormat:ZL},Symbol.toStringTag,{value:"Module"}));var Po=e=>e.chartData,EF=ke([Po],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),eT=(e,t,r,n)=>n?EF(e):Po(e),SF=(e,t,r)=>r?EF(e):Po(e);function Ml(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ur(t)&&ur(r))return!0}return!1}function PO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function TF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ur(r))a=r;else if(typeof r=="function")return;if(ur(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Ml(s))return s}}function gie(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ml(n))return PO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Qe(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&WR.test(a)){var u=WR.exec(a);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Qe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&KR.test(i)){var h=KR.exec(i);if(h==null||h[1]==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t==null?void 0:t[1];var g=[s,o];if(Ml(g))return t==null?g:PO(g,t,r)}}}var mf=1e9,xie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rT,Er=!0,Li="[DecimalError] ",zc=Li+"Invalid argument: ",tT=Li+"Exponent out of range: ",pf=Math.floor,wc=Math.pow,vie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,bn=1e7,pr=7,NF=9007199254740991,Ix=pf(NF/pr),tt={};tt.absoluteValue=tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tt.comparedTo=tt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tt.dividedBy=tt.div=function(e){return mo(this,new this.constructor(e))};tt.dividedToIntegerBy=tt.idiv=function(e){var t=this,r=t.constructor;return cr(mo(t,new r(e),0,1),r.precision)};tt.equals=tt.eq=function(e){return!this.cmp(e)};tt.exponent=function(){return en(this)};tt.greaterThan=tt.gt=function(e){return this.cmp(e)>0};tt.greaterThanOrEqualTo=tt.gte=function(e){return this.cmp(e)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(e){return this.cmp(e)<0};tt.lessThanOrEqualTo=tt.lte=function(e){return this.cmp(e)<1};tt.logarithm=tt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xa))throw Error(Li+"NaN");if(r.s<1)throw Error(Li+(r.s?"NaN":"-Infinity"));return r.eq(Xa)?new n(0):(Er=!1,t=mo(bh(r,i),bh(e,i),i),Er=!0,cr(t,a))};tt.minus=tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kF(t,e):AF(t,(e.s=-e.s,e))};tt.modulo=tt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Li+"NaN");return r.s?(Er=!1,t=mo(r,e,0,1).times(e),Er=!0,r.minus(t)):cr(new n(r),a)};tt.naturalExponential=tt.exp=function(){return CF(this)};tt.naturalLogarithm=tt.ln=function(){return bh(this)};tt.negated=tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tt.plus=tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AF(t,e):kF(t,(e.s=-e.s,e))};tt.precision=tt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zc+e);if(t=en(a)+1,n=a.d.length-1,r=n*pr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tt.squareRoot=tt.sqrt=function(){var e,t,r,n,a,i,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Li+"NaN")}for(e=en(o),Er=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ss(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=pf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(i=n,n=i.plus(mo(o,i,s+2)).times(.5),Ss(i.d).slice(0,s)===(t=Ss(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(cr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Er=!0,cr(n,r)};tt.times=tt.mul=function(e){var t,r,n,a,i,s,o,u,d,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,d=x.length,u<d&&(i=g,g=x,x=i,s=u,u=d,d=s),i=[],s=u+d,n=s;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%bn|0,t=o/bn|0;i[a]=(i[a]+t)%bn|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Er?cr(e,m.precision):e};tt.toDecimalPlaces=tt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ks(e,0,mf),t===void 0?t=n.rounding:ks(t,0,8),cr(r,e+en(r)+1,t))};tt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tu(n,!0):(ks(e,0,mf),t===void 0?t=a.rounding:ks(t,0,8),n=cr(new a(n),e+1,t),r=tu(n,!0,e+1)),r};tt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tu(a):(ks(e,0,mf),t===void 0?t=i.rounding:ks(t,0,8),n=cr(new i(a),e+en(a)+1,t),r=tu(n.abs(),!1,e+en(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};tt.toInteger=tt.toint=function(){var e=this,t=e.constructor;return cr(new t(e),en(e)+1,t.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(e){var t,r,n,a,i,s,o=this,u=o.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Xa);if(o=new u(o),!o.s){if(e.s<1)throw Error(Li+"Infinity");return o}if(o.eq(Xa))return o;if(n=u.precision,e.eq(Xa))return cr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=h<0?-h:h)<=NF){for(a=new u(Xa),t=Math.ceil(n/pr+4),Er=!1;r%2&&(a=a.times(o),FO(a.d,t)),r=pf(r/2),r!==0;)o=o.times(o),FO(o.d,t);return Er=!0,e.s<0?new u(Xa).div(a):cr(a,n)}}else if(i<0)throw Error(Li+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Er=!1,a=e.times(bh(o,n+d)),Er=!0,a=CF(a),a.s=i,a};tt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=en(a),n=tu(a,r<=i.toExpNeg||r>=i.toExpPos)):(ks(e,1,mf),t===void 0?t=i.rounding:ks(t,0,8),a=cr(new i(a),e,t),r=en(a),n=tu(a,e<=r||r<=i.toExpNeg,e)),n};tt.toSignificantDigits=tt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ks(e,1,mf),t===void 0?t=n.rounding:ks(t,0,8)),cr(new n(r),e,t)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=en(e),r=e.constructor;return tu(e,t<=r.toExpNeg||t>=r.toExpPos)};function AF(e,t){var r,n,a,i,s,o,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Er?cr(t,m):t;if(u=e.d,d=t.d,s=e.e,a=t.e,u=u.slice(),i=s-a,i){for(i<0?(n=u,i=-i,o=d.length):(n=d,a=s,o=u.length),s=Math.ceil(m/pr),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=d.length,o-i<0&&(i=o,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/bn|0,u[i]%=bn;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,Er?cr(t,m):t}function ks(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zc+e)}function Ss(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=pr-n.length,r&&(i+=_l(r)),i+=n;s=e[t],n=s+"",r=pr-n.length,r&&(i+=_l(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var mo=(function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%bn|0,s=i/bn|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,u;if(i!=s)u=i>s?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*bn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,u,d,h,m,g,x,b,y,_,N,k,A,D,j,O,I,M,R=n.constructor,z=n.s==a.s?1:-1,q=n.d,F=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Li+"Division by zero");for(u=n.e-a.e,I=F.length,j=q.length,x=new R(z),b=x.d=[],d=0;F[d]==(q[d]||0);)++d;if(F[d]>(q[d]||0)&&--u,i==null?k=i=R.precision:s?k=i+(en(n)-en(a))+1:k=i,k<0)return new R(0);if(k=k/pr+2|0,d=0,I==1)for(h=0,F=F[0],k++;(d<j||h)&&k--;d++)A=h*bn+(q[d]||0),b[d]=A/F|0,h=A%F|0;else{for(h=bn/(F[0]+1)|0,h>1&&(F=e(F,h),q=e(q,h),I=F.length,j=q.length),D=I,y=q.slice(0,I),_=y.length;_<I;)y[_++]=0;M=F.slice(),M.unshift(0),O=F[0],F[1]>=bn/2&&++O;do h=0,o=t(F,y,I,_),o<0?(N=y[0],I!=_&&(N=N*bn+(y[1]||0)),h=N/O|0,h>1?(h>=bn&&(h=bn-1),m=e(F,h),g=m.length,_=y.length,o=t(m,y,g,_),o==1&&(h--,r(m,I<g?M:F,g))):(h==0&&(o=h=1),m=F.slice()),g=m.length,g<_&&m.unshift(0),r(y,m,_),o==-1&&(_=y.length,o=t(F,y,I,_),o<1&&(h++,r(y,I<_?M:F,_))),_=y.length):o===0&&(h++,y=[0]),b[d++]=h,o&&y[0]?y[_++]=q[D]||0:(y=[q[D]],_=1);while((D++<j||y[0]!==void 0)&&k--)}return b[0]||b.shift(),x.e=u,cr(x,s?i+en(x)+1:i)}})();function CF(e,t){var r,n,a,i,s,o,u=0,d=0,h=e.constructor,m=h.precision;if(en(e)>16)throw Error(tT+en(e));if(!e.s)return new h(Xa);for(Er=!1,o=m,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(n=Math.log(wc(2,d))/Math.LN10*2+5|0,o+=n,r=a=i=new h(Xa),h.precision=o;;){if(a=cr(a.times(e),o),r=r.times(++u),s=i.plus(mo(a,r,o)),Ss(s.d).slice(0,o)===Ss(i.d).slice(0,o)){for(;d--;)i=cr(i.times(i),o);return h.precision=m,t==null?(Er=!0,cr(i,m)):i}i=s}}function en(e){for(var t=e.e*pr,r=e.d[0];r>=10;r/=10)t++;return t}function v_(e,t,r){if(t>e.LN10.sd())throw Er=!0,r&&(e.precision=r),Error(Li+"LN10 precision limit exceeded");return cr(new e(e.LN10),t)}function _l(e){for(var t="";e--;)t+="0";return t}function bh(e,t){var r,n,a,i,s,o,u,d,h,m=1,g=10,x=e,b=x.d,y=x.constructor,_=y.precision;if(x.s<1)throw Error(Li+(x.s?"NaN":"-Infinity"));if(x.eq(Xa))return new y(0);if(t==null?(Er=!1,d=_):d=t,x.eq(10))return t==null&&(Er=!0),v_(y,d);if(d+=g,y.precision=d,r=Ss(b),n=r.charAt(0),i=en(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Ss(x.d),n=r.charAt(0),m++;i=en(x),n>1?(x=new y("0."+r),i++):x=new y(n+"."+r.slice(1))}else return u=v_(y,d+2,_).times(i+""),x=bh(new y(n+"."+r.slice(1)),d-g).plus(u),y.precision=_,t==null?(Er=!0,cr(x,_)):x;for(o=s=x=mo(x.minus(Xa),x.plus(Xa),d),h=cr(x.times(x),d),a=3;;){if(s=cr(s.times(h),d),u=o.plus(mo(s,new y(a),d)),Ss(u.d).slice(0,d)===Ss(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(v_(y,d+2,_).times(i+""))),o=mo(o,new y(m),d),y.precision=_,t==null?(Er=!0,cr(o,_)):o;o=u,a+=2}}function LO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=pf(r/pr),e.d=[],n=(r+1)%pr,r<0&&(n+=pr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=pr;n<a;)e.d.push(+t.slice(n,n+=pr));t=t.slice(n),n=pr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Er&&(e.e>Ix||e.e<-Ix))throw Error(tT+r)}else e.s=0,e.e=0,e.d=[0];return e}function cr(e,t,r){var n,a,i,s,o,u,d,h,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=pr,a=t,d=m[h=0];else{if(h=Math.ceil((n+1)/pr),i=m.length,h>=i)return e;for(d=i=m[h],s=1;i>=10;i/=10)s++;n%=pr,a=n-pr+s}if(r!==void 0&&(i=wc(10,s-a-1),o=d/i%10|0,u=t<0||m[h+1]!==void 0||d%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?d/wc(10,s-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=en(e),m.length=1,t=t-i-1,m[0]=wc(10,(pr-t%pr)%pr),e.e=pf(-t/pr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=wc(10,pr-n),m[h]=a>0?(d/wc(10,s-a)%wc(10,a)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==bn&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=bn)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Er&&(e.e>Ix||e.e<-Ix))throw Error(tT+en(e));return e}function kF(e,t){var r,n,a,i,s,o,u,d,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Er?cr(t,x):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),s=d-n,s){for(h=s<0,h?(r=u,s=-s,o=m.length):(r=m,n=d,o=u.length),a=Math.max(Math.ceil(x/pr),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=m.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}s=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),o=u.length,a=m.length-o;a>0;--a)u[o++]=0;for(a=m.length;a>s;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=bn-1;--u[i],u[a]+=bn}u[a]-=m[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Er?cr(t,x):t):new g(0)}function tu(e,t,r){var n,a=en(e),i=Ss(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+_l(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_l(-a-1)+i,r&&(n=r-s)>0&&(i+=_l(n))):a>=s?(i+=_l(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+_l(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=_l(n))),e.s<0?"-"+i:i}function FO(e,t){if(e.length>t)return e.length=t,!0}function IF(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zc+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return LO(s,i.toString())}else if(typeof i!="string")throw Error(zc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,vie.test(i))LO(s,i);else throw Error(zc+i)}if(a.prototype=tt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=IF,a.config=a.set=yie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function yie(e){if(!e||typeof e!="object")throw Error(Li+"Object expected");var t,r,n,a=["precision",1,mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(pf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zc+r+": "+n);return this}var rT=IF(xie);Xa=new rT(1);const Zt=rT;var bie=e=>e,jF={},RF=e=>e===jF,BO=e=>function t(){return arguments.length===0||arguments.length===1&&RF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OF=(e,t)=>e===1?t:BO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==jF).length;return i>=e?t(...n):OF(e-i,BO(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var d=n.map(h=>RF(h)?o.shift():h);return t(...d,...o)}))}),wie=e=>OF(e.length,e),t2=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},_ie=wie((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Eie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bie;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,u)=>u(o),i(...arguments))}};function DF(e){var t;return e===0?t=1:t=Math.floor(new Zt(e).abs().log(10).toNumber())+1,t}function MF(e,t,r){for(var n=new Zt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var PF=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},LF=(e,t,r)=>{if(e.lte(0))return new Zt(0);var n=DF(e.toNumber()),a=new Zt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Zt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=o.mul(a);return t?new Zt(u.toNumber()):new Zt(Math.ceil(u.toNumber()))},Sie=(e,t,r)=>{var n=new Zt(1),a=new Zt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Zt(10).pow(DF(e)-1),a=new Zt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Zt(Math.floor(e)))}else e===0?a=new Zt(Math.floor((t-1)/2)):r||(a=new Zt(Math.floor(e)));var s=Math.floor((t-1)/2),o=Eie(_ie(u=>a.add(new Zt(u-s).mul(n)).toNumber()),t2);return o(0,t)},FF=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var s=LF(new Zt(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Zt(0):(o=new Zt(t).add(r).div(2),o=o.sub(new Zt(o).mod(s)));var u=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new Zt(r).sub(o).div(s).toNumber()),h=u+d+1;return h>n?FF(t,r,n,a,i+1):(h<n&&(d=r>0?d+(n-h):d,u=r>0?u:u+(n-h)),{step:s,tickMin:o.sub(new Zt(u).mul(s)),tickMax:o.add(new Zt(d).mul(s))})},Tie=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[o,u]=PF([r,n]);if(o===-1/0||u===1/0){var d=u===1/0?[o,...t2(0,a-1).map(()=>1/0)]:[...t2(0,a-1).map(()=>-1/0),u];return r>n?d.reverse():d}if(o===u)return Sie(o,a,i);var{step:h,tickMin:m,tickMax:g}=FF(o,u,s,i,0),x=MF(m,g.add(new Zt(.1).mul(h)),h);return r>n?x.reverse():x},Nie=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=PF([n,a]);if(s===-1/0||o===1/0)return[n,a];if(s===o)return[s];var u=Math.max(r,2),d=LF(new Zt(o).sub(s).div(u-1),i,0),h=[...MF(new Zt(s),new Zt(o),d),o];return i===!1&&(h=h.map(m=>Math.round(m))),n>a?h.reverse():h},BF=e=>e.rootProps.maxBarSize,Aie=e=>e.rootProps.barGap,UF=e=>e.rootProps.barCategoryGap,Cie=e=>e.rootProps.barSize,Yv=e=>e.rootProps.stackOffset,zF=e=>e.rootProps.reverseStackOrder,nT=e=>e.options.chartName,aT=e=>e.rootProps.syncId,$F=e=>e.rootProps.syncMethod,iT=e=>e.options.eventEmitter,kie=e=>e.rootProps.baseValue,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},oo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Xv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Iie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:oo.reversed,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:oo.type,unit:void 0},jie={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:Ga.type,unit:void 0},Rie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:oo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Oie={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:"category",unit:void 0},sT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Rie:Iie,oT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Oie:jie,Jv=e=>e.polarOptions,lT=ke([Oo,Do,Tn],Are),VF=ke([Jv,lT],(e,t)=>{if(e!=null)return ls(e.innerRadius,t,0)}),HF=ke([Jv,lT],(e,t)=>{if(e!=null)return ls(e.outerRadius,t,t*.8)}),Die=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GF=ke([Jv],Die);ke([sT,GF],Xv);var qF=ke([lT,VF,HF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ke([oT,qF],Xv);var WF=ke([jt,Jv,VF,HF,Oo,Do],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:u,endAngle:d}=t;return{cx:ls(s,a,a/2),cy:ls(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),fn=(e,t)=>t,Zv=(e,t,r)=>r;function Qv(e){return e==null?void 0:e.id}function KF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var u,d=(u=o.data)!==null&&u!==void 0?u:n;if(!(d==null||d.length===0)){var h=Qv(o);d.forEach((m,g)=>{var x=i==null||a?g:String(Mr(m,i,null)),b=Mr(m,o.dataKey,0),y;s.has(x)?y=s.get(x):y={},Object.assign(y,{[h]:b}),s.set(x,y)})}}),Array.from(s.values())}function ey(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ty=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ry(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Mie(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var hn=e=>{var t=jt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gf=e=>e.tooltip.settings.axisId;function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Fie(e,"string");return typeof t=="symbol"?t:t+""}function Fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2=[0,"auto"],vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YF=(e,t)=>e.cartesianAxis.xAxis[t],Lo=(e,t)=>{var r=YF(e,t);return r??vn},yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:r2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qh},XF=(e,t)=>e.cartesianAxis.yAxis[t],Fo=(e,t)=>{var r=XF(e,t);return r??yn},Bie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cT=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Bie},va=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return Fo(e,r);case"zAxis":return cT(e,r);case"angleAxis":return sT(e,r);case"radiusAxis":return oT(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uie=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return Fo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tm=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return Fo(e,r);case"angleAxis":return sT(e,r);case"radiusAxis":return oT(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},JF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZF(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var rm=e=>e.graphicalItems.cartesianItems,zie=ke([fn,Zv],ZF),QF=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),nm=ke([rm,va,zie],QF,{memoizeOptions:{resultEqualityCheck:ry}}),e8=ke([nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ey)),t8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$ie=ke([nm],t8),r8=e=>e.map(t=>t.data).filter(Boolean).flat(1),Vie=ke([nm],r8,{memoizeOptions:{resultEqualityCheck:ry}}),n8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},uT=ke([Vie,eT],n8),a8=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Mr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Mr(a,n)}))):e.map(n=>({value:n})),ny=ke([uT,va,nm],a8);function i8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jg(e){if(As(e)||e instanceof Date){var t=Number(e);if(ur(t))return t}}function zO(e){if(Array.isArray(e)){var t=[jg(e[0]),jg(e[1])];return Ml(t)?t:void 0}var r=jg(e);if(r!=null)return[r,r]}function Ao(e){return e.map(jg).filter(IJ)}function Hie(e,t,r){return!r||typeof t!="number"||Mi(t)?[]:r.length?Ao(r.flatMap(n=>{var a=Mr(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!ur(i)||!ur(s)))return[t-i,t+s]})):[]}var mn=e=>{var t=hn(e),r=gf(e);return tm(e,t,r)},am=ke([mn],e=>e==null?void 0:e.dataKey),Gie=ke([e8,eT,mn],KF),s8=(e,t,r,n)=>{var a={},i=t.reduce((s,o)=>{if(o.stackId==null)return s;var u=s[o.stackId];return u==null&&(u=[]),u.push(o),s[o.stackId]=u,s},a);return Object.fromEntries(Object.entries(i).map(s=>{var[o,u]=s,d=n?[...u].reverse():u,h=d.map(Qv);return[o,{stackedData:nee(e,h,r),graphicalItems:d}]}))},Rx=ke([Gie,e8,Yv,zF],s8),o8=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=oee(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},qie=ke([va],e=>e.allowDataOverflow),dT=e=>{var t;if(e==null||!("domain"in e))return r2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ao(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:r2},l8=ke([va],dT),c8=ke([l8,qie],TF),Wie=ke([Rx,Po,fn,c8],o8,{memoizeOptions:{resultEqualityCheck:ty}}),fT=e=>e.errorBars,Kie=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>i8(r,n)),Ox=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},u8=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var d,h,m=(d=n[u.id])===null||d===void 0?void 0:d.filter(N=>i8(a,N)),g=Mr(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=Hie(o,g,m);if(x.length>=2){var b=Math.min(...x),y=Math.max(...x);(i==null||b<i)&&(i=b),(s==null||y>s)&&(s=y)}var _=zO(g);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),s=s==null?_[1]:Math.max(s,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var u=zO(Mr(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),ur(i)&&ur(s))return[i,s]},Yie=ke([uT,va,$ie,fT,fn],u8,{memoizeOptions:{resultEqualityCheck:ty}});function Xie(e){var{value:t}=e;if(As(t)||t instanceof Date)return t}var Jie=(e,t,r)=>{var n=e.map(Xie).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&_6(n))?$L(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},d8=e=>e.referenceElements.dots,xf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Zie=ke([d8,fn,Zv],xf),f8=e=>e.referenceElements.areas,Qie=ke([f8,fn,Zv],xf),h8=e=>e.referenceElements.lines,ese=ke([h8,fn,Zv],xf),m8=(e,t)=>{if(e!=null){var r=Ao(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tse=ke(Zie,fn,m8),p8=(e,t)=>{if(e!=null){var r=Ao(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},rse=ke([Qie,fn],p8);function nse(e){var t;if(e.x!=null)return Ao([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ao(r)}function ase(e){var t;if(e.y!=null)return Ao([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ao(r)}var g8=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?nse(n):ase(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ise=ke([ese,fn],g8),sse=ke(tse,ise,rse,(e,t,r)=>Ox(e,r,t)),x8=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=u?Ox(n,i,a):Ox(i,a);return gie(t,d,e.allowDataOverflow)},ose=ke([va,l8,c8,Wie,Yie,sse,jt,fn],x8,{memoizeOptions:{resultEqualityCheck:ty}}),lse=[0,1],v8=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:u}=e,d=Rs(t,i);if(d&&o==null){var h;return $L(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return u==="category"?Jie(n,e,d):a==="expand"?lse:s}},hT=ke([va,jt,uT,ny,Yv,fn,ose],v8),y8=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat($h(i));return o in P0?o:"point"}}},im=ke([va,jt,JF,nT,fn],y8);function cse(e){if(e!=null){if(e in P0)return P0[e]();var t="scale".concat($h(e));if(t in P0)return P0[t]()}}function mT(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=cse(t);if(a!=null){var i=a.domain(r).range(n);return ZQ(i),i}}}var b8=(e,t,r)=>{var n=dT(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ml(e))return Tie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ml(e))return Nie(e,t.tickCount,t.allowDecimals)}},pT=ke([hT,tm,im],b8),w8=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ml(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},use=ke([va,hT,pT,fn],w8),dse=ke(ny,va,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ao(e.map(m=>m.value))).sort((m,g)=>m-g),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var s=i-a;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o],d=n[o+1];if(!(u==null||d==null)){var h=d-u;r=Math.min(r,h)}}return r/s}}),_8=ke(dse,jt,UF,Tn,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!ur(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=ls(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),fse=(e,t,r)=>{var n=Lo(e,t);return n==null||typeof n.padding!="string"?0:_8(e,"xAxis",t,r,n.padding)},hse=(e,t,r)=>{var n=Fo(e,t);return n==null||typeof n.padding!="string"?0:_8(e,"yAxis",t,r,n.padding)},mse=ke(Lo,fse,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),pse=ke(Fo,hse,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),gse=ke([Tn,mse,Pv,Mv,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),xse=ke([Tn,jt,pse,Pv,Mv,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return gse(e,r,n);case"yAxis":return xse(e,r,n);case"zAxis":return(a=cT(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GF(e);case"radiusAxis":return qF(e,r);default:return}},E8=ke([va,sm],Xv),ay=ke([va,im,use,E8],mT);ke([nm,fT,fn],Kie);function S8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iy=(e,t)=>t,sy=(e,t,r)=>r,vse=ke(Ov,iy,sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(S8)),yse=ke(Dv,iy,sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(S8)),T8=(e,t)=>({width:e.width,height:t.height}),bse=(e,t)=>{var r=typeof t.width=="number"?t.width:qh;return{width:r,height:e.height}},N8=ke(Tn,Lo,T8),wse=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},_se=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Ese=ke(Do,Tn,vse,iy,sy,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=T8(t,o);s==null&&(s=wse(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),i}),Sse=ke(Oo,Tn,yse,iy,sy,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=bse(t,o);s==null&&(s=_se(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),i}),Tse=(e,t)=>{var r=Lo(e,t);if(r!=null)return Ese(e,r.orientation,r.mirror)},Nse=ke([Tn,Lo,Tse,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Ase=(e,t)=>{var r=Fo(e,t);if(r!=null)return Sse(e,r.orientation,r.mirror)},Cse=ke([Tn,Fo,Ase,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),A8=ke(Tn,Fo,(e,t)=>{var r=typeof t.width=="number"?t.width:qh;return{width:r,height:e.height}}),$O=(e,t,r)=>{switch(t){case"xAxis":return N8(e,r).width;case"yAxis":return A8(e,r).height;default:return}},C8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Rs(e,n),u=t.map(d=>d.value);if(s&&o&&i==="category"&&a&&_6(u))return u}},gT=ke([jt,ny,va,fn],C8),k8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Rs(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},xT=ke([jt,ny,tm,fn],k8),VO=ke([jt,Uie,im,ay,gT,xT,sm,pT,fn],(e,t,r,n,a,i,s,o,u)=>{if(t!=null){var d=Rs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:o,range:s,realScaleType:r,scale:n}}}),kse=(e,t,r,n,a,i,s,o,u)=>{if(!(t==null||n==null)){var d=Rs(e,u),{type:h,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?ja(i[0]-i[1])*2*b:b;var y=m||a;if(y){var _=y.map((N,k)=>{var A=s?s.indexOf(N):N;return{index:k,coordinate:n(A)+b,value:N,offset:b}});return _.filter(N=>ur(N.coordinate))}return d&&o?o.map((N,k)=>({coordinate:n(N)+b,value:N,index:k,offset:b})).filter(N=>ur(N.coordinate)):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+b,value:N,offset:b})):n.domain().map((N,k)=>({coordinate:n(N)+b,value:s?s[N]:N,index:k,offset:b}))}},I8=ke([jt,tm,im,ay,pT,sm,gT,xT,fn],kse),Ise=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Rs(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ja(n[0]-n[1])*2*d:d,o&&i?i.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+d,value:h,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:a?a[h]:h,index:m,offset:d}))}},Is=ke([jt,tm,ay,sm,gT,xT,fn],Ise),js=ke(va,ay,(e,t)=>{if(!(e==null||t==null))return jx(jx({},e),{},{scale:t})}),jse=ke([va,im,hT,E8],mT);ke((e,t,r)=>cT(e,r),jse,(e,t)=>{if(!(e==null||t==null))return jx(jx({},e),{},{scale:t})});var Rse=ke([jt,Ov,Dv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),j8=e=>e.options.defaultTooltipEventType,R8=e=>e.options.validateTooltipEventTypes;function O8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function vT(e,t){var r=j8(e),n=R8(e);return O8(t,r,n)}function Ose(e){return it(t=>vT(t,e))}var D8=(e,t)=>{var r,n=Number(t);if(!(Mi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Dse=e=>e.tooltip.settings,Tl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Mse={itemInteraction:{click:Tl,hover:Tl},axisInteraction:{click:Tl,hover:Tl},keyboardInteraction:Tl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},M8=Ma({name:"tooltip",initialState:Mse,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_r()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:_r()},removeTooltipEntrySettings:{reducer(e,t){var r=rs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:_r()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Pse,replaceTooltipEntrySettings:Lse,removeTooltipEntrySettings:Fse,setTooltipSettingsState:Bse,setActiveMouseOverItemIndex:P8,mouseLeaveItem:Use,mouseLeaveChart:L8,setActiveClickItemIndex:zse,setMouseOverAxisIndex:F8,setMouseClickAxisIndex:$se,setSyncInteraction:n2,setKeyboardInteraction:a2}=M8.actions,Vse=M8.reducer;function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return(t=Gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wse(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Kse(e){return e.index!=null}var B8=(e,t,r,n)=>{if(t==null)return Tl;var a=Wse(e,t,r);if(a==null)return Tl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Kse(a)){if(i)return tg(tg({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return tg(tg({},Tl),{},{coordinate:a.coordinate})};function Yse(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Xse(e,t){var r=Yse(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function Jse(e,t,r){if(r==null||t==null)return!0;var n=Mr(e,t);return n==null||!Ml(r)?!0:Xse(n,r)}var yT=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ur(i))return a;var s=0,o=1/0;t.length>0&&(o=t.length-1);var u=Math.max(s,Math.min(i,o)),d=t[u];return d==null||Jse(d,r,n)?String(u):null},U8=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var u=s[0],d=u==null?void 0:o(u.positions,i);if(d!=null)return d;var h=a==null?void 0:a[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},z8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===a})},om=e=>e.options.tooltipPayloadSearcher,vf=e=>e.tooltip;function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zse(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toe(e,t){return e??t}var $8=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:d,dataEndIndex:h}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:y,settings:_}=x,N=toe(y,o),k=Array.isArray(N)?gL(N,d,h):N,A=(b=_==null?void 0:_.dataKey)!==null&&b!==void 0?b:n,D=_==null?void 0:_.nameKey,j;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?j=E6(k,n,a):j=i(k,t,u,D),Array.isArray(j))j.forEach(I=>{var M=qO(qO({},_),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});g.push(YR({tooltipEntrySettings:M,dataKey:I.dataKey,payload:I.payload,value:Mr(I.payload,I.dataKey),name:I.name}))});else{var O;g.push(YR({tooltipEntrySettings:_,dataKey:A,payload:j,value:Mr(j,A),name:(O=Mr(j,D))!==null&&O!==void 0?O:_==null?void 0:_.name}))}return g},m)}},bT=ke([mn,jt,JF,nT,hn],y8),roe=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),noe=ke([hn,gf],ZF),yf=ke([roe,mn,noe],QF,{memoizeOptions:{resultEqualityCheck:ry}}),aoe=ke([yf],e=>e.filter(ey)),ioe=ke([yf],r8,{memoizeOptions:{resultEqualityCheck:ry}}),bf=ke([ioe,Po],n8),soe=ke([aoe,Po,mn],KF),wT=ke([bf,mn,yf],a8),V8=ke([mn],dT),ooe=ke([mn],e=>e.allowDataOverflow),H8=ke([V8,ooe],TF),loe=ke([yf],e=>e.filter(ey)),coe=ke([soe,loe,Yv,zF],s8),uoe=ke([coe,Po,hn,H8],o8),doe=ke([yf],t8),foe=ke([bf,mn,doe,fT,hn],u8,{memoizeOptions:{resultEqualityCheck:ty}}),hoe=ke([d8,hn,gf],xf),moe=ke([hoe,hn],m8),poe=ke([f8,hn,gf],xf),goe=ke([poe,hn],p8),xoe=ke([h8,hn,gf],xf),voe=ke([xoe,hn],g8),yoe=ke([moe,voe,goe],Ox),boe=ke([mn,V8,H8,uoe,foe,yoe,jt,hn],x8),lm=ke([mn,jt,bf,wT,Yv,hn,boe],v8),woe=ke([lm,mn,bT],b8),_oe=ke([mn,lm,woe,hn],w8),G8=e=>{var t=hn(e),r=gf(e),n=!1;return sm(e,t,r,n)},q8=ke([mn,G8],Xv),W8=ke([mn,bT,_oe,q8],mT),Eoe=ke([jt,wT,mn,hn],C8),Soe=ke([jt,wT,mn,hn],k8),Toe=(e,t,r,n,a,i,s,o)=>{if(t){var{type:u}=t,d=Rs(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ja(a[0]-a[1])*2*m:m,d&&s?s.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},Bo=ke([jt,mn,bT,W8,G8,Eoe,Soe,hn],Toe),_T=ke([j8,R8,Dse],(e,t,r)=>O8(r.shared,e,t)),K8=e=>e.tooltip.settings.trigger,ET=e=>e.tooltip.settings.defaultIndex,cm=ke([vf,_T,K8,ET],B8),ru=ke([cm,bf,am,lm],yT),Y8=ke([Bo,ru],D8),X8=ke([cm],e=>{if(e)return e.dataKey});ke([cm],e=>{if(e)return e.graphicalItemId});var J8=ke([vf,_T,K8,ET],z8),Noe=ke([Oo,Do,jt,Tn,Bo,ET,J8,om],U8),Aoe=ke([cm,Noe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Coe=ke([cm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),koe=ke([J8,ru,Po,am,Y8,om,_T],$8),Ioe=ke([koe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function joe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Doe=()=>it(mn),Moe=()=>{var e=Doe(),t=it(Bo),r=it(W8);return Dl(!e||!r?void 0:KO(KO({},e),{},{scale:r}),t)};function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return(t=Loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Loe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Boe=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Uoe=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return bd(bd(bd({},n),Hn(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:u}=n;return bd(bd(bd({},n),Hn(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function zoe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Z8=(e,t,r,n,a)=>{var i,s=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var o=0;o<s;o++){var u,d,h,m,g,x=o>0?(u=r[o-1])===null||u===void 0?void 0:u.coordinate:(d=r[s-1])===null||d===void 0?void 0:d.coordinate,b=(h=r[o])===null||h===void 0?void 0:h.coordinate,y=o>=s-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,_=void 0;if(!(x==null||b==null||y==null))if(ja(b-x)!==ja(y-b)){var N=[];if(ja(y-b)===ja(a[1]-a[0])){_=y;var k=b+a[1]-a[0];N[0]=Math.min(k,(k+x)/2),N[1]=Math.max(k,(k+x)/2)}else{_=x;var A=y+a[1]-a[0];N[0]=Math.min(b,(A+b)/2),N[1]=Math.max(b,(A+b)/2)}var D=[Math.min(b,(_+b)/2),Math.max(b,(_+b)/2)];if(e>D[0]&&e<=D[1]||e>=N[0]&&e<=N[1]){var j;return(j=r[o])===null||j===void 0?void 0:j.index}}else{var O=Math.min(x,y),I=Math.max(x,y);if(e>(O+b)/2&&e<=(I+b)/2){var M;return(M=r[o])===null||M===void 0?void 0:M.index}}}else if(t)for(var R=0;R<s;R++){var z=t[R];if(z!=null){var q=t[R+1],F=t[R-1];if(R===0&&q!=null&&e<=(z.coordinate+q.coordinate)/2||R===s-1&&F!=null&&e>(z.coordinate+F.coordinate)/2||R>0&&R<s-1&&F!=null&&q!=null&&e>(z.coordinate+F.coordinate)/2&&e<=(z.coordinate+q.coordinate)/2)return z.index}}return-1},Q8=()=>it(nT),ST=(e,t)=>t,eB=(e,t,r)=>r,TT=(e,t,r,n)=>n,$oe=ke(Bo,e=>Ev(e,t=>t.coordinate)),NT=ke([vf,ST,eB,TT],B8),AT=ke([NT,bf,am,lm],yT),Voe=(e,t,r)=>{if(t!=null){var n=vf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tB=ke([vf,ST,eB,TT],z8),Dx=ke([Oo,Do,jt,Tn,Bo,TT,tB,om],U8),Hoe=ke([NT,Dx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),rB=ke([Bo,AT],D8),Goe=ke([tB,AT,Po,am,rB,om,ST],$8),qoe=ke([NT,AT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Woe=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&zoe(e,s)){var o=lee(e,t),u=Z8(o,i,a,r,n),d=Boe(t,a,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Koe=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var o=Rre(e,r);if(o){var u=cee(o,t),d=Z8(u,s,i,n,a),h=Uoe(t,i,d,o);return{activeIndex:String(d),activeCoordinate:h}}}},Yoe=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?Woe(e,t,n,a,i,s,o):Koe(e,t,r,n,a,i,s)},Xoe=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Joe=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(on)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Mie}});function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zoe(e,t,r){return(t=Qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qoe(e){var t=ele(e,"string");return typeof t=="symbol"?t:t+""}function ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tle={},rle={zIndexMap:Object.values(on).reduce((e,t)=>JO(JO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),tle)},nle=new Set(Object.values(on));function ale(e){return nle.has(e)}var nB=Ma({name:"zIndex",initialState:rle,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_r()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ale(r)&&delete e.zIndexMap[r])},prepare:_r()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:_r()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:_r()}}}),{registerZIndexPortal:ile,unregisterZIndexPortal:sle,registerZIndexPortalElement:ole,unregisterZIndexPortalElement:lle}=nB.actions,cle=nB.reducer;function si(e){var{zIndex:t,children:r}=e,n=Vee(),a=n&&t!==void 0&&t!==0,i=Nn(),s=Cr();S.useLayoutEffect(()=>a?(s(ile({zIndex:t})),()=>{s(sle({zIndex:t}))}):Vh,[s,t,a]);var o=it(u=>Xoe(u,t,i));return a?o?oS.createPortal(r,o):null:r}function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(null,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){ule(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ule(e,t,r){return(t=dle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dle(e){var t=fle(e,"string");return typeof t=="symbol"?t:t+""}function fle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hle(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return S.isValidElement(t)?S.cloneElement(t,n):S.createElement(r,n)}function mle(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:d,chartName:h}=e,m=r,g=n,x=a;if(!u||!m||h!=="ScatterChart"&&d!=="axis")return null;var b,y,_;if(h==="ScatterChart")b=m,y=Gte,_=on.cursorLine;else if(h==="BarChart")b=qte(o,m,i,s),y=FL,_=on.cursorRectangle;else if(o==="radial"&&T6(m)){var{cx:N,cy:k,radius:A,startAngle:D,endAngle:j}=BL(m);b={cx:N,cy:k,startAngle:D,endAngle:j,innerRadius:A,outerRadius:A},y=zL,_=on.cursorLine}else b={points:Pre(o,m,i)},y=H0,_=on.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,I=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},i),b),zh(u)),{},{payload:g,payloadIndex:x,className:Gt("recharts-tooltip-cursor",O)});return S.createElement(si,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},S.createElement(hle,{cursor:u,cursorComp:y,cursorProps:I}))}function ple(e){var t=Moe(),r=TL(),n=$l(),a=Q8();return t==null||r==null||n==null||a==null?null:S.createElement(mle,i2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var aB=S.createContext(null),gle=()=>S.useContext(aB),y_={exports:{}},QO;function xle(){return QO||(QO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function i(u,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,m||u,g),b=r?r+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},o.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,h,m,g,x,b){var y=r?r+d:d;if(!this._events[y])return!1;var _=this._events[y],N=arguments.length,k,A;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,g),!0;case 5:return _.fn.call(_.context,h,m,g,x),!0;case 6:return _.fn.call(_.context,h,m,g,x,b),!0}for(A=1,k=new Array(N-1);A<N;A++)k[A-1]=arguments[A];_.fn.apply(_.context,k)}else{var D=_.length,j;for(A=0;A<D;A++)switch(_[A].once&&this.removeListener(d,_[A].fn,void 0,!0),N){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,h);break;case 3:_[A].fn.call(_[A].context,h,m);break;case 4:_[A].fn.call(_[A].context,h,m,g);break;default:if(!k)for(j=1,k=new Array(N-1);j<N;j++)k[j-1]=arguments[j];_[A].fn.apply(_[A].context,k)}}return!0},o.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},o.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},o.prototype.removeListener=function(d,h,m,g){var x=r?r+d:d;if(!this._events[x])return this;if(!h)return s(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&s(this,x);else{for(var y=0,_=[],N=b.length;y<N;y++)(b[y].fn!==h||g&&!b[y].once||m&&b[y].context!==m)&&_.push(b[y]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},o.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(y_)),y_.exports}var vle=xle();const yle=ds(vle);var wh=new yle,s2="recharts.syncEvent.tooltip",eD="recharts.syncEvent.brush";function iB(e,t){if(t){var r=Number.parseInt(t,10);if(!Mi(r))return e==null?void 0:e[r]}}var ble={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sB=Ma({name:"options",initialState:ble,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wle=sB.reducer,{createEventEmitter:_le}=sB.actions;function Ele(e){return e.tooltip.syncInteraction}var Sle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oB=Ma({name:"chartData",initialState:Sle,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:tD,setDataStartEndIndexes:Tle,setComputedData:mOe}=oB.actions,Nle=oB.reducer,Ale=["x","y"];function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t,r){return(t=kle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kle(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jle(e,t){if(e==null)return{};var r,n,a=Rle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ole(){var e=it(aT),t=it(iT),r=Cr(),n=it($F),a=it(Bo),i=$l(),s=Fv(),o=it(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return Vh;var u=(d,h,m)=>{if(t!==m&&e===d){if(n==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y}=x,_=jle(x,Ale),{x:N,y:k,width:A,height:D}=h.payload.sourceViewBox,j=wd(wd({},_),{},{x:s.x+(A?(b-N)/A:0)*s.width,y:s.y+(D?(y-k)/D:0)*s.height});r(wd(wd({},h),{},{payload:wd(wd({},h.payload),{},{coordinate:j})}))}else r(h);return}if(a!=null){var O;if(typeof n=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=n(a,I);O=a[M]}else n==="value"&&(O=a.find(K=>String(K.value)===h.payload.label));var{coordinate:R}=h.payload;if(O==null||h.payload.active===!1||R==null||s==null){r(n2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:q}=R,F=Math.min(z,s.x+s.width),Y=Math.min(q,s.y+s.height),de={x:i==="horizontal"?O.coordinate:F,y:i==="horizontal"?Y:O.coordinate},ce=n2({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ce)}}};return wh.on(s2,u),()=>{wh.off(s2,u)}},[o,r,t,e,n,a,i,s])}function Dle(){var e=it(aT),t=it(iT),r=Cr();S.useEffect(()=>{if(e==null)return Vh;var n=(a,i,s)=>{t!==s&&e===a&&r(Tle(i))};return wh.on(eD,n),()=>{wh.off(eD,n)}},[r,t,e])}function Mle(){var e=Cr();S.useEffect(()=>{e(_le())},[e]),Ole(),Dle()}function Ple(e,t,r,n,a,i){var s=it(x=>Voe(x,e,t)),o=it(iT),u=it(aT),d=it($F),h=it(Ele),m=h==null?void 0:h.active,g=Fv();S.useEffect(()=>{if(!m&&u!=null&&o!=null){var x=n2({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});wh.emit(s2,u,x,o)}},[m,r,s,a,n,o,u,d,i,g])}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){Lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lle(e,t,r){return(t=Fle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fle(e){var t=Ble(e,"string");return typeof t=="symbol"?t:t+""}function Ble(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ule(e){return e.dataKey}function zle(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Ste,t)}var iD=[],$le={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oy(e){var t,r,n=un(e,$le),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:b,useTranslate3d:y,wrapperStyle:_,cursor:N,shared:k,trigger:A,defaultIndex:D,portal:j,axisId:O}=n,I=Cr(),M=typeof D=="number"?String(D):D;S.useEffect(()=>{I(Bse({shared:k,trigger:A,axisId:O,active:a,defaultIndex:M}))},[I,k,A,O,a,M]);var R=Fv(),z=OL(),q=Ose(k),{activeIndex:F,isActive:Y}=(t=it(fe=>qoe(fe,q,A,M)))!==null&&t!==void 0?t:{},de=it(fe=>Goe(fe,q,A,M)),ce=it(fe=>rB(fe,q,A,M)),K=it(fe=>Hoe(fe,q,A,M)),ae=de,Z=gle(),W=(r=a??Y)!==null&&r!==void 0?r:!1,[ee,H]=U6([ae,W]),L=q==="axis"?ce:void 0;Ple(q,A,K,L,F,W);var J=j??Z;if(J==null||R==null||q==null)return null;var U=ae??iD;W||(U=iD),d&&U.length&&(U=M6(U.filter(fe=>fe.value!=null&&(fe.hide!==!0||n.includeHidden)),g,Ule));var B=U.length>0,se=S.createElement(jte,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:h,active:W,coordinate:K,hasPayload:B,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:R,wrapperStyle:_,lastBoundingBox:ee,innerRef:H,hasPortalFromProps:!!j},zle(u,aD(aD({},n),{},{payload:U,label:L,active:W,activeIndex:F,coordinate:K,accessibilityLayer:z})));return S.createElement(S.Fragment,null,oS.createPortal(se,J),W&&S.createElement(ple,{cursor:N,tooltipEventType:q,coordinate:K,payload:U,index:F}))}var lB=e=>null;lB.displayName="Cell";function Vle(e,t,r){return(t=Hle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hle(e){var t=Gle(e,"string");return typeof t=="symbol"?t:t+""}function Gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qle{constructor(t){Vle(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){Kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kle(e,t,r){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Xle(e,"string");return typeof t=="symbol"?t:t+""}function Xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jle={cacheSize:2e3,enableCache:!0},cB=Wle({},Jle),oD=new qle(cB.cacheSize),Zle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lD="recharts_measurement_span";function Qle(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var cD=(e,t)=>{try{var r=document.getElementById(lD);r||(r=document.createElement("span"),r.setAttribute("id",lD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Zle,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},G0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Kh.isSsr)return{width:0,height:0};if(!cB.enableCache)return cD(t,r);var n=Qle(t,r),a=oD.get(n);if(a)return a;var i=cD(t,r);return oD.set(n,i),i},uB;function ece(e,t,r){return(t=tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tce(e){var t=rce(e,"string");return typeof t=="symbol"?t:t+""}function rce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ace=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ice={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sce=["cm","mm","pt","pc","in","Q","px"];function oce(e){return sce.includes(e)}var Od="NaN";function lce(e,t){return e*ice[t]}class Bn{static parse(t){var r,[,n,a]=(r=ace.exec(t))!==null&&r!==void 0?r:[];return n==null?Bn.NaN:new Bn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Mi(t)&&(this.unit=""),r!==""&&!nce.test(r)&&(this.num=NaN,this.unit=""),oce(r)&&(this.num=lce(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mi(this.num)}}uB=Bn;ece(Bn,"NaN",new uB(NaN,""));function dB(e){if(e==null||e.includes(Od))return Od;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=uD.exec(t))!==null&&r!==void 0?r:[],s=Bn.parse(n??""),o=Bn.parse(i??""),u=a==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return Od;t=t.replace(uD,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,g]=(d=dD.exec(t))!==null&&d!==void 0?d:[],x=Bn.parse(h??""),b=Bn.parse(g??""),y=m==="+"?x.add(b):x.subtract(b);if(y.isNaN())return Od;t=t.replace(dD,y.toString())}return t}var fD=/\(([^()]*)\)/;function cce(e){for(var t=e,r;(r=fD.exec(t))!=null;){var[,n]=r;t=t.replace(fD,dB(n))}return t}function uce(e){var t=e.replace(/\s+/g,"");return t=cce(t),t=dB(t),t}function dce(e){try{return uce(e)}catch{return Od}}function b_(e){var t=dce(e.slice(5,-1));return t===Od?"":t}var fce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hce=["dx","dy","angle","className","breakAll"];function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(null,arguments)}function hD(e,t){if(e==null)return{};var r,n,a=mce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fB=/[ \f\n\r\t\v\u2028\u2029]+/,hB=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];xr(t)||(r?a=t.toString().split(""):a=t.toString().split(fB));var i=a.map(o=>({word:o,width:G0(o,n).width})),s=r?0:G0("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function pce(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var mB=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:o}=i,u=a[a.length-1];if(u&&o!=null&&(t==null||n||u.width+o+r<Number(t)))u.words.push(s),u.width+=o+r;else{var d={words:[s],width:o};a.push(d)}return a},[]),pB=e=>e.reduce((t,r)=>t.width>r.width?t:r),gce="",mD=(e,t,r,n,a,i,s,o)=>{var u=e.slice(0,t),d=hB({breakAll:r,style:n,children:u+gce});if(!d)return[!1,[]];var h=mB(d.wordsWithComputedWidth,i,s,o),m=h.length>a||pB(h).width>Number(i);return[m,h]},xce=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:u}=e,d=Qe(i),h=String(s),m=mB(t,n,r,a);if(!d||a)return m;var g=m.length>i||pB(m).width>Number(n);if(!g)return m;for(var x=0,b=h.length-1,y=0,_;x<=b&&y<=h.length-1;){var N=Math.floor((x+b)/2),k=N-1,[A,D]=mD(h,k,u,o,i,n,r,a),[j]=mD(h,N,u,o,i,n,r,a);if(!A&&!j&&(x=N+1),A&&j&&(b=N-1),!A&&j){_=D;break}y++}return _||m},pD=e=>{var t=xr(e)?[]:e.toString().split(fB);return[{words:t,width:void 0}]},vce=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Kh.isSsr){var o,u,d=hB({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;o=h,u=m}else return pD(n);return xce({breakAll:i,children:n,maxLines:s,style:a},o,u,t,!!r)}return pD(n)},gB="#808080",yce={angle:0,breakAll:!1,capHeight:"0.71em",fill:gB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},CT=S.forwardRef((e,t)=>{var r=un(e,yce),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:u,textAnchor:d,verticalAnchor:h}=r,m=hD(r,fce),g=S.useMemo(()=>vce({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:x,dy:b,angle:y,className:_,breakAll:N}=m,k=hD(m,hce);if(!As(n)||!As(a)||g.length===0)return null;var A=Number(n)+(Qe(x)?x:0),D=Number(a)+(Qe(b)?b:0);if(!ur(A)||!ur(D))return null;var j;switch(h){case"start":j=b_("calc(".concat(s,")"));break;case"middle":j=b_("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=b_("calc(".concat(g.length-1," * -").concat(i,")"));break}var O=[];if(u){var I=g[0].width,{width:M}=m;O.push("scale(".concat(Qe(M)&&Qe(I)?M/I:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(A,", ").concat(D,")")),O.length&&(k.transform=O.join(" ")),S.createElement("text",o2({},ra(k),{ref:t,x:A,y:D,className:Gt("recharts-text",_),textAnchor:d,fill:o.includes("url")?gB:o}),g.map((R,z)=>{var q=R.words.join(N?"":" ");return S.createElement("tspan",{x:A,dy:z===0?j:i,key:"".concat(q,"-").concat(z)},q)}))});CT.displayName="Text";var bce=["labelRef"],wce=["content"];function gD(e,t){if(e==null)return{};var r,n,a=_ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){Ece(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ece(e,t,r){return(t=Sce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sce(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}var xB=S.createContext(null),Nce=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=e,u=S.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return S.createElement(xB.Provider,{value:u},o)},vB=()=>{var e=S.useContext(xB),t=Fv();return e||SL(t)},Ace=S.createContext(null),Cce=()=>{var e=S.useContext(Ace),t=it(WF);return e||t},kce=e=>{var{value:t,formatter:r}=e,n=xr(e.children)?t:e.children;return typeof r=="function"?r(n):n},kT=e=>e!=null&&typeof e=="function",Ice=(e,t)=>{var r=ja(t-e),n=Math.min(Math.abs(t-e),360);return r*n},jce=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:u,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=a,b=(d+h)/2,y=Ice(m,g),_=y>=0?1:-1,N,k;switch(t){case"insideStart":N=m+_*i,k=x;break;case"insideEnd":N=g-_*i,k=!x;break;case"end":N=g+_*i,k=x;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var A=Hn(o,u,b,N),D=Hn(o,u,b,N+(k?1:-1)*359),j="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(D.x,",").concat(D.y),O=xr(e.id)?lh("recharts-radial-line-"):e.id;return S.createElement("text",lo({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",s)}),S.createElement("defs",null,S.createElement("path",{id:O,d:j})),S.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Rce=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:u}=e,d=(o+u)/2;if(r==="outside"){var{x:h,y:m}=Hn(n,a,s+t,d);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+s)/2,{x,y:b}=Hn(n,a,g,d);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},l2=e=>"cx"in e&&Qe(e.cx),Oce=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!l2(r)&&(i=r);var{x:s,y:o,upperWidth:u,lowerWidth:d,height:h}=t,m=s,g=s+(u-d)/2,x=(m+g)/2,b=(u+d)/2,y=m+u/2,_=h>=0?1:-1,N=_*n,k=_>0?"end":"start",A=_>0?"start":"end",D=u>=0?1:-1,j=D*n,O=D>0?"end":"start",I=D>0?"start":"end";if(a==="top"){var M={x:m+u/2,y:o-N,textAnchor:"middle",verticalAnchor:k};return zr(zr({},M),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var R={x:g+d/2,y:o+h+N,textAnchor:"middle",verticalAnchor:A};return zr(zr({},R),i?{height:Math.max(i.y+i.height-(o+h),0),width:d}:{})}if(a==="left"){var z={x:x-j,y:o+h/2,textAnchor:O,verticalAnchor:"middle"};return zr(zr({},z),i?{width:Math.max(z.x-i.x,0),height:h}:{})}if(a==="right"){var q={x:x+b+j,y:o+h/2,textAnchor:I,verticalAnchor:"middle"};return zr(zr({},q),i?{width:Math.max(i.x+i.width-q.x,0),height:h}:{})}var F=i?{width:b,height:h}:{};return a==="insideLeft"?zr({x:x+j,y:o+h/2,textAnchor:I,verticalAnchor:"middle"},F):a==="insideRight"?zr({x:x+b-j,y:o+h/2,textAnchor:O,verticalAnchor:"middle"},F):a==="insideTop"?zr({x:m+u/2,y:o+N,textAnchor:"middle",verticalAnchor:A},F):a==="insideBottom"?zr({x:g+d/2,y:o+h-N,textAnchor:"middle",verticalAnchor:k},F):a==="insideTopLeft"?zr({x:m+j,y:o+N,textAnchor:I,verticalAnchor:A},F):a==="insideTopRight"?zr({x:m+u-j,y:o+N,textAnchor:O,verticalAnchor:A},F):a==="insideBottomLeft"?zr({x:g+j,y:o+h-N,textAnchor:I,verticalAnchor:k},F):a==="insideBottomRight"?zr({x:g+d-j,y:o+h-N,textAnchor:O,verticalAnchor:k},F):a&&typeof a=="object"&&(Qe(a.x)||_o(a.x))&&(Qe(a.y)||_o(a.y))?zr({x:s+ls(a.x,b),y:o+ls(a.y,h),textAnchor:"end",verticalAnchor:"end"},F):zr({x:y,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Dce={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function El(e){var t=un(e,Dce),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:u,labelRef:d}=t,h=Cce(),m=vB(),g=n==="center"?m:h??m,x,b,y;if(r==null?x=g:l2(r)?x=r:x=SL(r),!x||xr(a)&&xr(i)&&!S.isValidElement(s)&&typeof s!="function")return null;var _=zr(zr({},t),{},{viewBox:x});if(S.isValidElement(s)){var{labelRef:N}=_,k=gD(_,bce);return S.cloneElement(s,k)}if(typeof s=="function"){var{content:A}=_,D=gD(_,wce);if(b=S.createElement(s,D),S.isValidElement(b))return b}else b=kce(t);var j=ra(t);if(l2(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return jce(t,n,b,j,x);y=Rce(x,t.offset,t.position)}else y=Oce(t,x);return S.createElement(si,{zIndex:t.zIndex},S.createElement(CT,lo({ref:d,className:Gt("recharts-label",o)},j,y,{textAnchor:pce(j.textAnchor)?j.textAnchor:y.textAnchor,breakAll:u}),b))}El.displayName="Label";var Mce=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(El,lo({key:"label-implicit"},n)):As(e)?S.createElement(El,lo({key:"label-implicit",value:e},n)):S.isValidElement(e)?e.type===El?S.cloneElement(e,zr({key:"label-implicit"},n)):S.createElement(El,lo({key:"label-implicit",content:e},n)):kT(e)?S.createElement(El,lo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(El,lo({},e,{key:"label-implicit"},n)):null};function Pce(e){var{label:t,labelRef:r}=e,n=vB();return Mce(t,n,r)||null}var w_={},__={},vD;function Lce(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(__)),__}var E_={},yD;function Fce(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(E_)),E_}var bD;function Bce(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lce(),r=Fce(),n=gS();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(w_)),w_}var S_,wD;function Uce(){return wD||(wD=1,S_=Bce().last),S_}var zce=Uce();const $ce=ds(zce);var Vce=["valueAccessor"],Hce=["dataKey","clockWise","id","textBreakAll","zIndex"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function _D(e,t){if(e==null)return{};var r,n,a=Gce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qce=e=>Array.isArray(e.value)?$ce(e.value):e.value,yB=S.createContext(void 0),IT=yB.Provider,bB=S.createContext(void 0);bB.Provider;function Wce(){return S.useContext(yB)}function Kce(){return S.useContext(bB)}function Rg(e){var{valueAccessor:t=qce}=e,r=_D(e,Vce),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,u=_D(r,Hce),d=Wce(),h=Kce(),m=d||h;return!m||!m.length?null:S.createElement(si,{zIndex:o??on.label},S.createElement(na,{className:"recharts-label-list"},m.map((g,x)=>{var b,y=xr(n)?t(g,x):Mr(g&&g.payload,n),_=xr(i)?{}:{id:"".concat(i,"-").concat(x)};return S.createElement(El,Mx({key:"label-".concat(x)},ra(g),u,_,{fill:(b=r.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:y,textBreakAll:s,viewBox:g.viewBox,index:x,zIndex:0}))})))}Rg.displayName="LabelList";function jT(e){var{label:t}=e;return t?t===!0?S.createElement(Rg,{key:"labelList-implicit"}):S.isValidElement(t)||kT(t)?S.createElement(Rg,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(Rg,Mx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c2.apply(null,arguments)}var wB=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Gt("recharts-dot",a);return Qe(t)&&Qe(r)&&Qe(n)?S.createElement("circle",c2({},ni(e),pS(e),{className:i,cx:t,cy:r,r:n})):null},Yce={radiusAxis:{},angleAxis:{}},_B=Ma({name:"polarAxis",initialState:Yce,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pOe,removeRadiusAxis:gOe,addAngleAxis:xOe,removeAngleAxis:vOe}=_B.actions,Xce=_B.reducer,T_={exports:{}},nr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED;function Jce(){if(ED)return nr;ED=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:case g:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case m:case h:return y;case i:return y;default:return _}}case t:return _}}}return nr.ContextConsumer=i,nr.ContextProvider=s,nr.Element=e,nr.ForwardRef=o,nr.Fragment=r,nr.Lazy=m,nr.Memo=h,nr.Portal=t,nr.Profiler=a,nr.StrictMode=n,nr.Suspense=u,nr.SuspenseList=d,nr.isContextConsumer=function(y){return b(y)===i},nr.isContextProvider=function(y){return b(y)===s},nr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},nr.isForwardRef=function(y){return b(y)===o},nr.isFragment=function(y){return b(y)===r},nr.isLazy=function(y){return b(y)===m},nr.isMemo=function(y){return b(y)===h},nr.isPortal=function(y){return b(y)===t},nr.isProfiler=function(y){return b(y)===a},nr.isStrictMode=function(y){return b(y)===n},nr.isSuspense=function(y){return b(y)===u},nr.isSuspenseList=function(y){return b(y)===d},nr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===s||y.$$typeof===i||y.$$typeof===o||y.$$typeof===x||y.getModuleId!==void 0)},nr.typeOf=b,nr}var SD;function Zce(){return SD||(SD=1,T_.exports=Jce()),T_.exports}var Qce=Zce(),TD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ND=null,N_=null,EB=e=>{if(e===ND&&Array.isArray(N_))return N_;var t=[];return S.Children.forEach(e,r=>{xr(r)||(Qce.isFragment(r)?t=t.concat(EB(r.props.children)):t.push(r))}),N_=t,ND=e,t};function eue(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>TD(a)):n=[TD(t)],EB(e).forEach(a=>{var i=ef(a,"type.displayName")||ef(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var RT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,A_={},AD;function tue(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(A_)),A_}var C_,CD;function rue(){return CD||(CD=1,C_=tue().isPlainObject),C_}var nue=rue();const aue=ds(nue);var kD,ID,jD,RD,OD;function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(null,arguments)}function A0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PD=(e,t,r,n,a)=>{var i=r-n,s;return s=Rr(kD||(kD=A0(["M ",",",""])),e,t),s+=Rr(ID||(ID=A0(["L ",",",""])),e+r,t),s+=Rr(jD||(jD=A0(["L ",",",""])),e+r-i/2,t+a),s+=Rr(RD||(RD=A0(["L ",",",""])),e+r-i/2-n,t+a),s+=Rr(OD||(OD=A0(["L ",","," Z"])),e,t),s},lue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cue=e=>{var t=un(e,lue),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:u,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,g=S.useRef(null),[x,b]=S.useState(-1),y=S.useRef(a),_=S.useRef(i),N=S.useRef(s),k=S.useRef(r),A=S.useRef(n),D=Xh(e,"trapezoid-");if(S.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&b(de)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var j=Gt("recharts-trapezoid",o);if(!m)return S.createElement("g",null,S.createElement("path",Px({},ra(t),{className:j,d:PD(r,n,a,i,s)})));var O=y.current,I=_.current,M=N.current,R=k.current,z=A.current,q="0px ".concat(x===-1?1:x,"px"),F="".concat(x,"px 0px"),Y=DL(["strokeDasharray"],d,u);return S.createElement(Yh,{animationId:D,key:D,canBegin:x>0,duration:d,easing:u,isActive:m,begin:h},de=>{var ce=ar(O,a,de),K=ar(I,i,de),ae=ar(M,s,de),Z=ar(R,r,de),W=ar(z,n,de);g.current&&(y.current=ce,_.current=K,N.current=ae,k.current=Z,A.current=W);var ee=de>0?{transition:Y,strokeDasharray:F}:{strokeDasharray:q};return S.createElement("path",Px({},ra(t),{className:j,d:PD(Z,W,ce,K,ae),ref:g,style:MD(MD({},ee),t.style)}))})},uue=["option","shapeType","activeClassName"];function due(e,t){if(e==null)return{};var r,n,a=fue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gue(e,t){return Lx(Lx({},t),e)}function xue(e,t){return e==="symbols"}function FD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(FL,r);case"trapezoid":return S.createElement(cue,r);case"sector":return S.createElement(zL,r);case"symbols":if(xue(t))return S.createElement(mS,r);break;case"curve":return S.createElement(H0,r);default:return null}}function vue(e){return S.isValidElement(e)?e.props:e}function SB(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=due(e,uue),i;if(S.isValidElement(t))i=S.cloneElement(t,Lx(Lx({},a),vue(t)));else if(typeof t=="function")i=t(a,a.index);else if(aue(t)&&typeof t!="boolean"){var s=gue(t,a);i=S.createElement(FD,{shapeType:r,elementProps:s})}else{var o=a;i=S.createElement(FD,{shapeType:r,elementProps:o})}return a.isActive?S.createElement(na,{className:n},i):i}var TB=(e,t,r)=>{var n=Cr();return(a,i)=>s=>{e==null||e(a,i,s),n(P8({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},NB=e=>{var t=Cr();return(r,n)=>a=>{e==null||e(r,n,a),t(Use())}},AB=(e,t,r)=>{var n=Cr();return(a,i)=>s=>{e==null||e(a,i,s),n(zse({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function OT(e){var{tooltipEntrySettings:t}=e,r=Cr(),n=Nn(),a=S.useRef(null);return S.useLayoutEffect(()=>{n||(a.current===null?r(Pse(t)):a.current!==t&&r(Lse({prev:a.current,next:t})),a.current=t)},[t,r,n]),S.useLayoutEffect(()=>()=>{a.current&&(r(Fse(a.current)),a.current=null)},[r]),null}function DT(e){var{legendPayload:t}=e,r=Cr(),n=Nn(),a=S.useRef(null);return S.useLayoutEffect(()=>{n||(a.current===null?r(nte(t)):a.current!==t&&r(ate({prev:a.current,next:t})),a.current=t)},[r,n,t]),S.useLayoutEffect(()=>()=>{a.current&&(r(ite(a.current)),a.current=null)},[r]),null}var k_,yue=()=>{var[e]=S.useState(()=>lh("uid-"));return e},bue=(k_=iH.useId)!==null&&k_!==void 0?k_:yue;function wue(e,t){var r=bue();return t||(e?"".concat(e,"-").concat(r):r)}var _ue=S.createContext(void 0),MT=e=>{var{id:t,type:r,children:n}=e,a=wue("recharts-".concat(r),t);return S.createElement(_ue.Provider,{value:a},n(a))},Eue={cartesianItems:[],polarItems:[]},CB=Ma({name:"graphicalItems",initialState:Eue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_r()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:_r()},removeCartesianGraphicalItem:{reducer(e,t){var r=rs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:_r()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_r()},removePolarGraphicalItem:{reducer(e,t){var r=rs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:_r()}}}),{addCartesianGraphicalItem:Sue,replaceCartesianGraphicalItem:Tue,removeCartesianGraphicalItem:Nue,addPolarGraphicalItem:yOe,removePolarGraphicalItem:bOe}=CB.actions,Aue=CB.reducer,Cue=e=>{var t=Cr(),r=S.useRef(null);return S.useLayoutEffect(()=>{r.current===null?t(Sue(e)):r.current!==e&&t(Tue({prev:r.current,next:e})),r.current=e},[t,e]),S.useLayoutEffect(()=>()=>{r.current&&(t(Nue(r.current)),r.current=null)},[t]),null},PT=S.memo(Cue),kue=["points"];function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){Iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iue(e,t,r){return(t=jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Rue(e,"string");return typeof t=="symbol"?t:t+""}function Rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function Oue(e,t){if(e==null)return{};var r,n,a=Due(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Due(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mue(e){var{option:t,dotProps:r,className:n}=e;if(S.isValidElement(t))return S.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Gt(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,o=Oue(i,kue);return S.createElement(wB,Fx({},o,{className:a}))}function Pue(e,t){return e==null?!1:t?!0:e.length===1}function kB(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:o,clipPathId:u,zIndex:d=on.scatter}=e;if(!Pue(t,r))return null;var h=RT(r),m=LX(r),g=t.map((b,y)=>{var _,N,k=I_(I_(I_({r:3},s),m),{},{index:y,cx:(_=b.x)!==null&&_!==void 0?_:void 0,cy:(N=b.y)!==null&&N!==void 0?N:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return S.createElement(Mue,{key:"dot-".concat(y),option:r,dotProps:k,className:a})}),x={};return o&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),S.createElement(si,{zIndex:d},S.createElement(na,Fx({className:n},x),g))}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Lue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lue(e,t,r){return(t=Fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IB=0,Uue={xAxis:{},yAxis:{},zAxis:{}},jB=Ma({name:"cartesianAxis",initialState:Uue,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_r()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:_r()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_r()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_r()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:_r()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_r()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_r()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:_r()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_r()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=zD(zD({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:zue,replaceXAxis:$ue,removeXAxis:Vue,addYAxis:Hue,replaceYAxis:Gue,removeYAxis:que,addZAxis:wOe,replaceZAxis:_Oe,removeZAxis:EOe,updateYAxisWidth:Wue}=jB.actions,Kue=jB.reducer,Yue=ke([Tn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Xue=ke([Yue,Oo,Do],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ly=()=>it(Xue),Jue=()=>it(Ioe);function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){Zue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zue(e,t,r){return(t=Que(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Que(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tde=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=j_(j_(j_({},o),zh(a)),pS(a)),d;return S.isValidElement(a)?d=S.cloneElement(a,u):typeof a=="function"?d=a(u):d=S.createElement(wB,u),S.createElement(na,{className:"recharts-active-dot",clipPath:s},d)};function u2(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=on.activeDot}=e,o=it(ru),u=Jue();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return xr(d)?null:S.createElement(si,{zIndex:s},S.createElement(tde,{point:d,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var VD=(e,t,r)=>{var n=r??e;if(!xr(n))return ls(n,t,0)},rde=(e,t,r)=>{var n={},a=e.filter(ey),i=e.filter(d=>d.stackId==null),s=a.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),n),o=Object.entries(s).map(d=>{var[h,m]=d,g=m.map(b=>b.dataKey),x=VD(t,r,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=i.map(d=>{var h=[d.dataKey].filter(g=>g!=null),m=VD(t,r,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...u]};function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nde(e,t,r){return(t=ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sde(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=ls(e,r,0,!0),o,u=[];if(ur(n[0].barSize)){var d=!1,h=r/i,m=n.reduce((N,k)=>N+(k.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&h>0&&(d=!0,h*=.9,m=i*h);var g=(r-m)/2>>0,x={offset:g-s,size:0};o=n.reduce((N,k)=>{var A,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x.offset+x.size+s,size:d?h:(A=k.barSize)!==null&&A!==void 0?A:0}},j=[...N,D];return x=j[j.length-1].position,j},u)}else{var b=ls(t,r,0,!0);r-2*b-(i-1)*s<=0&&(s=0);var y=(r-2*b-(i-1)*s)/i;y>1&&(y>>=0);var _=ur(a)?Math.min(y,a):y;o=n.reduce((N,k,A)=>[...N,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:b+(y+s)*A+(y-_)/2,size:_}}],u)}return o}}var ode=(e,t,r,n,a,i,s)=>{var o=xr(s)?t:s,u=sde(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(d=>ng(ng({},d),{},{position:ng(ng({},d.position),{},{offset:d.position.offset-a/2})}))),u},lde=(e,t)=>{var r=Qv(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}};function cde(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ur(e.zIndex)?e.zIndex:t}var ude=e=>{var{chartData:t}=e,r=Cr(),n=Nn();return S.useEffect(()=>n?()=>{}:(r(tD(t)),()=>{r(tD(void 0))}),[t,r,n]),null},GD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RB=Ma({name:"brush",initialState:GD,reducers:{setBrushSettings(e,t){return t.payload==null?GD:t.payload}}}),{setBrushSettings:SOe}=RB.actions,dde=RB.reducer;function fde(e,t,r){return(t=hde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hde(e){var t=mde(e,"string");return typeof t=="symbol"?t:t+""}function mde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LT{static create(t){return new LT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}fde(LT,"EPS",1e-4);function pde(e){return(e%180+180)%180}var gde=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pde(a),s=i*Math.PI/180,o=Math.atan(n/r),u=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},xde={dots:[],areas:[],lines:[]},OB=Ma({name:"referenceElements",initialState:xde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:TOe,removeDot:NOe,addArea:AOe,removeArea:COe,addLine:kOe,removeLine:IOe}=OB.actions,vde=OB.reducer,yde=S.createContext(void 0),bde=e=>{var{children:t}=e,[r]=S.useState("".concat(lh("recharts"),"-clip")),n=ly();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return S.createElement(yde.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function DB(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function wde(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gde(n,r)}function _de(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function _h(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Ede(e,t){return DB(e,t+1)}function Sde(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,u=0,d=1,h=s,m=function(){var b=n==null?void 0:n[u];if(b===void 0)return{v:DB(n,d)};var y=u,_,N=()=>(_===void 0&&(_=r(b,y)),_),k=b.coordinate,A=u===0||_h(e,k,N,h,o);A||(u=0,h=s,d+=1),A&&(h=k+e*(N()/2+a),u+=d)},g;d<=i.length;)if(g=m(),g)return g.v;return[]}function Tde(e,t,r,n,a){var i=(n||[]).slice(),s=i.length;if(s===0)return[];for(var{start:o,end:u}=t,d=1;d<=s;d++){for(var h=(s-1)%d,m=o,g=!0,x=function(){var k=n[b],A=b,D,j=()=>(D===void 0&&(D=r(k,A)),D),O=k.coordinate,I=b===h||_h(e,O,j,m,u);if(!I)return g=!1,1;I&&(m=O+e*(j()/2+a))},b=h;b<s&&!x();b+=d);if(g){for(var y=[],_=h;_<s;_+=d)y.push(n[_]);return y}}return[]}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nde(e,t,r){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ade(e){var t=Cde(e,"string");return typeof t=="symbol"?t:t+""}function Cde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kde(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:u}=t,d=function(g){var x=i[g],b,y=()=>(b===void 0&&(b=r(x,g)),b);if(g===s-1){var _=e*(x.coordinate+e*y()/2-u);i[g]=x=Kn(Kn({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else i[g]=x=Kn(Kn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var N=_h(e,x.tickCoord,y,o,u);N&&(u=x.tickCoord-e*(y()/2+a),i[g]=Kn(Kn({},x),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return i}function Ide(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:u,end:d}=t;if(i){var h=n[o-1],m=r(h,o-1),g=e*(h.coordinate+e*m/2-d);if(s[o-1]=h=Kn(Kn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var x=_h(e,h.tickCoord,()=>m,u,d);x&&(d=h.tickCoord-e*(m/2+a),s[o-1]=Kn(Kn({},h),{},{isShow:!0}))}}for(var b=i?o-1:o,y=function(k){var A=s[k],D,j=()=>(D===void 0&&(D=r(A,k)),D);if(k===0){var O=e*(A.coordinate-e*j()/2-u);s[k]=A=Kn(Kn({},A),{},{tickCoord:O<0?A.coordinate-O*e:A.coordinate})}else s[k]=A=Kn(Kn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var I=_h(e,A.tickCoord,j,u,d);I&&(u=A.tickCoord+e*(j()/2+a),s[k]=Kn(Kn({},A),{},{isShow:!0}))}},_=0;_<b;_++)y(_);return s}function FT(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:u,tickFormatter:d,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(Qe(u)||Kh.isSsr){var g;return(g=Ede(a,Qe(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",y=h&&b==="width"?G0(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(A,D)=>{var j=typeof d=="function"?d(A.value,D):A.value;return b==="width"?wde(G0(j,{fontSize:t,letterSpacing:r}),y,m):G0(j,{fontSize:t,letterSpacing:r})[b]},N=a.length>=2?ja(a[1].coordinate-a[0].coordinate):1,k=_de(i,N,b);return u==="equidistantPreserveStart"?Sde(N,k,_,a,s):u==="equidistantPreserveEnd"?Tde(N,k,_,a,s):(u==="preserveStart"||u==="preserveStartEnd"?x=Ide(N,k,_,a,s,u==="preserveStartEnd"):x=kde(N,k,_,a,s),x.filter(A=>A.isShow))}var jde=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,d=s+u+o+(r?n:0);return Math.round(d)}return 0},Rde=["axisLine","width","height","className","hide","ticks","axisType"];function Ode(e,t){if(e==null)return{};var r,n,a=Dde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(null,arguments)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){Mde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mde(e,t,r){return(t=Pde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Lde(e,"string");return typeof t=="symbol"?t:t+""}function Lde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var po={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function Fde(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var d=Zr(Zr(Zr({},u),ni(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!s||i==="bottom"&&s);d=Zr(Zr({},d),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(i==="left"&&!s||i==="right"&&s);d=Zr(Zr({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return S.createElement("line",nu({},d,{className:Gt("recharts-cartesian-axis-line",ef(o,"className"))}))}function Bde(e,t,r,n,a,i,s,o,u){var d,h,m,g,x,b,y=o?-1:1,_=e.tickSize||s,N=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=h=e.coordinate,g=r+ +!o*a,m=g-y*_,b=m-y*u,x=N;break;case"left":m=g=e.coordinate,h=t+ +!o*n,d=h-y*_,x=d-y*u,b=N;break;case"right":m=g=e.coordinate,h=t+ +o*n,d=h+y*_,x=d+y*u,b=N;break;default:d=h=e.coordinate,g=r+ +o*a,m=g+y*_,b=m+y*u,x=N;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x,y:b}}}function Ude(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $de(e){var{option:t,tickProps:r,value:n}=e,a,i=Gt(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))a=S.cloneElement(t,Zr(Zr({},r),{},{className:i}));else if(typeof t=="function")a=t(Zr(Zr({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Gt(s,t==null?void 0:t.className)),a=S.createElement(CT,nu({},r,{className:s}),n)}return a}var Vde=S.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:u,tickTextProps:d,orientation:h,mirror:m,x:g,y:x,width:b,height:y,tickSize:_,tickMargin:N,fontSize:k,letterSpacing:A,getTicksConfig:D,events:j,axisType:O}=e,I=FT(Zr(Zr({},D),{},{ticks:r}),k,A),M=Ude(h,m),R=zde(h,m),z=ni(D),q=zh(n),F={};typeof a=="object"&&(F=a);var Y=Zr(Zr({},z),{},{fill:"none"},F),de=I.map(ae=>Zr({entry:ae},Bde(ae,g,x,b,y,h,_,m,N))),ce=de.map(ae=>{var{entry:Z,line:W}=ae;return S.createElement(na,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},a&&S.createElement("line",nu({},Y,W,{className:Gt("recharts-cartesian-axis-tick-line",ef(a,"className"))})))}),K=de.map((ae,Z)=>{var{entry:W,tick:ee}=ae,H=Zr(Zr(Zr(Zr({textAnchor:M,verticalAnchor:R},z),{},{stroke:"none",fill:i},q),ee),{},{index:Z,payload:W,visibleTicksCount:I.length,tickFormatter:s,padding:u},d);return S.createElement(na,nu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},_v(j,W,Z)),n&&S.createElement($de,{option:n,tickProps:H,value:"".concat(typeof s=="function"?s(W.value,Z):W.value).concat(o||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},K.length>0&&S.createElement(si,{zIndex:on.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},K)),ce.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ce))}),Hde=S.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:u}=e,d=Ode(e,Rde),[h,m]=S.useState(""),[g,x]=S.useState(""),b=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return jde({ticks:b.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=S.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=N;var k=N[0];if(k){var A=window.getComputedStyle(k),D=A.fontSize,j=A.letterSpacing;(D!==h||j!==g)&&(m(D),x(j))}}},[h,g]);return s||n!=null&&n<=0||a!=null&&a<=0?null:S.createElement(si,{zIndex:e.zIndex},S.createElement(na,{className:Gt("recharts-cartesian-axis",i)},S.createElement(Fde,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ni(e)}),S.createElement(Vde,{ref:y,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(Nce,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(Pce,{label:e.label,labelRef:e.labelRef}),e.children)))}),BT=S.forwardRef((e,t)=>{var r=un(e,po);return S.createElement(Hde,nu({},r,{ref:t}))});BT.displayName="CartesianAxis";var Gde=["x1","y1","x2","y2","key"],qde=["offset"],Wde=["xAxisId","yAxisId"],Kde=["xAxisId","yAxisId"];function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){Yde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yde(e,t,r){return(t=Xde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xde(e){var t=Jde(e,"string");return typeof t=="symbol"?t:t+""}function Jde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(null,arguments)}function Bx(e,t){if(e==null)return{};var r,n,a=Zde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qde=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return S.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function MB(e){var{option:t,lineItemProps:r}=e,n;if(S.isValidElement(t))n=S.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:o,y2:u,key:d}=r,h=Bx(r,Gde),m=(a=ni(h))!==null&&a!==void 0?a:{},{offset:g}=m,x=Bx(m,qde);n=S.createElement("line",Ic({},x,{x1:i,y1:s,x2:o,y2:u,fill:"none",key:d}))}return n}function efe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Bx(e,Wde),u=a.map((d,h)=>{var m=Jn(Jn({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(h),index:h});return S.createElement(MB,{key:"line-".concat(h),option:n,lineItemProps:m})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function tfe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Bx(e,Kde),u=a.map((d,h)=>{var m=Jn(Jn({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(h),index:h});return S.createElement(MB,{option:n,lineItemProps:m,key:"line-".concat(h)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function rfe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length||o==null)return null;var d=o.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],b=x?a+s-m:d[g+1]-m;if(b<=0)return null;var y=g%t.length;return S.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function nfe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],b=x?a+s-m:d[g+1]-m;if(b<=0)return null;var y=g%r.length;return S.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:b,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var afe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return xL(FT(Jn(Jn(Jn({},po),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ife=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return xL(FT(Jn(Jn(Jn({},po),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},sfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function um(e){var t=NS(),r=AS(),n=TL(),a=Jn(Jn({},un(e,sfe)),{},{x:Qe(e.x)?e.x:n.left,y:Qe(e.y)?e.y:n.top,width:Qe(e.width)?e.width:n.width,height:Qe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:u,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=Nn(),y=it(R=>VO(R,"xAxis",i,b)),_=it(R=>VO(R,"yAxis",s,b));if(!Cs(d)||!Cs(h)||!Qe(o)||!Qe(u))return null;var N=a.verticalCoordinatesGenerator||afe,k=a.horizontalCoordinatesGenerator||ife,{horizontalPoints:A,verticalPoints:D}=a;if((!A||!A.length)&&typeof k=="function"){var j=g&&g.length,O=k({yAxis:_?Jn(Jn({},_),{},{ticks:j?g:_.ticks}):void 0,width:t??d,height:r??h,offset:n},j?!0:m);fx(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}if((!D||!D.length)&&typeof N=="function"){var I=x&&x.length,M=N({xAxis:y?Jn(Jn({},y),{},{ticks:I?x:y.ticks}):void 0,width:t??d,height:r??h,offset:n},I?!0:m);fx(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(D=M)}return S.createElement(si,{zIndex:a.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Qde,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),S.createElement(rfe,Ic({},a,{horizontalPoints:A})),S.createElement(nfe,Ic({},a,{verticalPoints:D})),S.createElement(efe,Ic({},a,{offset:n,horizontalPoints:A,xAxis:y,yAxis:_})),S.createElement(tfe,Ic({},a,{offset:n,verticalPoints:D,xAxis:y,yAxis:_}))))}um.displayName="CartesianGrid";var ofe={},PB=Ma({name:"errorBars",initialState:ofe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:jOe,replaceErrorBar:ROe,removeErrorBar:OOe}=PB.actions,lfe=PB.reducer,cfe=["children"];function ufe(e,t){if(e==null)return{};var r,n,a=dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ffe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hfe=S.createContext(ffe);function LB(e){var{children:t}=e,r=ufe(e,cfe);return S.createElement(hfe.Provider,{value:r},t)}function cy(e,t){var r,n,a=it(d=>Lo(d,e)),i=it(d=>Fo(d,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:vn.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:yn.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function UT(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ly(),{needClipX:i,needClipY:s,needClip:o}=cy(t,r);if(!o||!a)return null;var{x:u,y:d,width:h,height:m}=a;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:i?u:u-h/2,y:s?d:d-m/2,width:i?h:h*2,height:s?m:m*2}))}var FB=(e,t,r,n)=>js(e,"xAxis",t,n),BB=(e,t,r,n)=>Is(e,"xAxis",t,n),UB=(e,t,r,n)=>js(e,"yAxis",r,n),zB=(e,t,r,n)=>Is(e,"yAxis",r,n),mfe=ke([jt,FB,UB,BB,zB],(e,t,r,n,a)=>Rs(e,"xAxis")?Dl(t,n,!1):Dl(r,a,!1)),pfe=(e,t,r,n,a)=>a;function gfe(e){return e.type==="line"}var xfe=ke([rm,pfe],(e,t)=>e.filter(gfe).find(r=>r.id===t)),vfe=ke([jt,FB,UB,BB,zB,xfe,mfe,eT],(e,t,r,n,a,i,s,o)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u==null?void 0:u.slice(d,h+1),x!=null)return r0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:s,displayedData:x})}});function $B(e){var t=zh(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var R_={exports:{}},O_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function yfe(){if(YD)return O_;YD=1;var e=df();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return O_.useSyncExternalStoreWithSelector=function(u,d,h,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=s(function(){function _(j){if(!N){if(N=!0,k=j,j=m(j),g!==void 0&&b.hasValue){var O=b.value;if(g(O,j))return A=O}return A=j}if(O=A,r(k,j))return O;var I=m(j);return g!==void 0&&g(O,I)?(k=j,O):(k=j,A=I)}var N=!1,k,A,D=h===void 0?null:h;return[function(){return _(d())},D===null?void 0:function(){return _(D())}]},[d,h,m,g]);var y=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),o(y),y},O_}var XD;function bfe(){return XD||(XD=1,R_.exports=yfe()),R_.exports}bfe();function wfe(e){e()}function _fe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wfe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var JD={notify(){},get:()=>[]};function Efe(e,t){let r,n=JD,a=0,i=!1;function s(y){h();const _=n.subscribe(y);let N=!1;return()=>{N||(N=!0,_(),m())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function d(){return i}function h(){a++,r||(r=e.subscribe(u),n=_fe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=JD)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,m())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var Sfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tfe=Sfe(),Nfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Afe=Nfe(),Cfe=()=>Tfe||Afe?S.useLayoutEffect:S.useEffect,kfe=Cfe();function ZD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ife(e,t){if(ZD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!ZD(e[r[a]],t[r[a]]))return!1;return!0}var D_=Symbol.for("react-redux-context"),M_=typeof globalThis<"u"?globalThis:{};function jfe(){if(!S.createContext)return{};const e=M_[D_]??(M_[D_]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var Rfe=jfe();function Ofe(e){const{children:t,context:r,serverState:n,store:a}=e,i=S.useMemo(()=>{const u=Efe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),s=S.useMemo(()=>a.getState(),[a]);kfe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=r||Rfe;return S.createElement(o.Provider,{value:i},t)}var Dfe=Ofe,Mfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Pfe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Mfe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Ife(e[n],t[n]))return!1}else if(!Pfe(e[n],t[n]))return!1;return!0}var Lfe=["id"],Ffe=["type","layout","connectNulls","needClip","shape"],Bfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(null,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){Ufe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ufe(e,t,r){return(t=zfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zfe(e){var t=$fe(e,"string");return typeof t=="symbol"?t:t+""}function $fe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zT(e,t){if(e==null)return{};var r,n,a=Vfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hfe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ff(r,t),payload:e}]},Gfe=S.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:u,tooltipType:d,id:h}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ff(s,t),hide:o,type:d,color:n,unit:u,graphicalItemId:h}};return S.createElement(OT,{tooltipEntrySettings:m})}),VB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qfe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Wfe=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return VB(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>i){o=[...r.slice(0,u),i-d];break}var h=o.length%2===0?[0,s]:[s];return[...qfe(r,a),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function Kfe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:o}=n,u=zT(n,Lfe),d=ni(u);return S.createElement(kB,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:s,clipPathId:t})}function Yfe(e){var{showLabels:t,children:r,points:n}=e,a=S.useMemo(()=>n==null?void 0:n.map(i=>{var s,o,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Es(Es({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return S.createElement(IT,{value:t?a:void 0},r)}function eM(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:u,needClip:d,shape:h}=i,m=zT(i,Ffe),g=Es(Es({},ra(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return S.createElement(S.Fragment,null,(n==null?void 0:n.length)>1&&S.createElement(SB,Eh({shapeType:"curve",option:h},g,{pathRef:r})),S.createElement(Kfe,{points:n,clipPathId:t,props:i}))}function Xfe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Jfe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:b,onAnimationEnd:y,onAnimationStart:_}=r,N=a.current,k=Xh(s,"recharts-line-"),A=S.useRef(k),[D,j]=S.useState(!1),O=!D,I=S.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),M=S.useCallback(()=>{typeof _=="function"&&_(),j(!0)},[_]),R=Xfe(n.current),z=S.useRef(0);A.current!==k&&(z.current=i.current,A.current=k);var q=z.current;return S.createElement(Yfe,{points:s,showLabels:O},r.children,S.createElement(Yh,{animationId:k,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:I,onAnimationStart:M,key:k},F=>{var Y=ar(q,R+q,F),de=Math.min(Y,R),ce;if(u)if(o){var K="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));ce=Wfe(de,R,K)}else ce=VB(R,de);else ce=o==null?void 0:String(o);if(F>0&&R>0&&(a.current=s,i.current=Math.max(i.current,de)),N){var ae=N.length/s.length,Z=F===1?s:s.map((W,ee)=>{var H=Math.floor(ee*ae);if(N[H]){var L=N[H];return Es(Es({},W),{},{x:ar(L.x,W.x,F),y:ar(L.y,W.y,F)})}return g?Es(Es({},W),{},{x:ar(x*2,W.x,F),y:ar(b/2,W.y,F)}):Es(Es({},W),{},{x:W.x,y:W.y})});return a.current=Z,S.createElement(eM,{props:r,points:Z,clipPathId:t,pathRef:n,strokeDasharray:ce})}return S.createElement(eM,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:ce})}),S.createElement(jT,{label:r.label}))}function Zfe(e){var{clipPathId:t,props:r}=e,n=S.useRef(null),a=S.useRef(0),i=S.useRef(null);return S.createElement(Jfe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Qfe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Mr(e.payload,t)}};class e0e extends S.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:u,width:d,height:h,id:m,needClip:g,zIndex:x}=this.props;if(t)return null;var b=Gt("recharts-line",a),y=m,{r:_,strokeWidth:N}=$B(r),k=RT(r),A=_*2+N,D=g?"url(#clipPath-".concat(k?"":"dots-").concat(y,")"):void 0;return S.createElement(si,{zIndex:x},S.createElement(na,{className:b},g&&S.createElement("defs",null,S.createElement(UT,{clipPathId:y,xAxisId:i,yAxisId:s}),!k&&S.createElement("clipPath",{id:"clipPath-dots-".concat(y)},S.createElement("rect",{x:u-A/2,y:o-A/2,width:d+A,height:h+A}))),S.createElement(LB,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Qfe,errorBarOffset:0},S.createElement(Zfe,{props:this.props,clipPathId:y}))),S.createElement(u2,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var HB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line,type:"linear"};function t0e(e){var t=un(e,HB),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:u,hide:d,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:b,id:y}=t,_=zT(t,Bfe),{needClip:N}=cy(x,b),k=ly(),A=$l(),D=Nn(),j=it(z=>vfe(z,x,b,D,y));if(A!=="horizontal"&&A!=="vertical"||j==null||k==null)return null;var{height:O,width:I,x:M,y:R}=k;return S.createElement(e0e,Eh({},_,{id:y,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:h,hide:d,label:m,legendType:g,xAxisId:x,yAxisId:b,points:j,layout:A,height:O,width:I,left:M,top:R,needClip:N}))}function r0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:u}=e;return u.map((d,h)=>{var m=Mr(d,s);if(t==="horizontal"){var g=dx({axis:r,ticks:a,bandSize:o,entry:d,index:h}),x=xr(m)?null:n.scale(m);return{x:g,y:x,value:m,payload:d}}var b=xr(m)?null:r.scale(m),y=dx({axis:n,ticks:i,bandSize:o,entry:d,index:h});return b==null||y==null?null:{x:b,y,value:m,payload:d}}).filter(Boolean)}function n0e(e){var t=un(e,HB),r=Nn();return S.createElement(MT,{id:t.id,type:"line"},n=>S.createElement(S.Fragment,null,S.createElement(DT,{legendPayload:Hfe(t)}),S.createElement(Gfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),S.createElement(PT,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),S.createElement(t0e,Eh({},t,{id:n}))))}var GB=S.memo(n0e,dm);GB.displayName="Line";function Os(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:IB}function Ds(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:IB}var qB=(e,t,r)=>js(e,"xAxis",Os(e,t),r),WB=(e,t,r)=>Is(e,"xAxis",Os(e,t),r),KB=(e,t,r)=>js(e,"yAxis",Ds(e,t),r),YB=(e,t,r)=>Is(e,"yAxis",Ds(e,t),r),a0e=ke([jt,qB,KB,WB,YB],(e,t,r,n,a)=>Rs(e,"xAxis")?Dl(t,n,!1):Dl(r,a,!1)),i0e=(e,t)=>t,XB=ke([rm,i0e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),JB=e=>{var t=jt(e),r=Rs(t,"xAxis");return r?"yAxis":"xAxis"},s0e=(e,t)=>{var r=JB(e);return r==="yAxis"?Ds(e,t):Os(e,t)},o0e=(e,t,r)=>Rx(e,JB(e),s0e(e,t),r),l0e=ke([XB,o0e],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Qv(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=i==null?void 0:i.find(o=>o.key===a);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),c0e=ke([jt,qB,KB,WB,YB,l0e,SF,a0e,XB,kie],(e,t,r,n,a,i,s,o,u,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:x}=u,b;if(x&&x.length>0?b=x:b=h==null?void 0:h.slice(m,g+1),b!=null)return C0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:b,chartBaseValue:d,bandSize:o})}}),u0e=["id"],d0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function ZB(e,t){if(e==null)return{};var r,n,a=f0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){h0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h0e(e,t,r){return(t=m0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0e(e){var t=p0e(e,"string");return typeof t=="symbol"?t:t+""}function p0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ux(e,t){return e&&e!=="none"?e:t}var g0e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:Ux(n,a),value:ff(r,t),payload:e}]},x0e=S.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:u,tooltipType:d,id:h}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ff(s,t),hide:o,type:d,color:Ux(n,i),unit:u,graphicalItemId:h}};return S.createElement(OT,{tooltipEntrySettings:m})});function v0e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n,o=ni(n);return S.createElement(kB,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:a,clipPathId:t})}function y0e(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s,o,u={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Dd(Dd({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(IT,{value:t?a:void 0},r)}function rM(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:o,stroke:u,connectNulls:d,isRange:h}=i,{id:m}=i,g=ZB(i,u0e),x=ni(g),b=ra(g);return S.createElement(S.Fragment,null,(t==null?void 0:t.length)>1&&S.createElement(na,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},S.createElement(H0,$c({},b,{id:m,points:t,connectNulls:d,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(H0,$c({},x,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&S.createElement(H0,$c({},x,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:r}))),S.createElement(v0e,{points:t,props:g,clipPathId:a}))}function b0e(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,o=(t=i[0])===null||t===void 0?void 0:t.y,u=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!ur(o)||!ur(u))return null;var d=n*Math.abs(o-u),h=Math.max(...i.map(m=>m.x||0));return Qe(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(m=>m.x||0),h)),Qe(h)?S.createElement("rect",{x:0,y:o<u?o:o-d,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function w0e(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=e,o=(t=i[0])===null||t===void 0?void 0:t.x,u=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!ur(o)||!ur(u))return null;var d=n*Math.abs(o-u),h=Math.max(...i.map(m=>m.y||0));return Qe(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(m=>m.y||0),h)),Qe(h)?S.createElement("rect",{x:o<u?o:o-d,y:0,width:d,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function _0e(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?S.createElement(b0e,{alpha:t,points:n,baseLine:a,strokeWidth:i}):S.createElement(w0e,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function E0e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:g,onAnimationEnd:x}=n,b=S.useMemo(()=>({points:s,baseLine:o}),[s,o]),y=Xh(b,"recharts-area-"),_=$ee(),[N,k]=S.useState(!1),A=!N,D=S.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),j=S.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);if(_==null)return null;var O=a.current,I=i.current;return S.createElement(y0e,{showLabels:A,points:s},n.children,S.createElement(Yh,{animationId:y,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:D,onAnimationStart:j,key:y},M=>{if(O){var R=O.length/s.length,z=M===1?s:s.map((F,Y)=>{var de=Math.floor(Y*R);if(O[de]){var ce=O[de];return Dd(Dd({},F),{},{x:ar(ce.x,F.x,M),y:ar(ce.y,F.y,M)})}return F}),q;return Qe(o)?q=ar(I,o,M):xr(o)||Mi(o)?q=ar(I,0,M):q=o.map((F,Y)=>{var de=Math.floor(Y*R);if(Array.isArray(I)&&I[de]){var ce=I[de];return Dd(Dd({},F),{},{x:ar(ce.x,F.x,M),y:ar(ce.y,F.y,M)})}return F}),M>0&&(a.current=z,i.current=q),S.createElement(rM,{points:z,baseLine:q,needClip:t,clipPathId:r,props:n})}return M>0&&(a.current=s,i.current=o),S.createElement(na,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(r)},S.createElement(_0e,{alpha:M,points:s,baseLine:o,layout:_,strokeWidth:n.strokeWidth}))),S.createElement(na,{clipPath:"url(#animationClipPath-".concat(r,")")},S.createElement(rM,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),S.createElement(jT,{label:n.label}))}function S0e(e){var{needClip:t,clipPathId:r,props:n}=e,a=S.useRef(null),i=S.useRef();return S.createElement(E0e,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class T0e extends S.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:s,needClip:o,xAxisId:u,yAxisId:d,width:h,height:m,id:g,baseLine:x,zIndex:b}=this.props;if(t)return null;var y=Gt("recharts-area",a),_=g,{r:N,strokeWidth:k}=$B(r),A=RT(r),D=N*2+k,j=o?"url(#clipPath-".concat(A?"":"dots-").concat(_,")"):void 0;return S.createElement(si,{zIndex:b},S.createElement(na,{className:y},o&&S.createElement("defs",null,S.createElement(UT,{clipPathId:_,xAxisId:u,yAxisId:d}),!A&&S.createElement("clipPath",{id:"clipPath-dots-".concat(_)},S.createElement("rect",{x:s-D/2,y:i-D/2,width:h+D,height:m+D}))),S.createElement(S0e,{needClip:o,clipPathId:_,props:this.props})),S.createElement(u2,{points:n,mainColor:Ux(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(x)&&S.createElement(u2,{points:x,mainColor:Ux(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var QB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:on.area};function N0e(e){var t,r=un(e,QB),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:u,fill:d,fillOpacity:h,hide:m,isAnimationActive:g,legendType:x,stroke:b,xAxisId:y,yAxisId:_}=r,N=ZB(r,d0e),k=$l(),A=Q8(),{needClip:D}=cy(y,_),j=Nn(),{points:O,isRange:I,baseLine:M}=(t=it(de=>c0e(de,e.id,j)))!==null&&t!==void 0?t:{},R=ly();if(k!=="horizontal"&&k!=="vertical"||R==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:z,width:q,x:F,y:Y}=R;return!O||!O.length?null:S.createElement(T0e,$c({},N,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:M,connectNulls:o,dot:u,fill:d,fillOpacity:h,height:z,hide:m,layout:k,isAnimationActive:g==="auto"?!Kh.isSsr:g,isRange:I,legendType:x,needClip:D,points:O,stroke:b,width:q,left:F,top:Y,xAxisId:y,yAxisId:_}))}var A0e=(e,t,r,n,a)=>{var i=r??t;if(Qe(i))return i;var s=e==="horizontal"?a:n,o=s.scale.domain();if(s.type==="number"){var u=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function C0e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:o,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:g,bandSize:x}=e,b=a&&a.length,y=A0e(i,s,r,o,u),_=i==="horizontal",N=!1,k=d.map((D,j)=>{var O,I,M;if(b)M=a[h+j];else{var R=Mr(D,n);Array.isArray(R)?(M=R,N=!0):M=[y,R]}var z=(O=(I=M)===null||I===void 0?void 0:I[1])!==null&&O!==void 0?O:null,q=z==null||b&&!t&&Mr(D,n)==null;return _?{x:dx({axis:o,ticks:m,bandSize:x,entry:D,index:j}),y:q?null:u.scale(z),value:M,payload:D}:{x:q?null:o.scale(z),y:dx({axis:u,ticks:g,bandSize:x,entry:D,index:j}),value:M,payload:D}}),A;return b||N?A=k.map(D=>{var j=Array.isArray(D.value)?D.value[0]:null;return _?{x:D.x,y:j!=null&&D.y!=null?u.scale(j):null,payload:D.payload}:{x:j!=null?o.scale(j):null,y:D.y,payload:D.payload}}):A=_?u.scale(y):o.scale(y),{points:k,baseLine:A,isRange:N}}function k0e(e){var t=un(e,QB),r=Nn();return S.createElement(MT,{id:t.id,type:"area"},n=>S.createElement(S.Fragment,null,S.createElement(DT,{legendPayload:g0e(t)}),S.createElement(x0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),S.createElement(PT,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:yL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),S.createElement(N0e,$c({},t,{id:n}))))}var eU=S.memo(k0e,dm);eU.displayName="Area";var I0e="Invariant failed";function j0e(e,t){throw new Error(I0e)}function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2.apply(null,arguments)}function zx(e){return S.createElement(SB,d2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var R0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Qe(t))return t;var i=Qe(n)||xr(n);return i?t(n,a):(i||j0e(),r)}},O0e=(e,t,r)=>r,D0e=(e,t)=>t,fm=ke([rm,D0e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),M0e=ke([fm],e=>e==null?void 0:e.maxBarSize),P0e=(e,t,r,n)=>n,L0e=ke([jt,rm,Os,Ds,O0e],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),F0e=(e,t,r)=>{var n=jt(e),a=Os(e,t),i=Ds(e,t);if(!(a==null||i==null))return n==="horizontal"?Rx(e,"yAxis",i,r):Rx(e,"xAxis",a,r)},B0e=(e,t)=>{var r=jt(e),n=Os(e,t),a=Ds(e,t);if(!(n==null||a==null))return r==="horizontal"?$O(e,"xAxis",n):$O(e,"yAxis",a)},U0e=ke([L0e,Cie,B0e],rde),z0e=(e,t,r)=>{var n,a,i=fm(e,t);if(i!=null){var s=Os(e,t),o=Ds(e,t);if(!(s==null||o==null)){var u=jt(e),d=BF(e),{maxBarSize:h}=i,m=xr(h)?d:h,g,x;return u==="horizontal"?(g=js(e,"xAxis",s,r),x=Is(e,"xAxis",s,r)):(g=js(e,"yAxis",o,r),x=Is(e,"yAxis",o,r)),(n=(a=Dl(g,x,!0))!==null&&a!==void 0?a:m)!==null&&n!==void 0?n:0}}},tU=(e,t,r)=>{var n=jt(e),a=Os(e,t),i=Ds(e,t);if(!(a==null||i==null)){var s,o;return n==="horizontal"?(s=js(e,"xAxis",a,r),o=Is(e,"xAxis",a,r)):(s=js(e,"yAxis",i,r),o=Is(e,"yAxis",i,r)),Dl(s,o)}},$0e=ke([U0e,BF,Aie,UF,z0e,tU,M0e],ode),V0e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return js(e,"xAxis",n,r)},H0e=(e,t,r)=>{var n=Ds(e,t);if(n!=null)return js(e,"yAxis",n,r)},G0e=(e,t,r)=>{var n=Os(e,t);if(n!=null)return Is(e,"xAxis",n,r)},q0e=(e,t,r)=>{var n=Ds(e,t);if(n!=null)return Is(e,"yAxis",n,r)},W0e=ke([$0e,fm],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),K0e=ke([F0e,fm],lde),Y0e=ke([Tn,SS,V0e,H0e,G0e,q0e,W0e,jt,SF,tU,K0e,fm,P0e],(e,t,r,n,a,i,s,o,u,d,h,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:y}=u;if(!(m==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:_}=m,N;if(_!=null&&_.length>0?N=_:N=x==null?void 0:x.slice(b,y+1),N!=null)return She({layout:o,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g,dataStartIndex:b})}}),X0e=["index"];function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(null,arguments)}function J0e(e,t){if(e==null)return{};var r,n,a=Z0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rU=S.createContext(void 0),Q0e=e=>{var t=S.useContext(rU);if(t!=null)return t.stackId;if(e!=null)return yL(e)},ehe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),the=e=>{var t=S.useContext(rU);if(t!=null){var{stackId:r}=t;return"url(#".concat(ehe(r,e),")")}},rhe=e=>{var{index:t}=e,r=J0e(e,X0e),n=the(t);return S.createElement(na,f2({className:"recharts-bar-stack-layer",clipPath:n},r))},nhe=["onMouseEnter","onMouseLeave","onClick"],ahe=["value","background","tooltipPosition"],ihe=["id"],she=["onMouseEnter","onClick","onMouseLeave"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){ohe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ohe(e,t,r){return(t=lhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lhe(e){var t=che(e,"string");return typeof t=="symbol"?t:t+""}function che(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $x(e,t){if(e==null)return{};var r,n,a=uhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dhe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ff(r,t),payload:e}]},fhe=S.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o,tooltipType:u,id:d}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ff(i,t),hide:s,type:u,color:a,unit:o,graphicalItemId:d}};return S.createElement(OT,{tooltipEntrySettings:h})});function hhe(e){var t=it(ru),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:u}=i,d=$x(i,nhe),h=TB(s,n,i.id),m=NB(o),g=AB(u,n,i.id);if(!a||r==null)return null;var x=zh(a);return S.createElement(si,{zIndex:cde(a,on.barBackground)},r.map((b,y)=>{var{value:_,background:N,tooltipPosition:k}=b,A=$x(b,ahe);if(!N)return null;var D=h(b,y),j=m(b,y),O=g(b,y),I=ua(ua(ua(ua(ua({option:a,isActive:String(y)===t},A),{},{fill:"#eee"},N),x),_v(d,b,y)),{},{onMouseEnter:D,onMouseLeave:j,onClick:O,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return S.createElement(zx,Co({key:"background-bar-".concat(y)},I))}))}function mhe(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ua(ua({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return S.createElement(IT,{value:t?a:void 0},r)}function phe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=it(ru),u=it(X8),d=r&&String(i)===o&&(u==null||s===u),h=d?r:t;return d?S.createElement(si,{zIndex:on.activeBar},S.createElement(zx,Co({},n,{name:String(n.name)},a,{isActive:d,option:h,index:i,dataKey:s}))):S.createElement(zx,Co({},n,{name:String(n.name)},a,{isActive:d,option:h,index:i,dataKey:s}))}function ghe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return S.createElement(zx,Co({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function xhe(e){var t,{data:r,props:n}=e,a=(t=ni(n))!==null&&t!==void 0?t:{},{id:i}=a,s=$x(a,ihe),{shape:o,dataKey:u,activeBar:d}=n,{onMouseEnter:h,onClick:m,onMouseLeave:g}=n,x=$x(n,she),b=TB(h,u,i),y=NB(g),_=AB(m,u,i);return r?S.createElement(S.Fragment,null,r.map((N,k)=>S.createElement(rhe,Co({index:k,key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(k),className:"recharts-bar-rectangle"},_v(x,N,k),{onMouseEnter:b(N,k),onMouseLeave:y(N,k),onClick:_(N,k)}),d?S.createElement(phe,{shape:o,activeBar:d,baseProps:s,entry:N,index:k,dataKey:u}):S.createElement(ghe,{shape:o,baseProps:s,entry:N,index:k,dataKey:u})))):null}function vhe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=t,m=r.current,g=Xh(t,"recharts-bar-"),[x,b]=S.useState(!1),y=!x,_=S.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),N=S.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return S.createElement(mhe,{showLabels:y,rects:n},S.createElement(Yh,{animationId:g,begin:s,duration:o,isActive:i,easing:u,onAnimationEnd:_,onAnimationStart:N,key:g},k=>{var A=k===1?n:n==null?void 0:n.map((D,j)=>{var O=m&&m[j];if(O)return ua(ua({},D),{},{x:ar(O.x,D.x,k),y:ar(O.y,D.y,k),width:ar(O.width,D.width,k),height:ar(O.height,D.height,k)});if(a==="horizontal"){var I=ar(0,D.height,k),M=ar(D.stackedBarStart,D.y,k);return ua(ua({},D),{},{y:M,height:I})}var R=ar(0,D.width,k),z=ar(D.stackedBarStart,D.x,k);return ua(ua({},D),{},{width:R,x:z})});return k>0&&(r.current=A??null),A==null?null:S.createElement(na,null,S.createElement(xhe,{props:t,data:A}))}),S.createElement(jT,{label:t.label}),t.children)}function yhe(e){var t=S.useRef(null);return S.createElement(vhe,{previousRectanglesRef:t,props:e})}var nU=0,bhe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Mr(e,t)}};class whe extends S.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:u,id:d}=this.props;if(t||r==null)return null;var h=Gt("recharts-bar",a),m=d;return S.createElement(na,{className:h,id:d},o&&S.createElement("defs",null,S.createElement(UT,{clipPathId:m,xAxisId:i,yAxisId:s})),S.createElement(na,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},S.createElement(hhe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),S.createElement(yhe,this.props)))}}var _he={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nU,xAxisId:0,yAxisId:0,zIndex:on.bar};function Ehe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=cy(t,r),g=$l(),x=Nn(),b=eue(e.children,lB),y=it(k=>Y0e(k,e.id,x,b));if(g!=="vertical"&&g!=="horizontal")return null;var _,N=y==null?void 0:y[0];return N==null||N.height==null||N.width==null?_=0:_=g==="vertical"?N.height/2:N.width/2,S.createElement(LB,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:bhe,errorBarOffset:_},S.createElement(whe,Co({},e,{layout:g,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function She(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:u,yAxisTicks:d,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:b,dataStartIndex:y}=e,_=t==="horizontal"?o:s,N=h?_.scale.domain():null,k=aee({numericAxis:_}),A=_.scale(k);return m.map((D,j)=>{var O,I,M,R,z,q;if(h){var F=h[j+y];if(F==null)return null;O=QQ(F,N)}else O=Mr(D,r),Array.isArray(O)||(O=[k,O]);var Y=R0e(n,nU)(O[1],j);if(t==="horizontal"){var de,[ce,K]=[o.scale(O[0]),o.scale(O[1])];I=qR({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:D,index:j}),M=(de=K??ce)!==null&&de!==void 0?de:void 0,R=a.size;var ae=ce-K;if(z=Mi(ae)?0:ae,q={x:I,y:g.top,width:R,height:g.height},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var Z=ja(z||Y)*(Math.abs(Y)-Math.abs(z));M-=Z,z+=Z}}else{var[W,ee]=[s.scale(O[0]),s.scale(O[1])];if(I=W,M=qR({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:D,index:j}),R=ee-W,z=a.size,q={x:g.left,y:M,width:g.width,height:z},Math.abs(Y)>0&&Math.abs(R)<Math.abs(Y)){var H=ja(R||Y)*(Math.abs(Y)-Math.abs(R));R+=H}}if(I==null||M==null||R==null||z==null)return null;var L=ua(ua({},D),{},{stackedBarStart:A,x:I,y:M,width:R,height:z,value:h?O:O[1],payload:D,background:q,tooltipPosition:{x:I+R/2,y:M+z/2},parentViewBox:b},x&&x[j]&&x[j].props);return L}).filter(Boolean)}function The(e){var t=un(e,_he),r=Q0e(t.stackId),n=Nn();return S.createElement(MT,{id:t.id,type:"bar"},a=>S.createElement(S.Fragment,null,S.createElement(DT,{legendPayload:dhe(t)}),S.createElement(fhe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),S.createElement(PT,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),S.createElement(si,{zIndex:t.zIndex},S.createElement(Ehe,Co({},t,{id:a})))))}var Pl=S.memo(The,dm);Pl.displayName="Bar";var Nhe=["domain","range"],Ahe=["domain","range"];function aM(e,t){if(e==null)return{};var r,n,a=Che(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Che(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function aU(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=aM(e,Nhe),{domain:i,range:s}=t,o=aM(t,Ahe);return!iM(r,i)||!iM(n,s)?!1:dm(a,o)}var khe=["dangerouslySetInnerHTML","ticks","scale"],Ihe=["id","scale"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h2.apply(null,arguments)}function sM(e,t){if(e==null)return{};var r,n,a=jhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rhe(e){var t=Cr(),r=S.useRef(null);return S.useLayoutEffect(()=>{r.current===null?t(zue(e)):r.current!==e&&t($ue({prev:r.current,next:e})),r.current=e},[e,t]),S.useLayoutEffect(()=>()=>{r.current&&(t(Vue(r.current)),r.current=null)},[t]),null}var Ohe=e=>{var{xAxisId:t,className:r}=e,n=it(SS),a=Nn(),i="xAxis",s=it(N=>I8(N,i,t,a)),o=it(N=>N8(N,t)),u=it(N=>Nse(N,t)),d=it(N=>YF(N,t));if(o==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:g}=e,x=sM(e,khe),{id:b,scale:y}=d,_=sM(d,Ihe);return S.createElement(BT,h2({},x,_,{x:u.x,y:u.y,width:o.width,height:o.height,className:Gt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:s,axisType:i}))},Dhe={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:po.axisLine,height:vn.height,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:vn.type,xAxisId:0},Mhe=e=>{var t=un(e,Dhe);return S.createElement(S.Fragment,null,S.createElement(Rhe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(Ohe,t))},hm=S.memo(Mhe,aU);hm.displayName="XAxis";var Phe=["dangerouslySetInnerHTML","ticks","scale"],Lhe=["id","scale"];function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}function oM(e,t){if(e==null)return{};var r,n,a=Fhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bhe(e){var t=Cr(),r=S.useRef(null);return S.useLayoutEffect(()=>{r.current===null?t(Hue(e)):r.current!==e&&t(Gue({prev:r.current,next:e})),r.current=e},[e,t]),S.useLayoutEffect(()=>()=>{r.current&&(t(que(r.current)),r.current=null)},[t]),null}var Uhe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=S.useRef(null),s=S.useRef(null),o=it(SS),u=Nn(),d=Cr(),h="yAxis",m=it(O=>A8(O,t)),g=it(O=>Cse(O,t)),x=it(O=>I8(O,h,t,u)),b=it(O=>XF(O,t));if(S.useLayoutEffect(()=>{if(!(n!=="auto"||!m||kT(a)||S.isValidElement(a)||b==null)){var O=i.current;if(O){var I=O.getCalculatedWidth();Math.round(m.width)!==Math.round(I)&&d(Wue({id:t,width:I}))}}},[x,m,d,a,t,n,b]),m==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:_,scale:N}=e,k=oM(e,Phe),{id:A,scale:D}=b,j=oM(b,Lhe);return S.createElement(BT,m2({},k,j,{ref:i,labelRef:s,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Gt("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:x,axisType:h}))},zhe={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,angle:yn.angle,axisLine:po.axisLine,hide:!1,includeHidden:yn.includeHidden,interval:yn.interval,minTickGap:yn.minTickGap,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:yn.type,width:yn.width,yAxisId:0},$he=e=>{var t=un(e,zhe);return S.createElement(S.Fragment,null,S.createElement(Bhe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(Uhe,t))},mm=S.memo($he,aU);mm.displayName="YAxis";var Vhe=(e,t)=>t,$T=ke([Vhe,jt,WF,hn,q8,Bo,$oe,Tn],Yoe),VT=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iU=Pi("mouseClick"),sU=Gh();sU.startListening({actionCreator:iU,effect:(e,t)=>{var r=e.payload,n=$T(t.getState(),VT(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch($se({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var p2=Pi("mouseMove"),oU=Gh(),ag=null;oU.startListening({actionCreator:p2,effect:(e,t)=>{var r=e.payload;ag!==null&&cancelAnimationFrame(ag);var n=VT(r);ag=requestAnimationFrame(()=>{var a=t.getState(),i=vT(a,a.tooltip.settings.shared);if(i==="axis"){var s=$T(a,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(F8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(L8())}ag=null})}});function Hhe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var lM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},lU=Ma({name:"rootProps",initialState:lM,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Ghe=lU.reducer,{updateOptions:qhe}=lU.actions,cU=Ma({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:DOe}=cU.actions,Whe=cU.reducer,uU=Pi("keyDown"),dU=Pi("focus"),HT=Gh();HT.startListening({actionCreator:uU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=yT(a,bf(r),am(r),lm(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=Bo(r);if(i==="Enter"){var d=Dx(r,"axis","hover",String(a.index));t.dispatch(a2({active:!a.active,activeIndex:a.index,activeCoordinate:d}));return}var h=Rse(r),m=h==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,x=o+g*m;if(!(u==null||x>=u.length||x<0)){var b=Dx(r,"axis","hover",String(x));t.dispatch(a2({active:!0,activeIndex:x.toString(),activeCoordinate:b}))}}}}}});HT.startListening({actionCreator:dU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Dx(r,"axis","hover",String(i));t.dispatch(a2({active:!0,activeIndex:i,activeCoordinate:s}))}}}});var _i=Pi("externalEvent"),fU=Gh(),P_=new Map;fU.startListening({actionCreator:_i,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=P_.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var o=t.getState(),u={activeCoordinate:Aoe(o),activeDataKey:X8(o),activeIndex:ru(o),activeLabel:Y8(o),activeTooltipIndex:ru(o),isTooltipActive:Coe(o)};r(u,n)}finally{P_.delete(a)}});P_.set(a,s)}}});var Khe=ke([vf],e=>e.tooltipItemPayloads),Yhe=ke([Khe,om,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),hU=Pi("touchMove"),mU=Gh();mU.startListening({actionCreator:hU,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=vT(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var s=$T(n,VT({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(F8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var o,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(dee),m=(o=d.getAttribute(fee))!==null&&o!==void 0?o:void 0,g=yf(n).find(y=>y.id===m);if(h==null||g==null||m==null)return;var{dataKey:x}=g,b=Yhe(n,h,m);t.dispatch(P8({activeDataKey:x,activeIndex:h,activeCoordinate:b,activeGraphicalItemId:m}))}}}});var Xhe=$6({brush:dde,cartesianAxis:Kue,chartData:Nle,errorBars:lfe,graphicalItems:Aue,layout:WQ,legend:ste,options:wle,polarAxis:Xce,polarOptions:Whe,referenceElements:vde,rootProps:Ghe,tooltip:Vse,zIndex:cle}),Jhe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vQ({reducer:Xhe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([sU.middleware,oU.middleware,HT.middleware,fU.middleware,mU.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(nL({type:"raf"}))},devTools:{serialize:{replacer:Hhe},name:"recharts-".concat(r)}})};function Zhe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Nn(),i=S.useRef(null);if(a)return r;i.current==null&&(i.current=Jhe(t,n));var s=xS;return S.createElement(Dfe,{context:s,store:i.current},r)}function Qhe(e){var{layout:t,margin:r}=e,n=Cr(),a=Nn();return S.useEffect(()=>{a||(n(HQ(t)),n(VQ(r)))},[n,a,t,r]),null}var eme=S.memo(Qhe,dm);function tme(e){var t=Cr();return S.useEffect(()=>{t(qhe(e))},[t,e]),null}function cM(e){var{zIndex:t,isPanorama:r}=e,n=S.useRef(null),a=Cr();return S.useLayoutEffect(()=>(n.current&&a(ole({zIndex:t,element:n.current,isPanorama:r})),()=>{a(lle({zIndex:t,isPanorama:r}))}),[a,t,r]),S.createElement("g",{tabIndex:-1,ref:n})}function uM(e){var{children:t,isPanorama:r}=e,n=it(Joe);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return S.createElement(S.Fragment,null,a.map(s=>S.createElement(cM,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>S.createElement(cM,{key:s,zIndex:s,isPanorama:r})))}var rme=["children"];function nme(e,t){if(e==null)return{};var r,n,a=ame(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ame(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}var ime={width:"100%",height:"100%",display:"block"},sme=S.forwardRef((e,t)=>{var r=NS(),n=AS(),a=OL();if(!Cs(r)||!Cs(n))return null;var{children:i,otherAttributes:s,title:o,desc:u}=e,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=a?0:void 0,typeof s.role=="string"?h=s.role:h=a?"application":void 0),S.createElement(sS,Vx({},s,{title:o,desc:u,role:h,tabIndex:d,width:r,height:n,style:ime,ref:t}),i)}),ome=e=>{var{children:t}=e,r=it(Pv);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return S.createElement(sS,{width:n,height:a,x:s,y:i},t)},dM=S.forwardRef((e,t)=>{var{children:r}=e,n=nme(e,rme),a=Nn();return a?S.createElement(ome,null,S.createElement(uM,{isPanorama:!0},r)):S.createElement(sme,Vx({ref:t},n),S.createElement(uM,{isPanorama:!1},r))});function lme(){var e=Cr(),[t,r]=S.useState(null),n=it(uee);return S.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ur(i)&&i!==n&&e(qQ(i))}},[t,e,n]),r}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){ume(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ume(e,t,r){return(t=dme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dme(e){var t=fme(e,"string");return typeof t=="symbol"?t:t+""}function fme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},au.apply(null,arguments)}var hme=()=>(Mle(),null);function Hx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mme=S.forwardRef((e,t)=>{var r,n,a=S.useRef(null),[i,s]=S.useState({containerWidth:Hx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Hx((n=e.style)===null||n===void 0?void 0:n.height)}),o=S.useCallback((d,h)=>{s(m=>{var g=Math.round(d),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=S.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();o(h,m);var g=b=>{var{width:y,height:_}=b[0].contentRect;o(y,_)},x=new ResizeObserver(g);x.observe(d),a.current=x}},[t,o]);return S.useEffect(()=>()=>{var d=a.current;d!=null&&d.disconnect()},[o]),S.createElement(S.Fragment,null,S.createElement(Bv,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",au({ref:u},e)))}),pme=S.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=S.useState({containerWidth:Hx(r),containerHeight:Hx(n)}),s=S.useCallback((u,d)=>{i(h=>{var m=Math.round(u),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),o=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();s(d,h)}},[t,s]);return S.createElement(S.Fragment,null,S.createElement(Bv,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",au({ref:o},e)))}),gme=S.forwardRef((e,t)=>{var{width:r,height:n}=e;return S.createElement(S.Fragment,null,S.createElement(Bv,{width:r,height:n}),S.createElement("div",au({ref:t},e)))}),xme=S.forwardRef((e,t)=>{var{width:r,height:n}=e;return _o(r)||_o(n)?S.createElement(pme,au({},e,{ref:t})):S.createElement(gme,au({},e,{ref:t}))});function vme(e){return e===!0?mme:xme}var yme=S.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:y,style:_,width:N,responsive:k,dispatchTouchEvents:A=!0}=e,D=S.useRef(null),j=Cr(),[O,I]=S.useState(null),[M,R]=S.useState(null),z=lme(),q=TS(),F=(q==null?void 0:q.width)>0?q.width:N,Y=(q==null?void 0:q.height)>0?q.height:a,de=S.useCallback(te=>{z(te),typeof t=="function"&&t(te),I(te),R(te),te!=null&&(D.current=te)},[z,t,I,R]),ce=S.useCallback(te=>{j(iU(te)),j(_i({handler:i,reactEvent:te}))},[j,i]),K=S.useCallback(te=>{j(p2(te)),j(_i({handler:d,reactEvent:te}))},[j,d]),ae=S.useCallback(te=>{j(L8()),j(_i({handler:h,reactEvent:te}))},[j,h]),Z=S.useCallback(te=>{j(p2(te)),j(_i({handler:m,reactEvent:te}))},[j,m]),W=S.useCallback(()=>{j(dU())},[j]),ee=S.useCallback(te=>{j(uU(te.key))},[j]),H=S.useCallback(te=>{j(_i({handler:s,reactEvent:te}))},[j,s]),L=S.useCallback(te=>{j(_i({handler:o,reactEvent:te}))},[j,o]),J=S.useCallback(te=>{j(_i({handler:u,reactEvent:te}))},[j,u]),U=S.useCallback(te=>{j(_i({handler:g,reactEvent:te}))},[j,g]),B=S.useCallback(te=>{j(_i({handler:y,reactEvent:te}))},[j,y]),se=S.useCallback(te=>{A&&j(hU(te)),j(_i({handler:b,reactEvent:te}))},[j,A,b]),fe=S.useCallback(te=>{j(_i({handler:x,reactEvent:te}))},[j,x]),Te=vme(k);return S.createElement(aB.Provider,{value:O},S.createElement(a6.Provider,{value:M},S.createElement(Te,{width:F??(_==null?void 0:_.width),height:Y??(_==null?void 0:_.height),className:Gt("recharts-wrapper",n),style:cme({position:"relative",cursor:"default",width:F,height:Y},_),onClick:ce,onContextMenu:H,onDoubleClick:L,onFocus:W,onKeyDown:ee,onMouseDown:J,onMouseEnter:K,onMouseLeave:ae,onMouseMove:Z,onMouseUp:U,onTouchEnd:fe,onTouchMove:se,onTouchStart:B,ref:de},S.createElement(hme,null),r)))}),bme=["width","height","responsive","children","className","style","compact","title","desc"];function wme(e,t){if(e==null)return{};var r,n,a=_me(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _me(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eme=S.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:u,title:d,desc:h}=e,m=wme(e,bme),g=ni(m);return u?S.createElement(S.Fragment,null,S.createElement(Bv,{width:r,height:n}),S.createElement(dM,{otherAttributes:g,title:d,desc:h},i)):S.createElement(yme,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(dM,{otherAttributes:g,title:d,desc:h,ref:t},S.createElement(bde,null,i)))});function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g2.apply(null,arguments)}var Sme={top:5,right:5,bottom:5,left:5},Tme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Sme,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pU=S.forwardRef(function(t,r){var n,a=un(t.categoricalChartProps,Tme),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(Zhe,{preloadedState:{options:h},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:i},S.createElement(ude,{chartData:d.data}),S.createElement(eme,{layout:a.layout,margin:a.margin}),S.createElement(tme,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),S.createElement(Eme,g2({},a,{ref:r})))}),Nme=["axis","item"],gU=S.forwardRef((e,t)=>S.createElement(pU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:iB,categoricalChartProps:e,ref:t})),Ame=["axis"],xU=S.forwardRef((e,t)=>S.createElement(pU,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ame,tooltipPayloadSearcher:iB,categoricalChartProps:e,ref:t}));const Cme=({currentUser:e,onRefresh:t,currentView:r,onSelectCompany:n})=>{const a=Nl.length,i=Nl.filter(b=>b.active).length,s=Nl.filter(b=>b.plan===an.PREMIUM).length,o=b=>{e&&(cW(b,e),t())},u=b=>{e&&(uW(b),t())},d=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-full",children:l.jsx(Xc,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Empresas"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a})]})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-full",children:l.jsx(Wc,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ativas"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i})]})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-full",children:l.jsx(sh,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Plano Premium"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s})]})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-full",children:l.jsx(Di,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Bloqueadas"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a-i})]})]})})]}),h=()=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:"Gerenciamento de Empresas"}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:"Admin Mode"})]}),l.jsx("div",{className:"p-0 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Empresa"}),l.jsx("th",{className:"px-6 py-3",children:"Plano"}),l.jsx("th",{className:"px-6 py-3",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),l.jsx("tbody",{children:Nl.map(b=>l.jsxs("tr",{className:"border-b border-gray-100 last:border-0 hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:[b.name,l.jsx("div",{className:"text-xs text-gray-400 font-normal",children:b.cnpj})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("button",{onClick:()=>u(b.id),title:"Alternar Plano",className:`px-2 py-1 text-xs rounded-md border flex items-center gap-1 hover:shadow-sm transition-all ${b.plan===an.PREMIUM?"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-200":"bg-gray-100 text-gray-700 border-gray-200 hover:bg-gray-200"}`,children:[b.plan,l.jsx(aS,{size:10})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("span",{className:`flex items-center gap-1.5 text-xs font-semibold ${b.active?"text-green-600":"text-red-600"}`,children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${b.active?"bg-green-600":"bg-red-600"}`}),b.active?"Ativa":"Inativa"]})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsxs("button",{onClick:()=>n(b.id),className:"flex items-center gap-1 font-medium text-xs px-3 py-1.5 rounded-md transition-colors bg-indigo-50 text-indigo-700 hover:bg-indigo-100",title:"Entrar como Admin",children:[l.jsx(CY,{size:12})," Acessar"]}),l.jsx("button",{onClick:()=>o(b.id),className:`font-medium text-xs px-3 py-1.5 rounded-md transition-colors ${b.active?"text-red-600 bg-red-50 hover:bg-red-100":"text-green-600 bg-green-50 hover:bg-green-100"}`,children:b.active?"Bloquear":"Ativar"})]})})]},b.id))})]})})]}),m=()=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:"Logs de Auditoria (BPOs & Admin)"}),l.jsx("span",{className:"text-xs text-gray-400",children:"Tempo Real"})]}),l.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[mE.map(b=>l.jsxs("div",{className:"p-4 flex gap-4 hover:bg-gray-50",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-600",children:b.userName.charAt(0)})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.action}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Por ",l.jsx("span",{className:"font-semibold",children:b.userName})," em ",b.timestamp]})]})]},b.id)),mE.length===0&&l.jsx("div",{className:"p-6 text-center text-gray-500",children:"Nenhum log registrado."})]})]}),g=(b,y)=>l.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-center bg-white rounded-xl border border-gray-200 border-dashed",children:[l.jsx("div",{className:"bg-gray-50 p-6 rounded-full mb-4",children:y}),l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:b}),l.jsx("p",{className:"text-gray-500 max-w-md",children:"Mdulo em desenvolvimento. Em breve disponvel no painel de suporte."})]}),x=()=>{const b=[{name:"Jan",active:20,new:5},{name:"Fev",active:24,new:4},{name:"Mar",active:28,new:6},{name:"Abr",active:35,new:8},{name:"Mai",active:40,new:7}];return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Crescimento de Empresas"}),l.jsx("div",{className:"h-80",children:l.jsx(Lv,{width:"100%",height:"100%",children:l.jsxs(gU,{data:b,children:[l.jsx(um,{strokeDasharray:"3 3",vertical:!1}),l.jsx(hm,{dataKey:"name"}),l.jsx(mm,{}),l.jsx(oy,{}),l.jsx(Pl,{dataKey:"active",name:"Empresas Ativas",fill:"#4f46e5",radius:[4,4,0,0]}),l.jsx(Pl,{dataKey:"new",name:"Novas Empresas",fill:"#10b981",radius:[4,4,0,0]})]})})})]})})};switch(r){case"global_view":return l.jsxs("div",{className:"space-y-8",children:[d(),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h(),m()]})]});case"dashboard":return x();case"admin_users":return g("Gesto de Usurios do Sistema",l.jsx(Xc,{size:48,className:"text-indigo-400"}));case"companies":return h();case"plans":return e?l.jsx(OX,{currentUser:e,onRefresh:t}):null;case"audit":return m();case"settings":case"configuracao":return g("Configuraes Globais do SaaS",l.jsx($K,{size:48,className:"text-gray-400"}));default:return d()}},kme=({companyName:e,onBack:t})=>l.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-gray-50 p-6",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 text-center border-t-4 border-red-500",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ki,{size:40,className:"text-red-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Suspenso"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["A empresa ",l.jsx("strong",{className:"text-gray-900",children:e})," est temporariamente inativa.",l.jsx("br",{}),"Todas as operaes financeiras e visualizaes de dados foram bloqueadas pelo administrador."]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-8 text-left flex gap-3",children:[l.jsx(Di,{className:"text-orange-500 flex-shrink-0",size:20}),l.jsx("p",{className:"text-sm text-orange-800",children:"Se voc acredita que isso  um erro ou precisa regularizar a conta, entre em contato com o suporte ou com o administrador do sistema."})]}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[t&&l.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Voltar para Seleo"}),l.jsxs("button",{className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[l.jsx(Y5,{size:18}),"Contatar Suporte"]})]})]})}),Ime=({currentUser:e,onNavigate:t})=>{const[r,n]=S.useState([]),[a,i]=S.useState([]),[s,o]=S.useState(!0);S.useEffect(()=>{u()},[e]);const u=async()=>{o(!0);const b=await ka.fetchCompanies();if(b){n(b);const y=b.map(_=>_.id);if(y.length>0){const _=await Or.fetchGlobalTasks(y);i(_)}}o(!1)},d=r.length,h=r.map(b=>{const y=a.filter(A=>A.linkedCompanyId===b.id),_=y.filter(A=>A.status!=="DONE"&&A.dueDate&&new Date(A.dueDate)<new Date),N=y.filter(A=>A.status!=="DONE");let k="OK";return _.length>2?k="CRITICAL":_.length>0&&(k="WARNING"),{...b,balance:0,pendingPayables:0,overdueCount:_.length,pendingCount:N.length,status:k}}),m=h.filter(b=>b.status==="CRITICAL").length,g=h.filter(b=>b.status==="WARNING").length,x=h.filter(b=>b.status==="OK"&&b.active).length;return h.map(b=>({name:b.name.substring(0,10)+"...",balance:b.balance})),s?l.jsx("div",{className:"flex justify-center items-center h-96",children:l.jsx(Ia,{className:"animate-spin text-indigo-600",size:48})}):l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Viso Geral da Carteira"}),l.jsx("p",{className:"text-gray-500",children:"Acompanhamento consolidado de todos os seus clientes."})]}),l.jsx("button",{onClick:u,className:"text-indigo-600 font-bold text-sm hover:underline",children:"Atualizar"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg",children:l.jsx(da,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Clientes"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:l.jsx(Di,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Crticos (Tarefas)"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:l.jsx(Jd,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ateno"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:l.jsx(Vn,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Em Dia"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-80 flex items-center justify-center text-gray-400 flex-col",children:[l.jsx(ts,{size:48,className:"mb-4 opacity-20"}),l.jsx("p",{children:"Grfico Financeiro Consolidado"}),l.jsx("span",{className:"text-xs",children:"Disponvel em breve"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"Alertas Operacionais"}),l.jsx("button",{onClick:()=>t("tasks"),className:"text-indigo-600 text-xs font-bold hover:underline",children:"Ver Tarefas"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-3",children:[h.filter(b=>b.status!=="OK").map(b=>l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[b.status==="CRITICAL"?l.jsx("div",{className:"p-1.5 bg-red-100 text-red-600 rounded",children:l.jsx(Di,{size:16})}):l.jsx("div",{className:"p-1.5 bg-yellow-100 text-yellow-600 rounded",children:l.jsx(Jd,{size:16})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-900",children:b.name}),l.jsx("p",{className:"text-xs text-gray-500",children:b.status==="CRITICAL"?`${b.overdueCount} tarefas atrasadas`:`${b.overdueCount} tarefas atrasadas`})]})]},b.id)),h.every(b=>b.status==="OK")&&l.jsxs("div",{className:"text-center py-8 text-gray-400",children:[l.jsx(Vn,{size:40,className:"mx-auto mb-2 text-green-200"}),l.jsx("p",{children:"Tudo certo! Nenhuma pendncia crtica."})]})]})]})]})]})},jme=({currentUser:e,onSelectCompany:t})=>{const[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,o]=S.useState(""),[u,d]=S.useState(!1),[h,m]=S.useState(!1),[g,x]=S.useState(!1),[b,y]=S.useState(!1),[_,N]=S.useState({name:"",cnpj:"",address:"",logo:""}),[k,A]=S.useState(null),D=dv.useRef(null),j=ee=>{var L;const H=(L=ee.target.files)==null?void 0:L[0];if(H){const J=new FileReader;J.onloadend=()=>{N(U=>({...U,logo:J.result}))},J.readAsDataURL(H)}};S.useEffect(()=>{O()},[e]);const O=async()=>{i(!0);const ee=await ka.fetchCompanies();ee&&n(ee),i(!1)},I=r.filter(ee=>ee.name.toLowerCase().includes(s.toLowerCase())||ee.cnpj.includes(s)),M=ee=>{const{name:H,value:L}=ee.target;N(J=>({...J,[H]:L}))},R=()=>{N({name:"",cnpj:"",address:"",logo:""}),A(null)},z=async ee=>{if(ee.preventDefault(),!_.name||!_.cnpj)return;y(!0);const{data:H,error:L}=await ka.createCompany({..._,primaryColor:"indigo",active:!0,plan:an.FREE});H?(n(J=>[H,...J]),d(!1),R()):alert("Erro ao criar empresa: "+L),y(!1)},q=async ee=>{if(ee.preventDefault(),!k||!_.name||!_.cnpj)return;y(!0),await ka.updateCompany(k.id,_)?(n(L=>L.map(J=>J.id===k.id?{...J,..._}:J)),m(!1),R()):alert("Erro ao atualizar empresa"),y(!1)},F=async()=>{if(!k)return;y(!0),await ka.deleteCompany(k.id)?(n(H=>H.filter(L=>L.id!==k.id)),x(!1),R()):alert("Erro ao excluir empresa"),y(!1)},Y=ee=>{A(ee),N({name:ee.name,cnpj:ee.cnpj,address:ee.address||"",logo:ee.logo||""}),m(!0)},de=ee=>{A(ee),x(!0)},[ce,K]=S.useState(!1),[ae,Z]=S.useState(""),W=async ee=>{if(ee.preventDefault(),!ae)return;y(!0);const H=await ka.importCompany(ae);y(!1),H.success?(alert(H.message),K(!1),Z(""),O()):alert("Erro: "+H.message)};return l.jsxs("div",{className:"space-y-6",children:[ce&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Tg,{size:24,className:"text-gray-700"}),"Importar Empresa"]}),l.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:W,className:"p-6 space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Insira o ",l.jsx("b",{children:"Token de Acesso"})," gerado pelo administrador da empresa em ",l.jsx("i",{children:"Configuraes > Dados Cadastrais"}),"."]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Token da Empresa"}),l.jsx("input",{type:"text",required:!0,value:ae,onChange:ee=>Z(ee.target.value),placeholder:"sk_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>K(!1),className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:b,className:"flex-1 py-2.5 bg-gray-900 text-white font-medium rounded-lg hover:bg-black shadow-sm flex items-center justify-center gap-2",children:b?l.jsx(Ia,{className:"animate-spin",size:18}):"Importar Acesso"})]})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(da,{size:24,className:"text-indigo-600"}),"Novo Cliente"]}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Razo Social / Nome"}),l.jsx("input",{name:"name",type:"text",required:!0,value:_.name,onChange:M,placeholder:"Ex: Empresa X Ltda",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"CNPJ"}),l.jsx("input",{name:"cnpj",type:"text",required:!0,value:_.cnpj,onChange:M,placeholder:"00.000.000/0001-00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Endereo"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ng,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{name:"address",type:"text",value:_.address,onChange:M,placeholder:"Rua, Nmero, Cidade - UF",className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Logo da Empresa"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{onClick:()=>{var ee;return(ee=D.current)==null?void 0:ee.click()},className:"w-16 h-16 rounded-lg bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:border-indigo-400 relative group overflow-hidden",children:[_.logo?l.jsx("img",{src:_.logo,alt:"Logo",className:"w-full h-full object-contain"}):l.jsx(qg,{size:20,className:"text-gray-400 group-hover:text-indigo-500"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(oh,{size:16,className:"text-white"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recomendado: Imagem PNG ou JPG, fundo transparente."}),l.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=D.current)==null?void 0:ee.click()},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 hover:underline",children:"Escolher Imagem"}),l.jsx("input",{type:"file",ref:D,onChange:j,accept:"image/*",className:"hidden"})]})]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:b,className:"flex-1 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-sm flex items-center justify-center gap-2",children:b?l.jsx(Ia,{className:"animate-spin",size:18}):l.jsxs(l.Fragment,{children:[l.jsx(Ft,{size:18})," Cadastrar"]})})]})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Sj,{size:24,className:"text-orange-600"}),"Editar Cliente"]}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Razo Social / Nome"}),l.jsx("input",{name:"name",type:"text",required:!0,value:_.name,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"CNPJ"}),l.jsx("input",{name:"cnpj",type:"text",required:!0,value:_.cnpj,onChange:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Endereo"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ng,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{name:"address",type:"text",value:_.address,onChange:M,className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Logo da Empresa"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{onClick:()=>{var ee;return(ee=D.current)==null?void 0:ee.click()},className:"w-16 h-16 rounded-lg bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:border-indigo-400 relative group overflow-hidden",children:[_.logo?l.jsx("img",{src:_.logo,alt:"Logo",className:"w-full h-full object-contain"}):l.jsx(qg,{size:20,className:"text-gray-400 group-hover:text-indigo-500"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(oh,{size:16,className:"text-white"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recomendado: Imagem PNG ou JPG, fundo transparente."}),l.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=D.current)==null?void 0:ee.click()},className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 hover:underline",children:"Escolher Imagem"}),l.jsx("input",{type:"file",ref:D,onChange:j,accept:"image/*",className:"hidden"})]})]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:b,className:"flex-1 py-2.5 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 shadow-sm flex items-center justify-center gap-2",children:b?l.jsx(Ia,{className:"animate-spin",size:18}):"Salvar Alteraes"})]})]})]})}),g&&k&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Bt,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Excluir Empresa?"}),l.jsxs("p",{className:"text-gray-500 mb-6",children:["Tem certeza que deseja excluir ",l.jsx("b",{children:k.name}),"? Esta ao no pode ser desfeita."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{onClick:F,disabled:b,className:"flex-1 py-2.5 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 shadow-sm flex items-center justify-center gap-2",children:b?l.jsx(Ia,{className:"animate-spin",size:18}):"Sim, Excluir"})]})]})})}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(da,{className:"text-indigo-600",size:28})," Carteira de Empresas"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie e acesse os ambientes dos seus clientes."})]}),l.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"relative flex-1 md:w-64",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar empresa...",value:s,onChange:ee=>o(ee.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("button",{onClick:()=>{R(),d(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium shadow-sm flex items-center gap-2 transition-colors whitespace-nowrap",children:[l.jsx(Ft,{size:18})," Novo Cliente"]}),l.jsxs("button",{onClick:()=>K(!0),className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2.5 rounded-lg font-medium shadow-sm flex items-center gap-2 transition-colors whitespace-nowrap",children:[l.jsx(Tg,{size:18})," Importar"]})]})]}),a?l.jsx("div",{className:"flex justify-center items-center py-20",children:l.jsx(Ia,{className:"animate-spin text-indigo-600",size:48})}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[I.map(ee=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all group flex flex-col relative h-full",children:[l.jsxs("div",{className:"absolute top-6 right-24 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[l.jsx("button",{onClick:H=>{H.stopPropagation(),Y(ee)},className:"p-1.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-md transition-colors",title:"Editar",children:l.jsx(Sj,{size:16})}),l.jsx("button",{onClick:H=>{H.stopPropagation(),de(ee)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-colors",title:"Excluir",children:l.jsx(Bt,{size:16})})]}),l.jsx("div",{className:`absolute top-6 right-6 px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${ee.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:ee.active?"Ativa":"Inativa"}),l.jsx("div",{className:"h-16 w-16 rounded-full border border-gray-100 flex items-center justify-center overflow-hidden bg-white mb-4 shadow-sm",children:ee.logo?l.jsx("img",{src:ee.logo,alt:ee.name,className:"h-full w-full object-cover"}):l.jsx(da,{className:"text-gray-300",size:32})}),l.jsxs("div",{className:"flex-1 mb-6",children:[l.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1 line-clamp-1",title:ee.name,children:ee.name}),l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:ee.cnpj}),ee.address&&l.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-400",children:[l.jsx(Ng,{size:14,className:"mt-0.5 shrink-0"}),l.jsx("span",{className:"line-clamp-2",children:ee.address})]})]}),l.jsxs("button",{onClick:()=>t(ee.id),className:"w-full py-2.5 bg-white border border-gray-300 text-gray-700 font-bold rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 transition-all mt-auto",children:["Acessar Ambiente ",l.jsx(Tg,{size:16})]})]},ee.id)),I.length===0&&l.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[l.jsx(da,{size:48,className:"mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma empresa encontrada."}),l.jsx("button",{onClick:()=>{R(),d(!0)},className:"mt-4 text-indigo-600 font-bold hover:underline",children:"Cadastrar primeiro cliente"})]})]})]})},vU=({isOpen:e,onClose:t,onSave:r,lead:n,companyId:a,stages:i,companies:s=[]})=>{const[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(""),[y,_]=S.useState(""),[N,k]=S.useState(0),[A,D]=S.useState("NEW"),[j,O]=S.useState(""),[I,M]=S.useState(""),[R,z]=S.useState(""),[q,F]=S.useState(""),[Y,de]=S.useState(0),[ce,K]=S.useState(""),[ae,Z]=S.useState(""),[W,ee]=S.useState(""),[H,L]=S.useState(!1);if(S.useEffect(()=>{n?(u(n.name),g(n.companyName||""),b(n.email||""),_(n.phone||""),k(n.value||0),D(n.status||"NEW"),O(n.notes||""),h(n.companyId),M(n.serviceInterest||""),z(n.source||""),F(n.segment||""),de(n.revenue||0),K(n.pain||""),Z(n.nextAction||""),ee(n.nextActionDate||"")):(u(""),g(""),b(""),_(""),k(0),D("NEW"),O(""),M(""),z(""),F(""),de(0),K(""),Z(""),ee(""),h(a!=="GLOBAL"?a:""))},[n,e,a]),!e)return null;const J=async U=>{if(U.preventDefault(),!d){alert("Por favor, selecione uma empresa.");return}L(!0);try{const B={name:o,companyName:m,email:x,phone:y,value:N,status:A,notes:j,companyId:d,serviceInterest:I,source:R,segment:q,revenue:Y,pain:ce,nextAction:ae,nextActionDate:W||void 0};n?await Or.updateLead(n.id,B):await Or.createLead(B),r(),t()}catch(B){console.error("Error saving lead:",B),alert("Erro ao salvar lead.")}finally{L(!1)}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50 shrink-0",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(vv,{className:"text-indigo-600",size:24}),n?"Editar Lead":"Novo Lead"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:24})})]}),l.jsx("form",{onSubmit:J,className:"p-6 space-y-4 overflow-y-auto custom-scrollbar flex-1",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a==="GLOBAL"||s&&s.length>0&&!n)&&l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Vincular  Empresa ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,value:d,onChange:U=>h(U.target.value),disabled:!!n||a!=="GLOBAL",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white",children:[l.jsx("option",{value:"",children:"Selecione uma empresa..."}),s==null?void 0:s.map(U=>l.jsx("option",{value:U.id,children:U.name},U.id))]})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Nome do Contato ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",required:!0,value:o,onChange:U=>u(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Joo Silva"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Empresa (Cliente)"}),l.jsx("input",{type:"text",value:m,onChange:U=>g(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Empresa Ltda"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Segmento"}),l.jsx("input",{type:"text",value:q,onChange:U=>F(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Ex: Varejo, Tecnologia..."})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Faturamento (Est.)"}),l.jsx("input",{type:"number",value:Y,onChange:U=>de(Number(U.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"0,00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Interesse"}),l.jsxs("select",{value:I,onChange:U=>M(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm bg-white",children:[l.jsx("option",{value:"",children:"Selecione..."}),l.jsx("option",{value:"CONSULTING",children:"Consultoria Financeira"}),l.jsx("option",{value:"BPO",children:"BPO Financeiro"}),l.jsx("option",{value:"BOTH",children:"Ambos"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Origem"}),l.jsx("input",{type:"text",value:R,onChange:U=>z(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Ex: Indicao"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Dor Principal (Pain Point)"}),l.jsx("textarea",{value:ce,onChange:U=>K(U.target.value),rows:2,className:"w-full px-4 py-2 border border-blue-100 bg-blue-50/50 rounded-lg text-sm border-dashed",placeholder:"Qual o principal problema que o cliente quer resolver?"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Prximo Passo"}),l.jsx("input",{type:"text",value:ae,onChange:U=>Z(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Ex: Enviar proposta, Ligar..."})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Data Prx. Passo"}),l.jsx("input",{type:"date",value:W?new Date(W).toISOString().split("T")[0]:"",onChange:U=>ee(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:x,onChange:U=>b(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Telefone"}),l.jsx("input",{type:"tel",value:y,onChange:U=>_(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Etapa"}),l.jsx("select",{value:A,onChange:U=>D(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm bg-white",children:i.map(U=>l.jsx("option",{value:U.id,children:U.label},U.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Valor do Deal (R$)"}),l.jsx("input",{type:"number",value:N,onChange:U=>k(Number(U.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Notas Gerais"}),l.jsx("textarea",{value:j,onChange:U=>O(U.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Anotaes gerais..."})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-200 rounded-lg transition-colors text-sm",disabled:H,children:"Cancelar"}),l.jsxs("button",{onClick:J,disabled:H,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center gap-2 text-sm disabled:opacity-70 disabled:cursor-not-allowed",children:[l.jsx(Yc,{size:18}),H?"Salvando...":"Salvar Lead"]})]})]})})},ig=[{id:"NEW",label:"Lead Recebido",color:"border-blue-400",bg:"bg-blue-50",order:1},{id:"QUALIFICATION",label:"Qualificao Inicial",color:"border-indigo-400",bg:"bg-indigo-50",order:2},{id:"MEETING",label:"Reunio / Diagnstico",color:"border-purple-400",bg:"bg-purple-50",order:3},{id:"PROPOSAL_DRAFT",label:"Proposta em Elaborao",color:"border-yellow-400",bg:"bg-yellow-50",order:4},{id:"PROPOSAL_SENT",label:"Proposta Enviada",color:"border-orange-400",bg:"bg-orange-50",order:5},{id:"CLOSED_WON",label:"Ganhou",color:"border-green-400",bg:"bg-green-50",order:6},{id:"CLOSED_LOST",label:"Perdeu / Arquivado",color:"border-red-400",bg:"bg-red-50",order:7}],Rme=({company:e,leads:t,currentUser:r,onRefresh:n,companies:a})=>{const[i,s]=S.useState(ig),[o,u]=S.useState(!1),[d,h]=S.useState(""),[m,g]=S.useState(!1),[x,b]=S.useState(null),[y,_]=S.useState(null),[N,k]=S.useState(!1),[A,D]=S.useState(null),[j,O]=S.useState(""),[I,M]=S.useState(new Date().toISOString().split("T")[0]),[R,z]=S.useState("MEDIUM"),[q,F]=S.useState(!1),[Y,de]=S.useState(null),[ce,K]=S.useState(null),[ae,Z]=S.useState("ALL"),[W,ee]=S.useState(new Date),H=(me,Re)=>{const je=new Date(me),We=new Date(me);if(je.setHours(0,0,0,0),We.setHours(23,59,59,999),Re==="WEEK"){const qe=je.getDay(),Oe=je.getDate()-qe;je.setDate(Oe),We.setDate(Oe+6)}else if(Re==="MONTH")je.setDate(1),We.setMonth(We.getMonth()+1,0);else if(Re==="SEMESTER"){const Oe=je.getMonth()<6?0:6;je.setMonth(Oe,1),We.setMonth(Oe+6,0)}else if(Re==="YEAR")je.setMonth(0,1),We.setMonth(11,31);else if(Re==="ALL")return{start:new Date("2000-01-01"),end:new Date("2100-12-31")};return{start:je,end:We}},L=me=>{if(ae==="ALL")return;const Re=new Date(W),je=me==="next"?1:-1;ae==="WEEK"?Re.setDate(Re.getDate()+je*7):ae==="MONTH"?Re.setMonth(Re.getMonth()+je):ae==="SEMESTER"?Re.setMonth(Re.getMonth()+je*6):ae==="YEAR"&&Re.setFullYear(Re.getFullYear()+je),ee(Re)},J=()=>{if(ae==="ALL")return"Todo o Perodo";const{start:me,end:Re}=H(W,ae);return ae==="WEEK"?`${me.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${Re.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})}`:ae==="MONTH"?me.toLocaleDateString("pt-BR",{year:"numeric",month:"long"}):ae==="SEMESTER"?`${me.getMonth()<6?"1":"2"} Sem. ${me.getFullYear()}`:me.getFullYear().toString()};S.useEffect(()=>{(async()=>{const Re=await Or.fetchFunnelStages(e.id);if(Re.length>0){const je=Re.map(We=>({id:We.id,label:We.name,color:We.color||"border-gray-400",bg:"bg-gray-50",order:We.order}));s(je)}else try{console.log("Initializing Default CRM Stages...");const je=[];for(const We of ig){const qe=await Or.createFunnelStage({companyId:e.id,name:We.label,order:We.order,color:We.color});if(qe){je.push({id:qe.id,label:qe.name,color:qe.color||"border-gray-400",bg:"bg-gray-50",order:qe.order});const Oe=t.filter(ut=>ut.status===We.id).map(ut=>ut.id);Oe.length>0&&await Or.batchUpdateLeadsStatus(Oe,qe.id)}}je.length>0?(s(je),n()):s(ig)}catch(je){console.error("Error initializing stages:",je),s(ig)}})()},[e.id,t.length]);const U=async()=>{if(!d)return;const me=await Or.createFunnelStage({companyId:e.id,name:d,order:i.length+1,color:"border-gray-400"});me&&(s([...i,{id:me.id,label:me.name,color:me.color||"border-gray-400",bg:"bg-gray-50",order:me.order}]),h(""))},B=async me=>{confirm("Tem certeza? Leads nesta etapa ficaro rfos se no movidos.")&&(await Or.deleteFunnelStage(me),s(i.filter(Re=>Re.id!==me)))},se=(me,Re)=>{me.dataTransfer.setData("leadId",Re),_(Re)},fe=me=>{me.preventDefault()},Te=async(me,Re)=>{me.preventDefault();const je=me.dataTransfer.getData("leadId");if(_(null),!je)return;const We=t.find(Oe=>Oe.id===je);if(!We||We.status===Re)return;(Re==="CLOSED_WON"||Re==="WON")&&window.confirm(`Parabns! O lead "${We.companyName}" foi ganho. 
Deseja cadastr-lo como um Cliente Ativo agora?`)&&te(We);let qe;if(Re==="CLOSED_LOST"||Re==="LOST"){const Oe=window.prompt("Qual o motivo da perda? (Ex: Preo, Concorrncia, Sem Fit)");if(Oe)qe=Oe;else{if(Oe===null)return;qe="No informado"}}await Or.updateLead(je,{status:Re,lossReason:qe}),n()},te=me=>{de(me),K({name:me.companyName||me.name,serviceType:me.serviceInterest==="CONSULTING"?"CONSULTING":me.serviceInterest==="BPO"?"BPO":me.serviceInterest==="BOTH"?"BOTH":void 0,primaryColor:"indigo",plan:an.PREMIUM,active:!0}),F(!0)},ge=async me=>{if(!(!me.name||!me.cnpj))try{await ka.createCompany({name:me.name,cnpj:me.cnpj,plan:me.plan||an.FREE,active:!0,primaryColor:me.primaryColor,logo:me.logo,serviceType:me.serviceType}),Y&&await Or.updateLead(Y.id,{notes:(Y.notes||"")+`
[CONVERTIDO EM CLIENTE]`}),alert("Cliente cadastrado com sucesso!"),F(!1),n()}catch(Re){console.error("Error converting client:",Re),alert("Erro ao criar cliente. Verifique se o CNPJ  nico.")}},Se=me=>{b(me),g(!0)},G=()=>{n()},_e=async me=>{confirm("Remover este lead?")&&(await Or.deleteLead(me),n())},ue=me=>{D(me),O(""),k(!0)},be=async me=>{me.preventDefault(),A&&(await Or.createTask({title:j,dueDate:I,priority:R,status:"TODO",linkedLeadId:A.id,linkedCompanyId:e.id,assignedToId:r.id}),k(!1),n())},Le=S.useMemo(()=>{const{start:me,end:Re}=H(W,ae);return t.filter(je=>{if(ae!=="ALL"){const We=new Date(je.createdAt);if(We<me||We>Re)return!1}return!0})},[t,ae,W]);return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(vU,{isOpen:m,onClose:()=>g(!1),onSave:G,lead:x,companyId:e.id,stages:i,companies:a}),l.jsx(e6,{isOpen:q,onClose:()=>F(!1),onSave:ge,initialData:ce}),N&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Jd,{size:20,className:"text-indigo-600"})," Nova Tarefa"]}),l.jsx("button",{onClick:()=>k(!1),children:l.jsx(Vt,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),l.jsxs("form",{onSubmit:be,className:"p-4 space-y-3",children:[l.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Vinculado a: ",l.jsx("b",{children:A==null?void 0:A.companyName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"O que precisa ser feito?"}),l.jsx("input",{type:"text",required:!0,value:j,onChange:me=>O(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:I,onChange:me=>M(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Prioridade"}),l.jsxs("select",{value:R,onChange:me=>z(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l.jsx("option",{value:"LOW",children:"Baixa"}),l.jsx("option",{value:"MEDIUM",children:"Mdia"}),l.jsx("option",{value:"HIGH",children:"Alta"})]})]})]}),l.jsx("button",{type:"submit",className:"w-full py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors text-sm mt-2",children:"Agendar Tarefa"})]})]})}),o&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(wo,{size:20,className:"text-indigo-600"})," Configurar Etapas"]}),l.jsx("button",{onClick:()=>u(!1),children:l.jsx(Vt,{size:20,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-2 mb-4",children:i.map((me,Re)=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border border-gray-200",children:[l.jsxs("span",{className:"font-bold text-sm text-gray-700",children:[Re+1,". ",me.label]}),l.jsx("button",{onClick:()=>B(me.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(Bt,{size:14})})]},me.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:me=>h(me.target.value),placeholder:"Nome da nova etapa...",className:"flex-1 px-3 py-2 border rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("button",{onClick:U,className:"bg-indigo-600 text-white px-3 py-2 rounded text-sm font-bold hover:bg-indigo-700",children:"Adicionar"})]})]})]})}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(eS,{className:"text-indigo-600",size:28})," CRM & Pipeline"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Acompanhe suas oportunidades de venda e converso."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[l.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-lg p-1 shadow-sm",children:[l.jsx("button",{onClick:()=>L("prev"),disabled:ae==="ALL",className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded disabled:opacity-30",children:l.jsx(bo,{size:16})}),l.jsx("div",{className:"px-3 text-xs font-bold text-gray-700 min-w-[140px] text-center",children:J()}),l.jsx("button",{onClick:()=>L("next"),disabled:ae==="ALL",className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded disabled:opacity-30",children:l.jsx(Oi,{size:16})}),l.jsx("div",{className:"w-px h-4 bg-gray-300 mx-2"}),l.jsxs("select",{value:ae,onChange:me=>Z(me.target.value),className:"text-xs bg-transparent outline-none font-medium text-indigo-600 cursor-pointer",children:[l.jsx("option",{value:"WEEK",children:"Semana"}),l.jsx("option",{value:"MONTH",children:"Ms"}),l.jsx("option",{value:"SEMESTER",children:"Semestre"}),l.jsx("option",{value:"YEAR",children:"Ano"}),l.jsx("option",{value:"ALL",children:"Geral"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>u(!0),className:"bg-white border border-gray-300 text-gray-600 px-3 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 hover:bg-gray-50 text-sm",children:[l.jsx(wo,{size:16})," Etapas"]}),l.jsxs("button",{onClick:()=>Se(null),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 text-sm whitespace-nowrap",children:[l.jsx(Ft,{size:16})," Novo Deal"]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-4",children:l.jsx("div",{className:"flex h-full gap-4 min-w-[1600px]",children:i.map((me,Re)=>{const je=Le.filter(qe=>qe.status===me.id),We=je.reduce((qe,Oe)=>qe+Oe.value,0);return l.jsxs("div",{className:"flex-1 flex flex-col min-w-[280px] max-w-[350px] bg-gray-100 rounded-xl border border-gray-200 shadow-sm transition-colors",onDragOver:fe,onDrop:qe=>Te(qe,me.id),children:[l.jsxs("div",{className:`p-4 border-t-4 ${me.color} bg-white rounded-t-xl border-b border-gray-100`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm uppercase tracking-wide",children:me.label}),l.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full font-bold",children:je.length})]}),l.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Total: ",l.jsxs("span",{className:"text-gray-900 font-bold",children:["R$ ",We.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"p-3 flex-1 overflow-y-auto custom-scrollbar space-y-3 bg-gray-50/50",children:[je.map(qe=>l.jsxs("div",{draggable:!0,onDragStart:Oe=>se(Oe,qe.id),onClick:()=>Se(qe),className:`bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all group relative cursor-grab active:cursor-grabbing ${y===qe.id?"opacity-50 ring-2 ring-indigo-400":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Q2,{size:14,className:"text-gray-300 cursor-grab"}),l.jsx("h5",{className:"font-bold text-gray-900 text-sm line-clamp-1",children:qe.companyName})]}),l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),_e(qe.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Bt,{size:14})})]}),l.jsx("p",{className:"text-xs text-gray-600 mb-3 font-medium pl-6",children:qe.name}),l.jsxs("div",{className:"space-y-2 mb-3 pl-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-1",children:[qe.serviceInterest&&l.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-1.5 py-0.5 rounded border border-indigo-100 text-[10px] font-bold",children:qe.serviceInterest==="BOTH"?"Consultoria + BPO":qe.serviceInterest==="CONSULTING"?"Consultoria":"BPO"}),qe.segment&&l.jsx("span",{className:"bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded border border-gray-200 text-[10px]",children:qe.segment})]}),qe.pain&&l.jsxs("p",{className:"text-[10px] text-gray-500 italic border-l-2 border-red-200 pl-2 py-0.5",children:['"',qe.pain.length>50?qe.pain.substring(0,50)+"...":qe.pain,'"']}),qe.nextAction&&l.jsxs("div",{className:`text-[10px] px-2 py-1.5 rounded-lg border flex flex-col ${qe.nextActionDate?new Date(qe.nextActionDate)<new Date(new Date().setHours(0,0,0,0))?"bg-red-50 border-red-200 text-red-700":new Date(qe.nextActionDate).toDateString()===new Date().toDateString()?"bg-orange-50 border-orange-200 text-orange-700":"bg-green-50 border-green-200 text-green-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[l.jsxs("span",{className:"font-bold flex items-center gap-1",children:[l.jsx(Kc,{size:10})," Prximo Passo"]}),l.jsx("span",{className:"font-medium mt-0.5",children:qe.nextAction}),qe.nextActionDate&&l.jsx("span",{className:"opacity-80 mt-0.5",children:new Date(qe.nextActionDate).toLocaleDateString()})]}),!qe.nextAction&&qe.status!=="CLOSED_LOST"&&qe.status!=="CLOSED_WON"&&l.jsxs("div",{className:"text-[10px] text-red-400 flex items-center gap-1 font-medium bg-red-50 px-2 py-1 rounded",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"})," Sem ao definida"]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400 mt-2",children:[l.jsx(ma,{size:10})," ",new Date(qe.createdAt).toLocaleDateString("pt-BR")]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-50 pl-2",children:[l.jsxs("span",{className:"text-xs font-bold text-green-700 bg-green-50 px-2 py-1 rounded",children:["R$ ",qe.value.toLocaleString("pt-BR")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[(qe.status==="CLOSED_WON"||qe.status==="WON")&&l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),te(qe)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Converter em Cliente",children:l.jsx(Kc,{size:14})}),l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),ue(qe)},className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Criar Tarefa",children:l.jsx(Jd,{size:14})})]})]})]},qe.id)),l.jsxs("button",{onClick:()=>Se(null),className:"w-full py-2 border-2 border-dashed border-gray-300 text-gray-400 rounded-lg hover:border-indigo-300 hover:text-indigo-500 hover:bg-indigo-50 transition-colors text-sm font-bold flex items-center justify-center gap-1 mt-2",children:[l.jsx(Ft,{size:16})," Adicionar Lead"]})]})]},me.id)})})})]})},Ome=({isOpen:e,onClose:t,onSave:r,initialTask:n,leads:a,companies:i=[],users:s,currentUser:o,defaultType:u})=>{const[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(""),[y,_]=S.useState("MEDIUM"),[N,k]=S.useState(o.id),[A,D]=S.useState("GENERAL"),[j,O]=S.useState(""),[I,M]=S.useState(""),[R,z]=S.useState("");S.useEffect(()=>{var F;e&&(n?(h(n.title),g(n.description||""),b(n.dueDate?n.dueDate.split("T")[0]:""),_(n.priority),k(n.assignedToId),D(n.type||"GENERAL"),O(n.linkedLeadId||""),M(n.relatedClientId||""),z(((F=n.recurrence)==null?void 0:F.rule)||"")):(h(""),g(""),b(new Date().toISOString().split("T")[0]),_("MEDIUM"),k(o.id),D(u||"GENERAL"),O(""),M(""),z("")))},[e,n,o,u]);const q=F=>{F.preventDefault();const Y={title:d,description:m,dueDate:x?new Date(x).toISOString():void 0,priority:y,assignedToId:N,status:n?n.status:"TODO",type:A,linkedLeadId:A==="CRM"?j:void 0,relatedClientId:A==="BPO"?I:void 0,recurrence:R?{rule:R}:void 0};n&&(Y.id=n.id),r(Y),t()};return e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 text-lg",children:[l.jsx(iX,{className:"text-indigo-600",size:24}),n?"Editar Tarefa":"Nova Tarefa"]}),l.jsx("button",{onClick:t,children:l.jsx(Vt,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),l.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{type:"button",onClick:()=>D("GENERAL"),className:`py-1.5 text-xs font-bold rounded-md transition-all ${A==="GENERAL"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Avulsa"}),l.jsx("button",{type:"button",onClick:()=>D("CRM"),className:`py-1.5 text-xs font-bold rounded-md transition-all ${A==="CRM"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"CRM (Lead)"}),l.jsx("button",{type:"button",onClick:()=>D("BPO"),className:`py-1.5 text-xs font-bold rounded-md transition-all ${A==="BPO"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"BPO (Cliente)"})]}),A==="CRM"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Vincular a Lead"}),l.jsxs("select",{value:j,onChange:F=>O(F.target.value),className:"w-full px-3 py-2 border border-blue-200 rounded-lg text-sm bg-blue-50 focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"",children:"Selecione um Lead..."}),a.map(F=>l.jsxs("option",{value:F.id,children:[F.companyName," (",F.name,")"]},F.id))]})]}),A==="BPO"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Vincular a Cliente"}),l.jsxs("select",{value:I,onChange:F=>M(F.target.value),className:"w-full px-3 py-2 border border-indigo-200 rounded-lg text-sm bg-indigo-50 focus:ring-2 focus:ring-indigo-500 outline-none",children:[l.jsx("option",{value:"",children:"Selecione um Cliente..."}),i.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"O que precisa ser feito?"}),l.jsx("input",{type:"text",required:!0,placeholder:"Ttulo da tarefa...",value:d,onChange:F=>h(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Detalhes (Opcional)"}),l.jsx("textarea",{rows:2,value:m,onChange:F=>g(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:x,onChange:F=>b(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Prioridade"}),l.jsxs("select",{value:y,onChange:F=>_(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l.jsx("option",{value:"LOW",children:"Baixa"}),l.jsx("option",{value:"MEDIUM",children:"Mdia"}),l.jsx("option",{value:"HIGH",children:"Alta"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Responsvel"}),l.jsxs("div",{className:"relative",children:[l.jsx(vv,{size:14,className:"absolute left-3 top-3 text-gray-400"}),l.jsx("select",{value:N,onChange:F=>k(F.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:s.map(F=>l.jsx("option",{value:F.id,children:F.name},F.id))})]})]}),A==="BPO"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Recorrncia"}),l.jsxs("select",{value:R,onChange:F=>z(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l.jsx("option",{value:"",children:"No recorrente"}),l.jsx("option",{value:"WEEKLY",children:"Semanal"}),l.jsx("option",{value:"MONTHLY",children:"Mensal"})]})]})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",className:"w-full py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors text-sm shadow-md",children:n?"Salvar Alteraes":"Criar Tarefa"})})]})]})}):null},GT=({currentUser:e,companyId:t,tasks:r,leads:n,companies:a,users:i,onUpdate:s})=>{const[o,u]=S.useState("ALL"),[d,h]=S.useState("ME"),[m,g]=S.useState("PENDING"),[x,b]=S.useState(!1),[y,_]=S.useState(null),N=S.useMemo(()=>{let R=r.filter(z=>(t&&z.linkedCompanyId!==t&&z.linkedCompanyId,!(o!=="ALL"&&(z.type||"GENERAL")!==o||d==="ME"&&z.assignedToId!==e.id||m==="PENDING"&&z.status==="DONE"||m==="DONE"&&z.status!=="DONE")));return R.sort((z,q)=>z.status==="DONE"&&q.status!=="DONE"?1:z.status!=="DONE"&&q.status==="DONE"?-1:z.dueDate?q.dueDate?new Date(z.dueDate).getTime()-new Date(q.dueDate).getTime():-1:1),R},[r,o,d,m,e,t]),k=S.useMemo(()=>{const R=new Date;R.setHours(0,0,0,0);const z=[],q=[],F=[],Y=[],de=[];return N.forEach(ce=>{if(ce.status==="DONE"){de.push(ce);return}if(!ce.dueDate){Y.push(ce);return}const K=new Date(ce.dueDate);K.setHours(0,0,0,0);const ae=(K.getTime()-R.getTime())/(1e3*60*60*24);ae<0?z.push(ce):ae===0?q.push(ce):ae<=7?F.push(ce):Y.push(ce)}),{overdue:z,today:q,upcoming:F,future:Y,completed:de}},[N]),A=async R=>{R.id?await Or.updateTask(R.id,R):await Or.createTask({...R,linkedCompanyId:t||R.linkedCompanyId}),s()},D=async R=>{const z=R.status==="DONE"?"TODO":"DONE";await Or.updateTask(R.id,{status:z}),s()},j=async R=>{confirm("Tem certeza que deseja excluir esta tarefa?")&&(await Or.deleteTask(R),s())},O=()=>{_(null),b(!0)},I=R=>{_(R),b(!0)},M=({task:R})=>{var de,ce;const z=R.dueDate&&new Date(R.dueDate)<new Date(new Date().setHours(0,0,0,0))&&R.status!=="DONE",q=R.type==="CRM"?"CRM":R.type==="BPO"?"BPO":"Geral",F=R.type==="CRM"?"text-blue-600 bg-blue-50 border-blue-100":R.type==="BPO"?"text-indigo-600 bg-indigo-50 border-indigo-100":"text-gray-600 bg-gray-50 border-gray-100",Y=i.find(K=>K.id===R.assignedToId);return l.jsxs("div",{className:`group flex items-start gap-3 p-3 bg-white border border-gray-100 rounded-lg hover:shadow-md transition-all ${R.status==="DONE"?"opacity-50":""}`,children:[l.jsx("button",{onClick:()=>D(R),className:`mt-1 shrink-0 w-5 h-5 rounded border flex items-center justify-center transition-colors ${R.status==="DONE"?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-indigo-500 text-transparent"}`,children:l.jsx(Vn,{size:14,fill:"currentColor",className:R.status==="DONE"?"text-white":"text-transparent"})}),l.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>I(R),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${F}`,children:q}),z&&l.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-red-100 text-red-700 border border-red-200 flex items-center gap-1",children:[l.jsx(Di,{size:10})," Atrasado"]}),R.priority==="HIGH"&&l.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-orange-50 text-orange-700 border border-orange-100",children:"Alta Prioridade"})]}),l.jsx("h4",{className:`text-sm font-semibold text-gray-900 mb-0.5 ${R.status==="DONE"?"line-through":""}`,children:R.title}),(R.linkedLeadId||R.relatedClientId)&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[R.linkedLeadId&&l.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-medium",children:[l.jsx(gE,{size:10})," ",((de=n.find(K=>K.id===R.linkedLeadId))==null?void 0:de.companyName)||"Lead"]}),R.relatedClientId&&l.jsxs("span",{className:"flex items-center gap-1 text-indigo-600 font-medium",children:[l.jsx(da,{size:10})," ",((ce=a.find(K=>K.id===R.relatedClientId))==null?void 0:ce.name)||"Cliente"]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 mt-2",children:[l.jsxs("div",{className:`flex items-center gap-1 ${z?"text-red-500 font-medium":""}`,children:[l.jsx(ma,{size:12})," ",R.dueDate?new Date(R.dueDate).toLocaleDateString("pt-BR"):"Sem data"]}),Y&&l.jsxs("div",{className:"flex items-center gap-1",title:Y.name,children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-[8px] font-bold text-gray-600",children:Y.name.charAt(0)}),l.jsx("span",{className:"max-w-[80px] truncate",children:Y.name.split(" ")[0]})]})]})]}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:l.jsx("button",{onClick:K=>{K.stopPropagation(),j(R.id)},className:"p-1.5 rounded hover:bg-red-50 text-gray-400 hover:text-red-500",children:l.jsx(Bt,{size:14})})})]})};return l.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Vn,{className:"text-indigo-600",size:24}),"Central de Tarefas"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Organize suas atividades de CRM, BPO e demandas internas."})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>h("ME"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${d==="ME"?"bg-white shadow text-indigo-700":"text-gray-500"}`,children:"Minhas"}),l.jsx("button",{onClick:()=>h("ALL"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${d==="ALL"?"bg-white shadow text-indigo-700":"text-gray-500"}`,children:"Todas"})]}),l.jsx("div",{className:"h-8 w-px bg-gray-300 mx-1"}),l.jsxs("select",{value:o,onChange:R=>u(R.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-indigo-500 focus:border-indigo-500 p-2 font-medium",children:[l.jsx("option",{value:"ALL",children:"Todos os Tipos"}),l.jsx("option",{value:"CRM",children:"CRM (Leads)"}),l.jsx("option",{value:"BPO",children:"BPO (Clientes)"}),l.jsx("option",{value:"GENERAL",children:"Avulsas"})]}),l.jsxs("select",{value:m,onChange:R=>g(R.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-indigo-500 focus:border-indigo-500 p-2 font-medium",children:[l.jsx("option",{value:"PENDING",children:"Pendentes"}),l.jsx("option",{value:"DONE",children:"Concludas"}),l.jsx("option",{value:"ALL",children:"Todas"})]}),l.jsxs("button",{onClick:O,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg font-bold text-xs flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(Ft,{size:16})," Nova Tarefa"]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-6 pb-10",children:[m!=="DONE"&&l.jsxs(l.Fragment,{children:[k.overdue.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-bold text-red-700 flex items-center gap-2 px-1",children:[l.jsx(Di,{size:16})," Atrasadas (",k.overdue.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.overdue.map(R=>l.jsx(M,{task:R},R.id))})]}),k.today.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-bold text-orange-700 flex items-center gap-2 px-1",children:[l.jsx(gv,{size:16})," Para Hoje (",k.today.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.today.map(R=>l.jsx(M,{task:R},R.id))})]}),k.upcoming.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-bold text-indigo-700 flex items-center gap-2 px-1",children:[l.jsx(ma,{size:16})," Prximos 7 Dias (",k.upcoming.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.upcoming.map(R=>l.jsx(M,{task:R},R.id))})]}),k.future.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-bold text-gray-600 flex items-center gap-2 px-1",children:[l.jsx(fu,{size:16})," Futuras / Sem Data (",k.future.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.future.map(R=>l.jsx(M,{task:R},R.id))})]}),N.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-gray-400",children:[l.jsx(Vn,{size:48,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:"Nenhuma tarefa encontrada."})]})]}),(m==="DONE"||m==="ALL")&&k.completed.length>0&&l.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-100",children:[l.jsxs("h3",{className:"text-sm font-bold text-green-700 flex items-center gap-2 px-1",children:[l.jsx(Vn,{size:16})," Concludas (",k.completed.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:k.completed.map(R=>l.jsx(M,{task:R},R.id))})]})]}),l.jsx(Ome,{isOpen:x,onClose:()=>b(!1),onSave:A,initialTask:y,leads:n,companies:a,users:i,currentUser:e,defaultType:o!=="ALL"?o:"GENERAL"})]})},Dme=({leads:e,companyId:t,onRefresh:r,companies:n})=>{const[a,i]=S.useState(!1),[s,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState([{id:"NEW",label:"Novo Lead",color:"border-blue-400",bg:"bg-blue-50",order:1},{id:"CONTACTED",label:"Contato Realizado",color:"border-indigo-400",bg:"bg-indigo-50",order:2},{id:"DIAGNOSIS",label:"Diagnstico",color:"border-yellow-400",bg:"bg-yellow-50",order:3},{id:"PROPOSAL",label:"Proposta Enviada",color:"border-orange-400",bg:"bg-orange-50",order:4},{id:"CLOSED_WON",label:"Ganhou",color:"border-green-400",bg:"bg-green-50",order:5},{id:"CLOSED_LOST",label:"Perdido",color:"border-red-400",bg:"bg-red-50",order:6}]);S.useEffect(()=>{(async()=>{const N=await Or.fetchFunnelStages(t);if(N.length>0){const k=N.map(A=>({id:A.id,label:A.name,color:A.color||"border-gray-400",bg:"bg-gray-50",order:A.order}));m(k)}})()},[t]);const g=_=>{const N=h.find(A=>A.id===_);return N?N.label:{NEW:"Novo Lead",CONTACTED:"Contato Realizado",DIAGNOSIS:"Diagnstico",PROPOSAL:"Proposta Enviada",CLOSED_WON:"Ganhou",CLOSED_LOST:"Perdido",QUALIFIED:"Qualificado",NEGOTIATION:"Negociao"}[_]||_},x=_=>{o(_),i(!0)},b=async _=>{confirm("Tem certeza que deseja remover este lead?")&&(await Or.deleteLead(_),r())},y=e.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())||_.companyName&&_.companyName.toLowerCase().includes(u.toLowerCase()));return l.jsxs("div",{className:"space-y-6",children:[l.jsx(vU,{isOpen:a,onClose:()=>i(!1),onSave:r,lead:s,companyId:t,stages:h,companies:n}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(hu,{className:"text-indigo-600",size:28})," Base de Leads"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie contatos e potenciais clientes."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"relative w-64",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar lead...",value:u,onChange:_=>d(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-500 bg-white"})]}),l.jsxs("button",{onClick:()=>x(null),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 text-sm whitespace-nowrap",children:[l.jsx(Ft,{size:16})," Novo Lead"]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold text-xs uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Nome / Empresa"}),l.jsx("th",{className:"px-6 py-4",children:"Status / Interesse"}),l.jsx("th",{className:"px-6 py-4",children:"Contato"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Potencial (R$)"}),l.jsx("th",{className:"px-6 py-4",children:"Data Criao"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:y.map(_=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-900",children:_.name}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[l.jsx(da,{size:10})," ",_.companyName||"N/A"]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"px - 2 py - 0.5 w - fit rounded text - [10px] font - bold uppercase border bg - gray - 50 text - gray - 700 border - gray - 200",children:g(_.status)}),_.serviceInterest&&l.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:_.serviceInterest==="BOTH"?"Consultoria + BPO":_.serviceInterest==="CONSULTING"?"Consultoria":"BPO"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[l.jsx(Ol,{size:12})," ",_.email]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[l.jsx(Y5,{size:12})," ",_.phone]})]})}),l.jsxs("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:["R$ ",_.value.toLocaleString("pt-BR")]}),l.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs",children:new Date(_.createdAt).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>x(_),className:"text-gray-400 hover:text-indigo-600 p-1 rounded transition-colors",title:"Editar",children:l.jsx(Z5,{size:16})}),l.jsx("button",{onClick:()=>b(_.id),className:"text-gray-400 hover:text-red-600 p-1 rounded transition-colors",title:"Excluir",children:l.jsx(Bt,{size:16})})]})})]},_.id))})]})})]})},C0=[{key:"VIEW_DASHBOARD",label:"Ver Dashboard"},{key:"VIEW_TRANSACTIONS",label:"Ver Lanamentos"},{key:"EDIT_TRANSACTIONS",label:"Criar/Editar Lanamentos"},{key:"VIEW_GOALS",label:"Ver Metas"},{key:"VIEW_COST_CENTERS",label:"Ver Centros de Custo"},{key:"VIEW_ASSETS",label:"Gesto de Ativos"},{key:"VIEW_REPORTS",label:"Acessar Relatrios"},{key:"USE_AI",label:"Utilizar IA Financeira"},{key:"VIEW_SETTINGS",label:"Acessar Configuraes"},{key:"MANAGE_USERS",label:"Gerenciar Usurios"},{key:"VIEW_CRM",label:"Acessar CRM"},{key:"VIEW_TASKS",label:"Acessar Tarefas"},{key:"VIEW_LEADS",label:"Gesto de Leads"},{key:"MANAGE_COMPANIES",label:"Gesto de Empresas"}],yU=({isOpen:e,onClose:t,onSave:r,initialData:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState(""),[u,d]=S.useState(Xe.EMPLOYEE),[h,m]=S.useState([]),[g,x]=S.useState(!1),[b,y]=S.useState(""),[_,N]=S.useState(""),[k,A]=S.useState(!1);S.useEffect(()=>{e&&(n?(i(n.name),o(n.email),d(n.role),m(n.permissions||[]),x(!1)):(i(""),o(""),d(Xe.EMPLOYEE),D(Xe.EMPLOYEE),x(!0)),y(""),N(""))},[e,n]);const D=R=>{let z=[];R===Xe.ADMIN?z=C0.map(q=>q.key):R===Xe.MANAGER?z=["VIEW_DASHBOARD","VIEW_TRANSACTIONS","EDIT_TRANSACTIONS","VIEW_REPORTS","USE_AI","VIEW_GOALS","VIEW_ASSETS","VIEW_COST_CENTERS"]:R===Xe.BPO?z=["VIEW_DASHBOARD","VIEW_CRM","VIEW_TASKS","VIEW_LEADS","MANAGE_COMPANIES","MANAGE_USERS","VIEW_SETTINGS"]:R===Xe.CONSULTANT?z=["VIEW_DASHBOARD","VIEW_CRM","VIEW_TASKS","VIEW_LEADS","MANAGE_COMPANIES","VIEW_SETTINGS"]:z=["VIEW_DASHBOARD","VIEW_TRANSACTIONS","EDIT_TRANSACTIONS"],m(z)},j=R=>{d(R),D(R)},O=R=>{if((u===Xe.ADMIN||u===Xe.BPO)&&R==="MANAGE_USERS"){alert("Este perfil exige permisso de gerenciar usurios.");return}h.includes(R)?m(h.filter(z=>z!==R)):m([...h,R])},I=()=>{h.length===C0.length?m([]):m(C0.map(R=>R.key))};if(!e)return null;const M=R=>{if(R.preventDefault(),!(!a||!s)){if(g){if(b!==_){alert("As senhas no coincidem.");return}if(b.length<6){alert("A senha deve ter pelo menos 6 caracteres.");return}}r({id:n==null?void 0:n.id,name:a,email:s,role:u,permissions:h,password:g?b:void 0}),t()}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(vv,{size:24,className:"text-indigo-600"}),n?"Editar Perfil":"Convidar Usurio"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:M,className:"p-6 space-y-5 overflow-y-auto custom-scrollbar flex-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome Completo"}),l.jsx("input",{type:"text",required:!0,value:a,onChange:R=>i(R.target.value),placeholder:"Ex: Maria Silva",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder-gray-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Email de Acesso"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"email",required:!0,value:s,onChange:R=>o(R.target.value),placeholder:"Ex: maria@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Perfil de Acesso"}),l.jsxs("select",{value:u,onChange:R=>j(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l.jsxs("optgroup",{label:"Empresarial",children:[l.jsx("option",{value:Xe.ADMIN,children:"Administrador (Acesso Total)"}),l.jsx("option",{value:Xe.MANAGER,children:"Gestor (Superviso)"}),l.jsx("option",{value:Xe.EMPLOYEE,children:"Funcionrio (Operacional)"})]}),l.jsxs("optgroup",{label:"Parceiros",children:[l.jsx("option",{value:Xe.BPO,children:"BPO Financeiro"}),l.jsx("option",{value:Xe.CONSULTANT,children:"Consultor"})]})]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(ki,{size:16,className:"text-indigo-600"})," Segurana"]}),n&&l.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer text-gray-600 select-none",children:[l.jsx("input",{type:"checkbox",checked:g,onChange:R=>x(R.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500"}),"Redefinir Senha"]})]}),g&&l.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100 space-y-3 animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k?"text":"password",placeholder:"Nova Senha",value:b,onChange:R=>y(R.target.value),className:"w-full px-4 py-2 border border-orange-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none bg-white"}),l.jsx("button",{type:"button",onClick:()=>A(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k?l.jsx(pE,{size:18}):l.jsx(D0,{size:18})})]}),l.jsxs("div",{children:[l.jsx("input",{type:k?"text":"password",placeholder:"Confirmar Nova Senha",value:_,onChange:R=>N(R.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none bg-white ${_&&b!==_?"border-red-300 focus:ring-red-500":"border-orange-200 focus:ring-orange-500"}`}),_&&b!==_&&l.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"As senhas no conferem."})]}),l.jsxs("p",{className:"text-[10px] text-orange-700 flex items-center gap-1",children:[l.jsx($g,{size:10})," A senha ser alterada imediatamente aps salvar."]})]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(QY,{size:16,className:"text-indigo-600"})," Permisses de Acesso"]}),u!==Xe.ADMIN&&l.jsx("button",{type:"button",onClick:I,className:"text-xs text-indigo-600 font-medium hover:underline",children:h.length===C0.length?"Desmarcar Todos":"Marcar Todos"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[u===Xe.ADMIN&&l.jsxs("div",{className:"mb-3 text-xs text-amber-600 bg-amber-50 p-2 rounded border border-amber-100 flex items-center gap-2",children:[l.jsx($g,{size:14})," Administradores possuem acesso completo por padro."]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:C0.map(R=>{const z=h.includes(R.key),q=u===Xe.ADMIN;return l.jsxs("label",{className:`flex items-center gap-2 ${q?"opacity-70 cursor-not-allowed":"cursor-pointer group"}`,children:[l.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${z?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300 group-hover:border-indigo-300"}`,children:z&&l.jsx(ho,{size:14,className:"text-white"})}),l.jsx("input",{type:"checkbox",className:"hidden",checked:z,disabled:q,onChange:()=>O(R.key)}),l.jsx("span",{className:`text-sm ${z?"text-gray-900 font-medium":"text-gray-500"}`,children:R.label})]},R.key)})})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 bg-white",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:M,type:"submit",className:"flex-1 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:n?"Salvar Alteraes":"Enviar Convite"})]})]})})},Mme=({currentUser:e,onRefresh:t})=>{const[r,n]=S.useState(""),[a,i]=S.useState(!1),[s,o]=S.useState(null),u=Rc.filter(b=>b.role===Xe.BPO||b.role===Xe.CONSULTANT),d=()=>{o(null),i(!0)},h=b=>{o(b),i(!0)},m=b=>{if(s)oW(s.id,b);else{const y={...b,linkedCompanyIds:e.linkedCompanyIds};sW("global-bpo-context",y)}t()},g=b=>{if(b===e.id){alert("Voc no pode excluir seu prprio usurio.");return}confirm("Tem certeza que deseja remover este membro da equipe?")&&(lW(b),t())},x=u.filter(b=>b.name.toLowerCase().includes(r.toLowerCase())||b.email.toLowerCase().includes(r.toLowerCase()));return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsx(yU,{isOpen:a,onClose:()=>i(!1),onSave:m,initialData:s}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Rl,{className:"text-indigo-600",size:28})," Equipe Interna"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie scios e consultores da sua operao de BPO."})]}),l.jsxs("button",{onClick:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Membro"]})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:r,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Membro"}),l.jsx("th",{className:"px-6 py-4",children:"Funo"}),l.jsx("th",{className:"px-6 py-4",children:"Acesso a Clientes"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(b=>{const y=b.id===e.id,_=b.linkedCompanyIds?b.linkedCompanyIds.length:0;return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-sm ${b.role===Xe.BPO?"bg-indigo-600":"bg-emerald-600"}`,children:b.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-gray-900 flex items-center gap-2",children:[b.name,y&&l.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[10px] px-1.5 py-0.5 rounded border border-indigo-200",children:"VOC"})]}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx(Ol,{size:10})," ",b.email]})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${b.role===Xe.BPO?"bg-indigo-50 text-indigo-700 border-indigo-100":"bg-emerald-50 text-emerald-700 border-emerald-100"}`,children:Qd[b.role]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[l.jsx(Xc,{size:14,className:"text-gray-400"}),_>0?`${_} carteiras vinculadas`:l.jsx("span",{className:"text-orange-500",children:"Sem clientes"})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>h(b),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Editar Perfil",children:l.jsx(_n,{size:16})}),!y&&l.jsx("button",{onClick:()=>g(b.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover da Equipe",children:l.jsx(Bt,{size:16})})]})})]},b.id)})})]}),x.length===0&&l.jsxs("div",{className:"p-12 text-center text-gray-500 bg-gray-50",children:[l.jsx(Xc,{size:48,className:"mx-auto mb-3 text-gray-300"}),l.jsx("p",{children:"Nenhum membro encontrado."})]})]})]})},Pme=({currentUser:e})=>{const[t,r]=S.useState("PROFILE"),[n,a]=S.useState({name:"Minha Consultoria BPO",cnpj:"00.000.000/0001-00",email:e.email,website:"www.meubpo.com.br",primaryColor:"indigo"}),i=s=>{s.preventDefault(),alert("Configuraes da organizao salvas com sucesso!")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-gray-900 text-white rounded-lg",children:l.jsx(wo,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configuraes da Organizao"}),l.jsx("p",{className:"text-gray-500",children:"Gerencie os dados da sua firma de BPO."})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>r("PROFILE"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${t==="PROFILE"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(mK,{size:16})," Perfil da Empresa"]}),l.jsxs("button",{onClick:()=>r("PREFERENCES"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${t==="PREFERENCES"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Kg,{size:16})," Preferncias"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 max-w-4xl animate-in fade-in duration-300",children:[t==="PROFILE"&&l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Organizao"}),l.jsx("input",{type:"text",value:n.name,onChange:s=>a({...n,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"CNPJ"}),l.jsx("input",{type:"text",value:n.cnpj,onChange:s=>a({...n,cnpj:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email de Contato"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"email",value:n.email,onChange:s=>a({...n,email:s.target.value}),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Website"}),l.jsxs("div",{className:"relative",children:[l.jsx(oY,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"text",value:n.website,onChange:s=>a({...n,website:s.target.value}),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]}),l.jsx("div",{className:"pt-4 border-t border-gray-100 flex justify-end",children:l.jsxs("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-lg font-medium flex items-center gap-2 transition-colors shadow-sm",children:[l.jsx(Yc,{size:18})," Salvar Alteraes"]})})]}),t==="PREFERENCES"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(lK,{size:18})," Notificaes"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-sm font-semibold text-gray-700",children:"Alertas de Caixa Crtico"}),l.jsx("span",{className:"block text-xs text-gray-500",children:"Receber e-mail quando um cliente entrar no vermelho."})]})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-sm font-semibold text-gray-700",children:"Resumo Semanal"}),l.jsx("span",{className:"block text-xs text-gray-500",children:"Receber relatrio consolidado toda segunda-feira."})]})]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Kg,{size:18})," Aparncia"]}),l.jsx("div",{className:"flex gap-4",children:["indigo","blue","emerald","gray"].map(s=>l.jsx("button",{onClick:()=>a({...n,primaryColor:s}),className:`w-10 h-10 rounded-full border-2 transition-all flex items-center justify-center ${n.primaryColor===s?"border-gray-800 scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:s==="indigo"?"#4f46e5":s==="blue"?"#2563eb":s==="emerald"?"#059669":"#4b5563"},children:n.primaryColor===s&&l.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})},s))})]})]})]})]})};var Lme={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fme,Bme;function Ume(){return{geminiUrl:Fme,vertexUrl:Bme}}function zme(e,t,r,n){var a,i;if(!(e!=null&&e.baseUrl)){const s=Ume();return t?(a=s.vertexUrl)!==null&&a!==void 0?a:r:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo{}function Ze(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const i=t[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function E(e,t,r){for(let i=0;i<t.length-1;i++){const s=t[i];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[o])){const u=e[o];if(Array.isArray(r))for(let d=0;d<u.length;d++){const h=u[d];E(h,t.slice(i+1),r[d])}else for(const d of u)E(d,t.slice(i+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in e||(e[o]=[{}]);const u=e[o];E(u[0],t.slice(i+1),r);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const n=t[t.length-1],a=e[n];if(a!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===a)return;if(typeof a=="object"&&typeof r=="object"&&a!==null&&r!==null)Object.assign(a,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function w(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const a=t[n];if(a.endsWith("[]")){const i=a.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(o=>w(o,t.slice(n+1),r)):r}else return r}else e=e[a]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function $me(e,t){for(const[r,n]of Object.entries(t)){const a=r.split("."),i=n.split("."),s=new Set;let o=-1;for(let u=0;u<a.length;u++)if(a[u]==="*"){o=u;break}if(o!==-1&&i.length>o)for(let u=o;u<i.length;u++){const d=i[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}x2(e,a,i,0,s)}}function x2(e,t,r,n,a){if(n>=t.length||typeof e!="object"||e===null)return;const i=t[n];if(i.endsWith("[]")){const s=i.slice(0,-2),o=e;if(s in o&&Array.isArray(o[s]))for(const u of o[s])x2(u,t,r,n+1,a)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,o=Object.keys(s).filter(d=>!d.startsWith("_")&&!a.has(d)),u={};for(const d of o)u[d]=s[d];for(const[d,h]of Object.entries(u)){const m=[];for(const g of r.slice(n))g==="*"?m.push(d):m.push(g);E(s,m,h)}for(const d of o)delete s[d]}}else{const s=e;i in s&&x2(s[i],t,r,n+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vme(e){const t={},r=w(e,["operationName"]);r!=null&&E(t,["operationName"],r);const n=w(e,["resourceName"]);return n!=null&&E(t,["_url","resourceName"],n),t}function Hme(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response","generateVideoResponse"]);return s!=null&&E(t,["response"],qme(s)),t}function Gme(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response"]);return s!=null&&E(t,["response"],Wme(s)),t}function qme(e){const t={},r=w(e,["generatedSamples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Kme(s))),E(t,["generatedVideos"],i)}const n=w(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const a=w(e,["raiMediaFilteredReasons"]);return a!=null&&E(t,["raiMediaFilteredReasons"],a),t}function Wme(e){const t={},r=w(e,["videos"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Yme(s))),E(t,["generatedVideos"],i)}const n=w(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const a=w(e,["raiMediaFilteredReasons"]);return a!=null&&E(t,["raiMediaFilteredReasons"],a),t}function Kme(e){const t={},r=w(e,["video"]);return r!=null&&E(t,["video"],tpe(r)),t}function Yme(e){const t={},r=w(e,["_self"]);return r!=null&&E(t,["video"],rpe(r)),t}function Xme(e){const t={},r=w(e,["operationName"]);return r!=null&&E(t,["_url","operationName"],r),t}function Jme(e){const t={},r=w(e,["operationName"]);return r!=null&&E(t,["_url","operationName"],r),t}function Zme(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response"]);return s!=null&&E(t,["response"],Qme(s)),t}function Qme(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["parent"]);n!=null&&E(t,["parent"],n);const a=w(e,["documentName"]);return a!=null&&E(t,["documentName"],a),t}function bU(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response"]);return s!=null&&E(t,["response"],epe(s)),t}function epe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["parent"]);n!=null&&E(t,["parent"],n);const a=w(e,["documentName"]);return a!=null&&E(t,["documentName"],a),t}function tpe(e){const t={},r=w(e,["uri"]);r!=null&&E(t,["uri"],r);const n=w(e,["encodedVideo"]);n!=null&&E(t,["videoBytes"],qT(n));const a=w(e,["encoding"]);return a!=null&&E(t,["mimeType"],a),t}function rpe(e){const t={},r=w(e,["gcsUri"]);r!=null&&E(t,["uri"],r);const n=w(e,["bytesBase64Encoded"]);n!=null&&E(t,["videoBytes"],qT(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hM;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hM||(hM={}));var mM;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(mM||(mM={}));var pM;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(pM||(pM={}));var Un;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Un||(Un={}));var gM;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gM||(gM={}));var xM;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(xM||(xM={}));var vM;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vM||(vM={}));var yM;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yM||(yM={}));var bM;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(bM||(bM={}));var wM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wM||(wM={}));var _M;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(_M||(_M={}));var EM;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(EM||(EM={}));var SM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(SM||(SM={}));var TM;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(TM||(TM={}));var NM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(NM||(NM={}));var AM;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(AM||(AM={}));var CM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(CM||(CM={}));var kM;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kM||(kM={}));var IM;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(IM||(IM={}));var jM;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(jM||(jM={}));var RM;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(RM||(RM={}));var Gx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gx||(Gx={}));var OM;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(OM||(OM={}));var DM;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(DM||(DM={}));var MM;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(MM||(MM={}));var v2;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(v2||(v2={}));var PM;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(PM||(PM={}));var LM;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(LM||(LM={}));var FM;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(FM||(FM={}));var BM;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BM||(BM={}));var UM;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(UM||(UM={}));var zM;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(zM||(zM={}));var $M;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})($M||($M={}));var VM;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(VM||(VM={}));var HM;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(HM||(HM={}));var GM;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(GM||(GM={}));var qM;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qM||(qM={}));var WM;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(WM||(WM={}));var KM;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(KM||(KM={}));var YM;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(YM||(YM={}));var XM;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(XM||(XM={}));var JM;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(JM||(JM={}));var ZM;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(ZM||(ZM={}));var QM;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(QM||(QM={}));var eP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(eP||(eP={}));var tP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tP||(tP={}));var rP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(rP||(rP={}));var nP;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(nP||(nP={}));var aP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(aP||(aP={}));var iP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(iP||(iP={}));var sP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(sP||(sP={}));var oP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(oP||(oP={}));var lP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lP||(lP={}));var cP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(cP||(cP={}));var Md;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Md||(Md={}));class y2{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class k0{get text(){var t,r,n,a,i,s,o,u;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(u=(o=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[x,b]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&m.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,r,n,a,i,s,o,u;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(u=(o=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[g,x]of Object.entries(m))g!=="inlineData"&&(x!==null||x!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,r,n,a,i,s,o,u;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(o=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,r,n,a,i,s,o,u,d;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(o=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,r,n,a,i,s,o,u,d;if(((a=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(o=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class uP{}class dP{}class npe{}class ape{}class ipe{}class spe{}class fP{}class hP{}class mP{}class ope{}class qx{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new qx;let a;const i=t;return r?a=Gme(i):a=Hme(i),Object.assign(n,a),n}}class pP{}class gP{}class xP{}class vP{}class lpe{}class cpe{}class upe{}class WT{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new WT,i=Zme(t);return Object.assign(n,i),n}}class dpe{}class fpe{}class hpe{}class yP{}class mpe{get text(){var t,r,n;let a="",i=!1;const s=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[u,d]of Object.entries(o))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;i=!0,a+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var t,r,n;let a="";const i=[];for(const s of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,u]of Object.entries(s))o!=="inlineData"&&u!==null&&i.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class ppe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class KT{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new KT,i=bU(t);return Object.assign(n,i),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function wU(e,t){const r=zt(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function _U(e){return Array.isArray(e)?e.map(t=>Wx(t)):[Wx(e)]}function Wx(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function EU(e){const t=Wx(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function SU(e){const t=Wx(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bP(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function TU(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>bP(t)):[bP(e)]}function b2(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function wP(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function _P(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ea(e){if(e==null)throw new Error("ContentUnion is required");return b2(e)?e:{role:"user",parts:TU(e)}}function YT(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=ea(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=ea(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>ea(r)):[ea(t)]}function ji(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(wP(e)||_P(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ea(e)]}const t=[],r=[],n=b2(e[0]);for(const a of e){const i=b2(a);if(i!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(a);else{if(wP(a)||_P(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return n||t.push({role:"user",parts:TU(r)}),t}function gpe(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Un).includes(r[0].toUpperCase())?r[0].toUpperCase():Un.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Un).includes(n.toUpperCase())?n.toUpperCase():Un.TYPE_UNSPECIFIED})}}function $d(e){const t={},r=["items"],n=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&gpe(e.type,t);for(const[s,o]of Object.entries(e))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Un).includes(o.toUpperCase())?o.toUpperCase():Un.TYPE_UNSPECIFIED}else if(r.includes(s))t[s]=$d(o);else if(n.includes(s)){const u=[];for(const d of o){if(d.type=="null"){t.nullable=!0;continue}u.push($d(d))}t[s]=u}else if(a.includes(s)){const u={};for(const[d,h]of Object.entries(o))u[d]=$d(h);t[s]=u}else{if(s==="additionalProperties")continue;t[s]=o}return t}function XT(e){return $d(e)}function JT(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ZT(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function wf(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=$d(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=$d(t.response));return e}function _f(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function xpe(e,t,r,n=1){const a=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:a?`${r}/${t}`:t}function zo(e,t){if(typeof t!="string")throw new Error("name must be a string");return xpe(e,t,"cachedContents")}function NU(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Gl(e){return qT(e)}function vpe(e){return e!=null&&typeof e=="object"&&"name"in e}function ype(e){return e!=null&&typeof e=="object"&&"video"in e}function bpe(e){return e!=null&&typeof e=="object"&&"uri"in e}function AU(e){var t;let r;if(vpe(e)&&(r=e.name),!(bpe(e)&&(r=e.uri,r===void 0))&&!(ype(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function CU(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function kU(e){for(const t of["models","tunedModels","publisherModels"])if(wpe(e,t))return e[t];return[]}function wpe(e,t){return e!==null&&typeof e=="object"&&t in e}function _pe(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function Epe(e,t={}){const r=[],n=new Set;for(const a of e){const i=a.name;if(n.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);n.add(i);const s=_pe(a,t);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function IU(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,a=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Spe(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jU(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const a=r.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let i=!1;for(const s of a){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ef(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function RU(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tpe(e){const t={},r=w(e,["responsesFile"]);r!=null&&E(t,["fileName"],r);const n=w(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ige(s))),E(t,["inlinedResponses"],i)}const a=w(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["inlinedEmbedContentResponses"],i)}return t}function Npe(e){const t={},r=w(e,["predictionsFormat"]);r!=null&&E(t,["format"],r);const n=w(e,["gcsDestination","outputUriPrefix"]);n!=null&&E(t,["gcsUri"],n);const a=w(e,["bigqueryDestination","outputUri"]);return a!=null&&E(t,["bigqueryUri"],a),t}function Ape(e){const t={},r=w(e,["format"]);r!=null&&E(t,["predictionsFormat"],r);const n=w(e,["gcsUri"]);n!=null&&E(t,["gcsDestination","outputUriPrefix"],n);const a=w(e,["bigqueryUri"]);if(a!=null&&E(t,["bigqueryDestination","outputUri"],a),w(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(w(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Og(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata","displayName"]);n!=null&&E(t,["displayName"],n);const a=w(e,["metadata","state"]);a!=null&&E(t,["state"],RU(a));const i=w(e,["metadata","createTime"]);i!=null&&E(t,["createTime"],i);const s=w(e,["metadata","endTime"]);s!=null&&E(t,["endTime"],s);const o=w(e,["metadata","updateTime"]);o!=null&&E(t,["updateTime"],o);const u=w(e,["metadata","model"]);u!=null&&E(t,["model"],u);const d=w(e,["metadata","output"]);return d!=null&&E(t,["dest"],Tpe(jU(d))),t}function w2(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["displayName"]);n!=null&&E(t,["displayName"],n);const a=w(e,["state"]);a!=null&&E(t,["state"],RU(a));const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["createTime"]);s!=null&&E(t,["createTime"],s);const o=w(e,["startTime"]);o!=null&&E(t,["startTime"],o);const u=w(e,["endTime"]);u!=null&&E(t,["endTime"],u);const d=w(e,["updateTime"]);d!=null&&E(t,["updateTime"],d);const h=w(e,["model"]);h!=null&&E(t,["model"],h);const m=w(e,["inputConfig"]);m!=null&&E(t,["src"],Cpe(m));const g=w(e,["outputConfig"]);g!=null&&E(t,["dest"],Npe(jU(g)));const x=w(e,["completionStats"]);return x!=null&&E(t,["completionStats"],x),t}function Cpe(e){const t={},r=w(e,["instancesFormat"]);r!=null&&E(t,["format"],r);const n=w(e,["gcsSource","uris"]);n!=null&&E(t,["gcsUri"],n);const a=w(e,["bigquerySource","inputUri"]);return a!=null&&E(t,["bigqueryUri"],a),t}function kpe(e,t){const r={};if(w(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=w(t,["fileName"]);n!=null&&E(r,["fileName"],n);const a=w(t,["inlinedRequests"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>age(e,s))),E(r,["requests","requests"],i)}return r}function Ipe(e){const t={},r=w(e,["format"]);r!=null&&E(t,["instancesFormat"],r);const n=w(e,["gcsUri"]);n!=null&&E(t,["gcsSource","uris"],n);const a=w(e,["bigqueryUri"]);if(a!=null&&E(t,["bigquerySource","inputUri"],a),w(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function jpe(e){const t={},r=w(e,["data"]);if(r!=null&&E(t,["data"],r),w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Rpe(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function Ope(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function Dpe(e){const t={},r=w(e,["content"]);r!=null&&E(t,["content"],r);const n=w(e,["citationMetadata"]);n!=null&&E(t,["citationMetadata"],Mpe(n));const a=w(e,["tokenCount"]);a!=null&&E(t,["tokenCount"],a);const i=w(e,["finishReason"]);i!=null&&E(t,["finishReason"],i);const s=w(e,["avgLogprobs"]);s!=null&&E(t,["avgLogprobs"],s);const o=w(e,["groundingMetadata"]);o!=null&&E(t,["groundingMetadata"],o);const u=w(e,["index"]);u!=null&&E(t,["index"],u);const d=w(e,["logprobsResult"]);d!=null&&E(t,["logprobsResult"],d);const h=w(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),E(t,["safetyRatings"],g)}const m=w(e,["urlContextMetadata"]);return m!=null&&E(t,["urlContextMetadata"],m),t}function Mpe(e){const t={},r=w(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>a)),E(t,["citations"],n)}return t}function OU(e){const t={},r=w(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>fge(i))),E(t,["parts"],a)}const n=w(e,["role"]);return n!=null&&E(t,["role"],n),t}function Ppe(e,t){const r={},n=w(e,["displayName"]);if(t!==void 0&&n!=null&&E(t,["batch","displayName"],n),w(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Lpe(e,t){const r={},n=w(e,["displayName"]);t!==void 0&&n!=null&&E(t,["displayName"],n);const a=w(e,["dest"]);return t!==void 0&&a!=null&&E(t,["outputConfig"],Ape(Spe(a))),r}function EP(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["src"]);a!=null&&E(r,["batch","inputConfig"],kpe(e,IU(e,a)));const i=w(t,["config"]);return i!=null&&Ppe(i,r),r}function Fpe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["model"],zt(e,n));const a=w(t,["src"]);a!=null&&E(r,["inputConfig"],Ipe(IU(e,a)));const i=w(t,["config"]);return i!=null&&Lpe(i,r),r}function Bpe(e,t){const r={},n=w(e,["displayName"]);return t!==void 0&&n!=null&&E(t,["batch","displayName"],n),r}function Upe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["src"]);a!=null&&E(r,["batch","inputConfig"],Wpe(e,a));const i=w(t,["config"]);return i!=null&&Bpe(i,r),r}function zpe(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function $pe(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function Vpe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["name"]);n!=null&&E(t,["name"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);return i!=null&&E(t,["error"],i),t}function Hpe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["name"]);n!=null&&E(t,["name"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);return i!=null&&E(t,["error"],i),t}function Gpe(e,t){const r={},n=w(t,["contents"]);if(n!=null){let i=YT(e,n);Array.isArray(i)&&(i=i.map(s=>s)),E(r,["requests[]","request","content"],i)}const a=w(t,["config"]);return a!=null&&(E(r,["_self"],qpe(a,r)),$me(r,{"requests[].*":"requests[].request.*"})),r}function qpe(e,t){const r={},n=w(e,["taskType"]);t!==void 0&&n!=null&&E(t,["requests[]","taskType"],n);const a=w(e,["title"]);t!==void 0&&a!=null&&E(t,["requests[]","title"],a);const i=w(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&E(t,["requests[]","outputDimensionality"],i),w(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Wpe(e,t){const r={},n=w(t,["fileName"]);n!=null&&E(r,["file_name"],n);const a=w(t,["inlinedRequests"]);return a!=null&&E(r,["requests"],Gpe(e,a)),r}function Kpe(e){const t={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Ype(e){const t={},r=w(e,["id"]);r!=null&&E(t,["id"],r);const n=w(e,["args"]);n!=null&&E(t,["args"],n);const a=w(e,["name"]);if(a!=null&&E(t,["name"],a),w(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Xpe(e){const t={},r=w(e,["allowedFunctionNames"]);r!=null&&E(t,["allowedFunctionNames"],r);const n=w(e,["mode"]);if(n!=null&&E(t,["mode"],n),w(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Jpe(e,t,r){const n={},a=w(t,["systemInstruction"]);r!==void 0&&a!=null&&E(r,["systemInstruction"],OU(ea(a)));const i=w(t,["temperature"]);i!=null&&E(n,["temperature"],i);const s=w(t,["topP"]);s!=null&&E(n,["topP"],s);const o=w(t,["topK"]);o!=null&&E(n,["topK"],o);const u=w(t,["candidateCount"]);u!=null&&E(n,["candidateCount"],u);const d=w(t,["maxOutputTokens"]);d!=null&&E(n,["maxOutputTokens"],d);const h=w(t,["stopSequences"]);h!=null&&E(n,["stopSequences"],h);const m=w(t,["responseLogprobs"]);m!=null&&E(n,["responseLogprobs"],m);const g=w(t,["logprobs"]);g!=null&&E(n,["logprobs"],g);const x=w(t,["presencePenalty"]);x!=null&&E(n,["presencePenalty"],x);const b=w(t,["frequencyPenalty"]);b!=null&&E(n,["frequencyPenalty"],b);const y=w(t,["seed"]);y!=null&&E(n,["seed"],y);const _=w(t,["responseMimeType"]);_!=null&&E(n,["responseMimeType"],_);const N=w(t,["responseSchema"]);N!=null&&E(n,["responseSchema"],XT(N));const k=w(t,["responseJsonSchema"]);if(k!=null&&E(n,["responseJsonSchema"],k),w(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=w(t,["safetySettings"]);if(r!==void 0&&A!=null){let Y=A;Array.isArray(Y)&&(Y=Y.map(de=>hge(de))),E(r,["safetySettings"],Y)}const D=w(t,["tools"]);if(r!==void 0&&D!=null){let Y=_f(D);Array.isArray(Y)&&(Y=Y.map(de=>pge(wf(de)))),E(r,["tools"],Y)}const j=w(t,["toolConfig"]);if(r!==void 0&&j!=null&&E(r,["toolConfig"],mge(j)),w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=w(t,["cachedContent"]);r!==void 0&&O!=null&&E(r,["cachedContent"],zo(e,O));const I=w(t,["responseModalities"]);I!=null&&E(n,["responseModalities"],I);const M=w(t,["mediaResolution"]);M!=null&&E(n,["mediaResolution"],M);const R=w(t,["speechConfig"]);if(R!=null&&E(n,["speechConfig"],JT(R)),w(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=w(t,["thinkingConfig"]);z!=null&&E(n,["thinkingConfig"],z);const q=w(t,["imageConfig"]);q!=null&&E(n,["imageConfig"],nge(q));const F=w(t,["enableEnhancedCivicAnswers"]);return F!=null&&E(n,["enableEnhancedCivicAnswers"],F),n}function Zpe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>Dpe(d))),E(t,["candidates"],u)}const a=w(e,["modelVersion"]);a!=null&&E(t,["modelVersion"],a);const i=w(e,["promptFeedback"]);i!=null&&E(t,["promptFeedback"],i);const s=w(e,["responseId"]);s!=null&&E(t,["responseId"],s);const o=w(e,["usageMetadata"]);return o!=null&&E(t,["usageMetadata"],o),t}function Qpe(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function ege(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],Ef(e,n)),r}function tge(e){const t={};if(w(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function rge(e){const t={};if(w(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function nge(e){const t={},r=w(e,["aspectRatio"]);r!=null&&E(t,["aspectRatio"],r);const n=w(e,["imageSize"]);if(n!=null&&E(t,["imageSize"],n),w(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(w(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(w(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function age(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["request","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let o=ji(a);Array.isArray(o)&&(o=o.map(u=>OU(u))),E(r,["request","contents"],o)}const i=w(t,["metadata"]);i!=null&&E(r,["metadata"],i);const s=w(t,["config"]);return s!=null&&E(r,["request","generationConfig"],Jpe(e,s,w(r,["request"],{}))),r}function ige(e){const t={},r=w(e,["response"]);r!=null&&E(t,["response"],Zpe(r));const n=w(e,["error"]);return n!=null&&E(t,["error"],n),t}function sge(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);if(t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),w(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function oge(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);t!==void 0&&a!=null&&E(t,["_query","pageToken"],a);const i=w(e,["filter"]);return t!==void 0&&i!=null&&E(t,["_query","filter"],i),r}function lge(e){const t={},r=w(e,["config"]);return r!=null&&sge(r,t),t}function cge(e){const t={},r=w(e,["config"]);return r!=null&&oge(r,t),t}function uge(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["operations"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Og(s))),E(t,["batchJobs"],i)}return t}function dge(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["batchPredictionJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>w2(s))),E(t,["batchJobs"],i)}return t}function fge(e){const t={},r=w(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=w(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const a=w(e,["executableCode"]);a!=null&&E(t,["executableCode"],a);const i=w(e,["fileData"]);i!=null&&E(t,["fileData"],Kpe(i));const s=w(e,["functionCall"]);s!=null&&E(t,["functionCall"],Ype(s));const o=w(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const u=w(e,["inlineData"]);u!=null&&E(t,["inlineData"],jpe(u));const d=w(e,["text"]);d!=null&&E(t,["text"],d);const h=w(e,["thought"]);h!=null&&E(t,["thought"],h);const m=w(e,["thoughtSignature"]);m!=null&&E(t,["thoughtSignature"],m);const g=w(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function hge(e){const t={},r=w(e,["category"]);if(r!=null&&E(t,["category"],r),w(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(e,["threshold"]);return n!=null&&E(t,["threshold"],n),t}function mge(e){const t={},r=w(e,["retrievalConfig"]);r!=null&&E(t,["retrievalConfig"],r);const n=w(e,["functionCallingConfig"]);return n!=null&&E(t,["functionCallingConfig"],Xpe(n)),t}function pge(e){const t={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=w(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const a=w(e,["codeExecution"]);if(a!=null&&E(t,["codeExecution"],a),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=w(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),E(t,["functionDeclarations"],h)}const s=w(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],tge(s));const o=w(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],rge(o));const u=w(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=w(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ko;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ko||(ko={}));class gu{constructor(t,r,n,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,a)}init(t,r,n){var a,i;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gge extends Uo{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new gu(ko.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=EP(this.apiClient,t),n=r._url,a=Ze("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,u=o.requests,d=[];for(const h of u){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=g,m.request=x}d.push(m)}return o.requests=d,delete r.config,delete r._url,delete r._query,{path:a,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},a=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${a}`),n.dest===void 0){const i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?n.dest=`${i.slice(0,-6)}/dest`:n.dest=`${i}_dest_${a}`;else if(s)n.dest=`${s}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Fpe(this.apiClient,t);return o=Ze("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>w2(h))}else{const d=EP(this.apiClient,t);return o=Ze("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Og(h))}}async createEmbeddingsInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Upe(this.apiClient,t);return i=Ze("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>Og(u))}}async get(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=ege(this.apiClient,t);return o=Ze("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>w2(h))}else{const d=Qpe(this.apiClient,t);return o=Ze("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Og(h))}}async cancel(t){var r,n,a,i;let s="",o={};if(this.apiClient.isVertexAI()){const u=Ope(this.apiClient,t);s=Ze("batchPredictionJobs/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const u=Rpe(this.apiClient,t);s=Ze("batches/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=cge(t);return o=Ze("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=dge(h),g=new yP;return Object.assign(g,m),g})}else{const d=lge(t);return o=Ze("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=uge(h),g=new yP;return Object.assign(g,m),g})}}async delete(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=$pe(this.apiClient,t);return o=Ze("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Hpe(h))}else{const d=zpe(this.apiClient,t);return o=Ze("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Vpe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xge(e){const t={},r=w(e,["data"]);if(r!=null&&E(t,["data"],r),w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function SP(e){const t={},r=w(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Uge(i))),E(t,["parts"],a)}const n=w(e,["role"]);return n!=null&&E(t,["role"],n),t}function vge(e,t){const r={},n=w(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const a=w(e,["expireTime"]);t!==void 0&&a!=null&&E(t,["expireTime"],a);const i=w(e,["displayName"]);t!==void 0&&i!=null&&E(t,["displayName"],i);const s=w(e,["contents"]);if(t!==void 0&&s!=null){let h=ji(s);Array.isArray(h)&&(h=h.map(m=>SP(m))),E(t,["contents"],h)}const o=w(e,["systemInstruction"]);t!==void 0&&o!=null&&E(t,["systemInstruction"],SP(ea(o)));const u=w(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>$ge(m))),E(t,["tools"],h)}const d=w(e,["toolConfig"]);if(t!==void 0&&d!=null&&E(t,["toolConfig"],zge(d)),w(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function yge(e,t){const r={},n=w(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const a=w(e,["expireTime"]);t!==void 0&&a!=null&&E(t,["expireTime"],a);const i=w(e,["displayName"]);t!==void 0&&i!=null&&E(t,["displayName"],i);const s=w(e,["contents"]);if(t!==void 0&&s!=null){let m=ji(s);Array.isArray(m)&&(m=m.map(g=>g)),E(t,["contents"],m)}const o=w(e,["systemInstruction"]);t!==void 0&&o!=null&&E(t,["systemInstruction"],ea(o));const u=w(e,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>Vge(g))),E(t,["tools"],m)}const d=w(e,["toolConfig"]);t!==void 0&&d!=null&&E(t,["toolConfig"],d);const h=w(e,["kmsKeyName"]);return t!==void 0&&h!=null&&E(t,["encryption_spec","kmsKeyName"],h),r}function bge(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["model"],wU(e,n));const a=w(t,["config"]);return a!=null&&vge(a,r),r}function wge(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["model"],wU(e,n));const a=w(t,["config"]);return a!=null&&yge(a,r),r}function _ge(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],zo(e,n)),r}function Ege(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],zo(e,n)),r}function Sge(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function Tge(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function Nge(e){const t={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Age(e){const t={},r=w(e,["id"]);r!=null&&E(t,["id"],r);const n=w(e,["args"]);n!=null&&E(t,["args"],n);const a=w(e,["name"]);if(a!=null&&E(t,["name"],a),w(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Cge(e){const t={},r=w(e,["allowedFunctionNames"]);r!=null&&E(t,["allowedFunctionNames"],r);const n=w(e,["mode"]);if(n!=null&&E(t,["mode"],n),w(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kge(e){const t={},r=w(e,["description"]);r!=null&&E(t,["description"],r);const n=w(e,["name"]);n!=null&&E(t,["name"],n);const a=w(e,["parameters"]);a!=null&&E(t,["parameters"],a);const i=w(e,["parametersJsonSchema"]);i!=null&&E(t,["parametersJsonSchema"],i);const s=w(e,["response"]);s!=null&&E(t,["response"],s);const o=w(e,["responseJsonSchema"]);if(o!=null&&E(t,["responseJsonSchema"],o),w(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ige(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],zo(e,n)),r}function jge(e,t){const r={},n=w(t,["name"]);return n!=null&&E(r,["_url","name"],zo(e,n)),r}function Rge(e){const t={};if(w(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function Oge(e){const t={};if(w(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function Dge(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);return t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),r}function Mge(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);return t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),r}function Pge(e){const t={},r=w(e,["config"]);return r!=null&&Dge(r,t),t}function Lge(e){const t={},r=w(e,["config"]);return r!=null&&Mge(r,t),t}function Fge(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["cachedContents"],i)}return t}function Bge(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["cachedContents"],i)}return t}function Uge(e){const t={},r=w(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=w(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const a=w(e,["executableCode"]);a!=null&&E(t,["executableCode"],a);const i=w(e,["fileData"]);i!=null&&E(t,["fileData"],Nge(i));const s=w(e,["functionCall"]);s!=null&&E(t,["functionCall"],Age(s));const o=w(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const u=w(e,["inlineData"]);u!=null&&E(t,["inlineData"],xge(u));const d=w(e,["text"]);d!=null&&E(t,["text"],d);const h=w(e,["thought"]);h!=null&&E(t,["thought"],h);const m=w(e,["thoughtSignature"]);m!=null&&E(t,["thoughtSignature"],m);const g=w(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function zge(e){const t={},r=w(e,["retrievalConfig"]);r!=null&&E(t,["retrievalConfig"],r);const n=w(e,["functionCallingConfig"]);return n!=null&&E(t,["functionCallingConfig"],Cge(n)),t}function $ge(e){const t={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=w(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const a=w(e,["codeExecution"]);if(a!=null&&E(t,["codeExecution"],a),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=w(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),E(t,["functionDeclarations"],h)}const s=w(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],Rge(s));const o=w(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],Oge(o));const u=w(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=w(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}function Vge(e){const t={},r=w(e,["retrieval"]);r!=null&&E(t,["retrieval"],r);const n=w(e,["computerUse"]);if(n!=null&&E(t,["computerUse"],n),w(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=w(e,["codeExecution"]);a!=null&&E(t,["codeExecution"],a);const i=w(e,["enterpriseWebSearch"]);i!=null&&E(t,["enterpriseWebSearch"],i);const s=w(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>kge(g))),E(t,["functionDeclarations"],m)}const o=w(e,["googleMaps"]);o!=null&&E(t,["googleMaps"],o);const u=w(e,["googleSearch"]);u!=null&&E(t,["googleSearch"],u);const d=w(e,["googleSearchRetrieval"]);d!=null&&E(t,["googleSearchRetrieval"],d);const h=w(e,["urlContext"]);return h!=null&&E(t,["urlContext"],h),t}function Hge(e,t){const r={},n=w(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const a=w(e,["expireTime"]);return t!==void 0&&a!=null&&E(t,["expireTime"],a),r}function Gge(e,t){const r={},n=w(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const a=w(e,["expireTime"]);return t!==void 0&&a!=null&&E(t,["expireTime"],a),r}function qge(e,t){const r={},n=w(t,["name"]);n!=null&&E(r,["_url","name"],zo(e,n));const a=w(t,["config"]);return a!=null&&Hge(a,r),r}function Wge(e,t){const r={},n=w(t,["name"]);n!=null&&E(r,["_url","name"],zo(e,n));const a=w(t,["config"]);return a!=null&&Gge(a,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kge extends Uo{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new gu(ko.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=wge(this.apiClient,t);return o=Ze("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=bge(this.apiClient,t);return o=Ze("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=jge(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Ige(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Ege(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Tge(h),g=new xP;return Object.assign(g,m),g})}else{const d=_ge(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Sge(h),g=new xP;return Object.assign(g,m),g})}}async update(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Wge(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=qge(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Lge(t);return o=Ze("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Bge(h),g=new vP;return Object.assign(g,m),g})}else{const d=Pge(t);return o=Ze("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Fge(h),g=new vP;return Object.assign(g,m),g})}}}function Kx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function TP(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(e){return this instanceof vt?(this.v=e,this):new vt(e)}function ns(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(x){return function(b){return Promise.resolve(b).then(x,m)}}function o(x,b){n[x]&&(a[x]=function(y){return new Promise(function(_,N){i.push([x,y,_,N])>1||u(x,y)})},b&&(a[x]=b(a[x])))}function u(x,b){try{d(n[x](b))}catch(y){g(i[0][3],y)}}function d(x){x.value instanceof vt?Promise.resolve(x.value.v).then(h,m):g(i[0][2],x)}function h(x){u("next",x)}function m(x){u("throw",x)}function g(x,b){x(b),i.shift(),i.length&&u(i[0][0],i[0][1])}}function as(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof TP=="function"?TP(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,u){s=e[i](s),a(o,u,s.done,s.value)})}}function a(i,s,o,u){Promise.resolve(u).then(function(d){i({value:d,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yge(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:DU(r)}function DU(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Xge(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function NP(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const a=[];let i=!0;for(;n<r&&e[n].role==="model";)a.push(e[n]),i&&!DU(e[n])&&(i=!1),n++;i?t.push(...a):t.pop()}return t}class Jge{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new Zge(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Zge{constructor(t,r,n,a={},i=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),Xge(i)}async sendMessage(t){var r;await this.sendPromise;const n=ea(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var i,s,o;const u=await a,d=(s=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=u.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(o=h.slice(m))!==null&&o!==void 0?o:[]);const x=d?[d]:[];this.recordHistory(n,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var r;await this.sendPromise;const n=ea(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,n)}getHistory(t=!1){const r=t?NP(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return ns(this,arguments,function*(){var a,i,s,o,u,d;const h=[];try{for(var m=!0,g=as(t),x;x=yield vt(g.next()),a=x.done,!a;m=!0){o=x.value,m=!1;const b=o;if(Yge(b)){const y=(d=(u=b.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content;y!==void 0&&h.push(y)}yield yield vt(b)}}catch(b){i={error:b}}finally{try{!m&&!a&&(s=g.return)&&(yield vt(s.call(g)))}finally{if(i)throw i.error}}this.recordHistory(r,h)})}recordHistory(t,r,n){let a=[];r.length>0&&r.every(i=>i.role!==void 0)?a=r:a.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...NP(n)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uy extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,uy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qge(e){const t={},r=w(e,["file"]);return r!=null&&E(t,["file"],r),t}function exe(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function txe(e){const t={},r=w(e,["name"]);return r!=null&&E(t,["_url","file"],AU(r)),t}function rxe(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function nxe(e){const t={},r=w(e,["name"]);return r!=null&&E(t,["_url","file"],AU(r)),t}function axe(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);return t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),r}function ixe(e){const t={},r=w(e,["config"]);return r!=null&&axe(r,t),t}function sxe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oxe extends Uo{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new gu(ko.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ixe(t);return i=Ze("files",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const d=sxe(u),h=new dpe;return Object.assign(h,d),h})}}async createInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qge(t);return i=Ze("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=exe(u),h=new fpe;return Object.assign(h,d),h})}}async get(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nxe(t);return i=Ze("files/{file}",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async delete(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=txe(t);return i=Ze("files/{file}",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const d=rxe(u),h=new hpe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dg(e){const t={},r=w(e,["data"]);if(r!=null&&E(t,["data"],r),w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function lxe(e){const t={},r=w(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Sxe(i))),E(t,["parts"],a)}const n=w(e,["role"]);return n!=null&&E(t,["role"],n),t}function cxe(e){const t={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function uxe(e){const t={},r=w(e,["id"]);r!=null&&E(t,["id"],r);const n=w(e,["args"]);n!=null&&E(t,["args"],n);const a=w(e,["name"]);if(a!=null&&E(t,["name"],a),w(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function dxe(e){const t={},r=w(e,["description"]);r!=null&&E(t,["description"],r);const n=w(e,["name"]);n!=null&&E(t,["name"],n);const a=w(e,["parameters"]);a!=null&&E(t,["parameters"],a);const i=w(e,["parametersJsonSchema"]);i!=null&&E(t,["parametersJsonSchema"],i);const s=w(e,["response"]);s!=null&&E(t,["response"],s);const o=w(e,["responseJsonSchema"]);if(o!=null&&E(t,["responseJsonSchema"],o),w(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function fxe(e){const t={},r=w(e,["modelSelectionConfig"]);r!=null&&E(t,["modelConfig"],r);const n=w(e,["responseJsonSchema"]);n!=null&&E(t,["responseJsonSchema"],n);const a=w(e,["audioTimestamp"]);a!=null&&E(t,["audioTimestamp"],a);const i=w(e,["candidateCount"]);i!=null&&E(t,["candidateCount"],i);const s=w(e,["enableAffectiveDialog"]);s!=null&&E(t,["enableAffectiveDialog"],s);const o=w(e,["frequencyPenalty"]);o!=null&&E(t,["frequencyPenalty"],o);const u=w(e,["logprobs"]);u!=null&&E(t,["logprobs"],u);const d=w(e,["maxOutputTokens"]);d!=null&&E(t,["maxOutputTokens"],d);const h=w(e,["mediaResolution"]);h!=null&&E(t,["mediaResolution"],h);const m=w(e,["presencePenalty"]);m!=null&&E(t,["presencePenalty"],m);const g=w(e,["responseLogprobs"]);g!=null&&E(t,["responseLogprobs"],g);const x=w(e,["responseMimeType"]);x!=null&&E(t,["responseMimeType"],x);const b=w(e,["responseModalities"]);b!=null&&E(t,["responseModalities"],b);const y=w(e,["responseSchema"]);y!=null&&E(t,["responseSchema"],y);const _=w(e,["routingConfig"]);_!=null&&E(t,["routingConfig"],_);const N=w(e,["seed"]);N!=null&&E(t,["seed"],N);const k=w(e,["speechConfig"]);k!=null&&E(t,["speechConfig"],k);const A=w(e,["stopSequences"]);A!=null&&E(t,["stopSequences"],A);const D=w(e,["temperature"]);D!=null&&E(t,["temperature"],D);const j=w(e,["thinkingConfig"]);j!=null&&E(t,["thinkingConfig"],j);const O=w(e,["topK"]);O!=null&&E(t,["topK"],O);const I=w(e,["topP"]);if(I!=null&&E(t,["topP"],I),w(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function hxe(e){const t={};if(w(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function mxe(e){const t={};if(w(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function pxe(e,t){const r={},n=w(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],n);const a=w(e,["responseModalities"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","responseModalities"],a);const i=w(e,["temperature"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","temperature"],i);const s=w(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=w(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const u=w(e,["maxOutputTokens"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","maxOutputTokens"],u);const d=w(e,["mediaResolution"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","mediaResolution"],d);const h=w(e,["seed"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","seed"],h);const m=w(e,["speechConfig"]);t!==void 0&&m!=null&&E(t,["setup","generationConfig","speechConfig"],ZT(m));const g=w(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=w(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=w(e,["systemInstruction"]);t!==void 0&&b!=null&&E(t,["setup","systemInstruction"],lxe(ea(b)));const y=w(e,["tools"]);if(t!==void 0&&y!=null){let O=_f(y);Array.isArray(O)&&(O=O.map(I=>Nxe(wf(I)))),E(t,["setup","tools"],O)}const _=w(e,["sessionResumption"]);t!==void 0&&_!=null&&E(t,["setup","sessionResumption"],Txe(_));const N=w(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&E(t,["setup","inputAudioTranscription"],N);const k=w(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&E(t,["setup","outputAudioTranscription"],k);const A=w(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&E(t,["setup","realtimeInputConfig"],A);const D=w(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const j=w(e,["proactivity"]);if(t!==void 0&&j!=null&&E(t,["setup","proactivity"],j),w(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function gxe(e,t){const r={},n=w(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],fxe(n));const a=w(e,["responseModalities"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","responseModalities"],a);const i=w(e,["temperature"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","temperature"],i);const s=w(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=w(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const u=w(e,["maxOutputTokens"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","maxOutputTokens"],u);const d=w(e,["mediaResolution"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","mediaResolution"],d);const h=w(e,["seed"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","seed"],h);const m=w(e,["speechConfig"]);t!==void 0&&m!=null&&E(t,["setup","generationConfig","speechConfig"],ZT(m));const g=w(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=w(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=w(e,["systemInstruction"]);t!==void 0&&b!=null&&E(t,["setup","systemInstruction"],ea(b));const y=w(e,["tools"]);if(t!==void 0&&y!=null){let I=_f(y);Array.isArray(I)&&(I=I.map(M=>Axe(wf(M)))),E(t,["setup","tools"],I)}const _=w(e,["sessionResumption"]);t!==void 0&&_!=null&&E(t,["setup","sessionResumption"],_);const N=w(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&E(t,["setup","inputAudioTranscription"],N);const k=w(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&E(t,["setup","outputAudioTranscription"],k);const A=w(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&E(t,["setup","realtimeInputConfig"],A);const D=w(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const j=w(e,["proactivity"]);t!==void 0&&j!=null&&E(t,["setup","proactivity"],j);const O=w(e,["explicitVadSignal"]);return t!==void 0&&O!=null&&E(t,["setup","explicitVadSignal"],O),r}function xxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["setup","model"],zt(e,n));const a=w(t,["config"]);return a!=null&&E(r,["config"],pxe(a,r)),r}function vxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["setup","model"],zt(e,n));const a=w(t,["config"]);return a!=null&&E(r,["config"],gxe(a,r)),r}function yxe(e){const t={},r=w(e,["musicGenerationConfig"]);return r!=null&&E(t,["musicGenerationConfig"],r),t}function bxe(e){const t={},r=w(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>a)),E(t,["weightedPrompts"],n)}return t}function wxe(e){const t={},r=w(e,["media"]);if(r!=null){let d=_U(r);Array.isArray(d)&&(d=d.map(h=>Dg(h))),E(t,["mediaChunks"],d)}const n=w(e,["audio"]);n!=null&&E(t,["audio"],Dg(SU(n)));const a=w(e,["audioStreamEnd"]);a!=null&&E(t,["audioStreamEnd"],a);const i=w(e,["video"]);i!=null&&E(t,["video"],Dg(EU(i)));const s=w(e,["text"]);s!=null&&E(t,["text"],s);const o=w(e,["activityStart"]);o!=null&&E(t,["activityStart"],o);const u=w(e,["activityEnd"]);return u!=null&&E(t,["activityEnd"],u),t}function _xe(e){const t={},r=w(e,["media"]);if(r!=null){let d=_U(r);Array.isArray(d)&&(d=d.map(h=>h)),E(t,["mediaChunks"],d)}const n=w(e,["audio"]);n!=null&&E(t,["audio"],SU(n));const a=w(e,["audioStreamEnd"]);a!=null&&E(t,["audioStreamEnd"],a);const i=w(e,["video"]);i!=null&&E(t,["video"],EU(i));const s=w(e,["text"]);s!=null&&E(t,["text"],s);const o=w(e,["activityStart"]);o!=null&&E(t,["activityStart"],o);const u=w(e,["activityEnd"]);return u!=null&&E(t,["activityEnd"],u),t}function Exe(e){const t={},r=w(e,["setupComplete"]);r!=null&&E(t,["setupComplete"],r);const n=w(e,["serverContent"]);n!=null&&E(t,["serverContent"],n);const a=w(e,["toolCall"]);a!=null&&E(t,["toolCall"],a);const i=w(e,["toolCallCancellation"]);i!=null&&E(t,["toolCallCancellation"],i);const s=w(e,["usageMetadata"]);s!=null&&E(t,["usageMetadata"],Cxe(s));const o=w(e,["goAway"]);o!=null&&E(t,["goAway"],o);const u=w(e,["sessionResumptionUpdate"]);u!=null&&E(t,["sessionResumptionUpdate"],u);const d=w(e,["voiceActivityDetectionSignal"]);return d!=null&&E(t,["voiceActivityDetectionSignal"],d),t}function Sxe(e){const t={},r=w(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=w(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const a=w(e,["executableCode"]);a!=null&&E(t,["executableCode"],a);const i=w(e,["fileData"]);i!=null&&E(t,["fileData"],cxe(i));const s=w(e,["functionCall"]);s!=null&&E(t,["functionCall"],uxe(s));const o=w(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const u=w(e,["inlineData"]);u!=null&&E(t,["inlineData"],Dg(u));const d=w(e,["text"]);d!=null&&E(t,["text"],d);const h=w(e,["thought"]);h!=null&&E(t,["thought"],h);const m=w(e,["thoughtSignature"]);m!=null&&E(t,["thoughtSignature"],m);const g=w(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function Txe(e){const t={},r=w(e,["handle"]);if(r!=null&&E(t,["handle"],r),w(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Nxe(e){const t={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=w(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const a=w(e,["codeExecution"]);if(a!=null&&E(t,["codeExecution"],a),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=w(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),E(t,["functionDeclarations"],h)}const s=w(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],hxe(s));const o=w(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],mxe(o));const u=w(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=w(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}function Axe(e){const t={},r=w(e,["retrieval"]);r!=null&&E(t,["retrieval"],r);const n=w(e,["computerUse"]);if(n!=null&&E(t,["computerUse"],n),w(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=w(e,["codeExecution"]);a!=null&&E(t,["codeExecution"],a);const i=w(e,["enterpriseWebSearch"]);i!=null&&E(t,["enterpriseWebSearch"],i);const s=w(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>dxe(g))),E(t,["functionDeclarations"],m)}const o=w(e,["googleMaps"]);o!=null&&E(t,["googleMaps"],o);const u=w(e,["googleSearch"]);u!=null&&E(t,["googleSearch"],u);const d=w(e,["googleSearchRetrieval"]);d!=null&&E(t,["googleSearchRetrieval"],d);const h=w(e,["urlContext"]);return h!=null&&E(t,["urlContext"],h),t}function Cxe(e){const t={},r=w(e,["promptTokenCount"]);r!=null&&E(t,["promptTokenCount"],r);const n=w(e,["cachedContentTokenCount"]);n!=null&&E(t,["cachedContentTokenCount"],n);const a=w(e,["candidatesTokenCount"]);a!=null&&E(t,["responseTokenCount"],a);const i=w(e,["toolUsePromptTokenCount"]);i!=null&&E(t,["toolUsePromptTokenCount"],i);const s=w(e,["thoughtsTokenCount"]);s!=null&&E(t,["thoughtsTokenCount"],s);const o=w(e,["totalTokenCount"]);o!=null&&E(t,["totalTokenCount"],o);const u=w(e,["promptTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>b)),E(t,["promptTokensDetails"],x)}const d=w(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(b=>b)),E(t,["cacheTokensDetails"],x)}const h=w(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(b=>b)),E(t,["responseTokensDetails"],x)}const m=w(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(b=>b)),E(t,["toolUsePromptTokensDetails"],x)}const g=w(e,["trafficType"]);return g!=null&&E(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kxe(e){const t={},r=w(e,["data"]);if(r!=null&&E(t,["data"],r),w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Ixe(e){const t={},r=w(e,["content"]);r!=null&&E(t,["content"],r);const n=w(e,["citationMetadata"]);n!=null&&E(t,["citationMetadata"],jxe(n));const a=w(e,["tokenCount"]);a!=null&&E(t,["tokenCount"],a);const i=w(e,["finishReason"]);i!=null&&E(t,["finishReason"],i);const s=w(e,["avgLogprobs"]);s!=null&&E(t,["avgLogprobs"],s);const o=w(e,["groundingMetadata"]);o!=null&&E(t,["groundingMetadata"],o);const u=w(e,["index"]);u!=null&&E(t,["index"],u);const d=w(e,["logprobsResult"]);d!=null&&E(t,["logprobsResult"],d);const h=w(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),E(t,["safetyRatings"],g)}const m=w(e,["urlContextMetadata"]);return m!=null&&E(t,["urlContextMetadata"],m),t}function jxe(e){const t={},r=w(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>a)),E(t,["citations"],n)}return t}function Rxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let i=ji(a);Array.isArray(i)&&(i=i.map(s=>s)),E(r,["contents"],i)}return r}function Oxe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["tokensInfo"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),E(t,["tokensInfo"],a)}return t}function Dxe(e){const t={},r=w(e,["values"]);r!=null&&E(t,["values"],r);const n=w(e,["statistics"]);return n!=null&&E(t,["statistics"],Mxe(n)),t}function Mxe(e){const t={},r=w(e,["truncated"]);r!=null&&E(t,["truncated"],r);const n=w(e,["token_count"]);return n!=null&&E(t,["tokenCount"],n),t}function dy(e){const t={},r=w(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Hve(i))),E(t,["parts"],a)}const n=w(e,["role"]);return n!=null&&E(t,["role"],n),t}function Pxe(e){const t={},r=w(e,["controlType"]);r!=null&&E(t,["controlType"],r);const n=w(e,["enableControlImageComputation"]);return n!=null&&E(t,["computeControl"],n),t}function Lxe(e){const t={};if(w(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(w(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(w(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Fxe(e,t){const r={},n=w(e,["systemInstruction"]);t!==void 0&&n!=null&&E(t,["systemInstruction"],ea(n));const a=w(e,["tools"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>FU(o))),E(t,["tools"],s)}const i=w(e,["generationConfig"]);return t!==void 0&&i!=null&&E(t,["generationConfig"],kve(i)),r}function Bxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let s=ji(a);Array.isArray(s)&&(s=s.map(o=>dy(o))),E(r,["contents"],s)}const i=w(t,["config"]);return i!=null&&Lxe(i),r}function Uxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let s=ji(a);Array.isArray(s)&&(s=s.map(o=>o)),E(r,["contents"],s)}const i=w(t,["config"]);return i!=null&&Fxe(i,r),r}function zxe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["totalTokens"]);n!=null&&E(t,["totalTokens"],n);const a=w(e,["cachedContentTokenCount"]);return a!=null&&E(t,["cachedContentTokenCount"],a),t}function $xe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["totalTokens"]);return n!=null&&E(t,["totalTokens"],n),t}function Vxe(e,t){const r={},n=w(t,["model"]);return n!=null&&E(r,["_url","name"],zt(e,n)),r}function Hxe(e,t){const r={},n=w(t,["model"]);return n!=null&&E(r,["_url","name"],zt(e,n)),r}function Gxe(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function qxe(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function Wxe(e,t){const r={},n=w(e,["outputGcsUri"]);t!==void 0&&n!=null&&E(t,["parameters","storageUri"],n);const a=w(e,["negativePrompt"]);t!==void 0&&a!=null&&E(t,["parameters","negativePrompt"],a);const i=w(e,["numberOfImages"]);t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i);const s=w(e,["aspectRatio"]);t!==void 0&&s!=null&&E(t,["parameters","aspectRatio"],s);const o=w(e,["guidanceScale"]);t!==void 0&&o!=null&&E(t,["parameters","guidanceScale"],o);const u=w(e,["seed"]);t!==void 0&&u!=null&&E(t,["parameters","seed"],u);const d=w(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&E(t,["parameters","safetySetting"],d);const h=w(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const m=w(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&E(t,["parameters","includeSafetyAttributes"],m);const g=w(e,["includeRaiReason"]);t!==void 0&&g!=null&&E(t,["parameters","includeRaiReason"],g);const x=w(e,["language"]);t!==void 0&&x!=null&&E(t,["parameters","language"],x);const b=w(e,["outputMimeType"]);t!==void 0&&b!=null&&E(t,["parameters","outputOptions","mimeType"],b);const y=w(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&E(t,["parameters","outputOptions","compressionQuality"],y);const _=w(e,["addWatermark"]);t!==void 0&&_!=null&&E(t,["parameters","addWatermark"],_);const N=w(e,["labels"]);t!==void 0&&N!=null&&E(t,["labels"],N);const k=w(e,["editMode"]);t!==void 0&&k!=null&&E(t,["parameters","editMode"],k);const A=w(e,["baseSteps"]);return t!==void 0&&A!=null&&E(t,["parameters","editConfig","baseSteps"],A),r}function Kxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["prompt"]);a!=null&&E(r,["instances[0]","prompt"],a);const i=w(t,["referenceImages"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>Xve(u))),E(r,["instances[0]","referenceImages"],o)}const s=w(t,["config"]);return s!=null&&Wxe(s,r),r}function Yxe(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>fy(i))),E(t,["generatedImages"],a)}return t}function Xxe(e,t){const r={},n=w(e,["taskType"]);t!==void 0&&n!=null&&E(t,["requests[]","taskType"],n);const a=w(e,["title"]);t!==void 0&&a!=null&&E(t,["requests[]","title"],a);const i=w(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&E(t,["requests[]","outputDimensionality"],i),w(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Jxe(e,t){const r={},n=w(e,["taskType"]);t!==void 0&&n!=null&&E(t,["instances[]","task_type"],n);const a=w(e,["title"]);t!==void 0&&a!=null&&E(t,["instances[]","title"],a);const i=w(e,["outputDimensionality"]);t!==void 0&&i!=null&&E(t,["parameters","outputDimensionality"],i);const s=w(e,["mimeType"]);t!==void 0&&s!=null&&E(t,["instances[]","mimeType"],s);const o=w(e,["autoTruncate"]);return t!==void 0&&o!=null&&E(t,["parameters","autoTruncate"],o),r}function Zxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let o=YT(e,a);Array.isArray(o)&&(o=o.map(u=>u)),E(r,["requests[]","content"],o)}const i=w(t,["config"]);i!=null&&Xxe(i,r);const s=w(t,["model"]);return s!==void 0&&E(r,["requests[]","model"],zt(e,s)),r}function Qxe(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let s=YT(e,a);Array.isArray(s)&&(s=s.map(o=>o)),E(r,["instances[]","content"],s)}const i=w(t,["config"]);return i!=null&&Jxe(i,r),r}function eve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["embeddings"],i)}const a=w(e,["metadata"]);return a!=null&&E(t,["metadata"],a),t}function tve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Dxe(s))),E(t,["embeddings"],i)}const a=w(e,["metadata"]);return a!=null&&E(t,["metadata"],a),t}function rve(e){const t={},r=w(e,["endpoint"]);r!=null&&E(t,["name"],r);const n=w(e,["deployedModelId"]);return n!=null&&E(t,["deployedModelId"],n),t}function nve(e){const t={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function ave(e){const t={},r=w(e,["id"]);r!=null&&E(t,["id"],r);const n=w(e,["args"]);n!=null&&E(t,["args"],n);const a=w(e,["name"]);if(a!=null&&E(t,["name"],a),w(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ive(e){const t={},r=w(e,["allowedFunctionNames"]);r!=null&&E(t,["allowedFunctionNames"],r);const n=w(e,["mode"]);if(n!=null&&E(t,["mode"],n),w(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sve(e){const t={},r=w(e,["description"]);r!=null&&E(t,["description"],r);const n=w(e,["name"]);n!=null&&E(t,["name"],n);const a=w(e,["parameters"]);a!=null&&E(t,["parameters"],a);const i=w(e,["parametersJsonSchema"]);i!=null&&E(t,["parametersJsonSchema"],i);const s=w(e,["response"]);s!=null&&E(t,["response"],s);const o=w(e,["responseJsonSchema"]);if(o!=null&&E(t,["responseJsonSchema"],o),w(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ove(e,t,r){const n={},a=w(t,["systemInstruction"]);r!==void 0&&a!=null&&E(r,["systemInstruction"],dy(ea(a)));const i=w(t,["temperature"]);i!=null&&E(n,["temperature"],i);const s=w(t,["topP"]);s!=null&&E(n,["topP"],s);const o=w(t,["topK"]);o!=null&&E(n,["topK"],o);const u=w(t,["candidateCount"]);u!=null&&E(n,["candidateCount"],u);const d=w(t,["maxOutputTokens"]);d!=null&&E(n,["maxOutputTokens"],d);const h=w(t,["stopSequences"]);h!=null&&E(n,["stopSequences"],h);const m=w(t,["responseLogprobs"]);m!=null&&E(n,["responseLogprobs"],m);const g=w(t,["logprobs"]);g!=null&&E(n,["logprobs"],g);const x=w(t,["presencePenalty"]);x!=null&&E(n,["presencePenalty"],x);const b=w(t,["frequencyPenalty"]);b!=null&&E(n,["frequencyPenalty"],b);const y=w(t,["seed"]);y!=null&&E(n,["seed"],y);const _=w(t,["responseMimeType"]);_!=null&&E(n,["responseMimeType"],_);const N=w(t,["responseSchema"]);N!=null&&E(n,["responseSchema"],XT(N));const k=w(t,["responseJsonSchema"]);if(k!=null&&E(n,["responseJsonSchema"],k),w(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=w(t,["safetySettings"]);if(r!==void 0&&A!=null){let Y=A;Array.isArray(Y)&&(Y=Y.map(de=>Jve(de))),E(r,["safetySettings"],Y)}const D=w(t,["tools"]);if(r!==void 0&&D!=null){let Y=_f(D);Array.isArray(Y)&&(Y=Y.map(de=>aye(wf(de)))),E(r,["tools"],Y)}const j=w(t,["toolConfig"]);if(r!==void 0&&j!=null&&E(r,["toolConfig"],nye(j)),w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=w(t,["cachedContent"]);r!==void 0&&O!=null&&E(r,["cachedContent"],zo(e,O));const I=w(t,["responseModalities"]);I!=null&&E(n,["responseModalities"],I);const M=w(t,["mediaResolution"]);M!=null&&E(n,["mediaResolution"],M);const R=w(t,["speechConfig"]);if(R!=null&&E(n,["speechConfig"],JT(R)),w(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=w(t,["thinkingConfig"]);z!=null&&E(n,["thinkingConfig"],z);const q=w(t,["imageConfig"]);q!=null&&E(n,["imageConfig"],Dve(q));const F=w(t,["enableEnhancedCivicAnswers"]);return F!=null&&E(n,["enableEnhancedCivicAnswers"],F),n}function lve(e,t,r){const n={},a=w(t,["systemInstruction"]);r!==void 0&&a!=null&&E(r,["systemInstruction"],ea(a));const i=w(t,["temperature"]);i!=null&&E(n,["temperature"],i);const s=w(t,["topP"]);s!=null&&E(n,["topP"],s);const o=w(t,["topK"]);o!=null&&E(n,["topK"],o);const u=w(t,["candidateCount"]);u!=null&&E(n,["candidateCount"],u);const d=w(t,["maxOutputTokens"]);d!=null&&E(n,["maxOutputTokens"],d);const h=w(t,["stopSequences"]);h!=null&&E(n,["stopSequences"],h);const m=w(t,["responseLogprobs"]);m!=null&&E(n,["responseLogprobs"],m);const g=w(t,["logprobs"]);g!=null&&E(n,["logprobs"],g);const x=w(t,["presencePenalty"]);x!=null&&E(n,["presencePenalty"],x);const b=w(t,["frequencyPenalty"]);b!=null&&E(n,["frequencyPenalty"],b);const y=w(t,["seed"]);y!=null&&E(n,["seed"],y);const _=w(t,["responseMimeType"]);_!=null&&E(n,["responseMimeType"],_);const N=w(t,["responseSchema"]);N!=null&&E(n,["responseSchema"],XT(N));const k=w(t,["responseJsonSchema"]);k!=null&&E(n,["responseJsonSchema"],k);const A=w(t,["routingConfig"]);A!=null&&E(n,["routingConfig"],A);const D=w(t,["modelSelectionConfig"]);D!=null&&E(n,["modelConfig"],D);const j=w(t,["safetySettings"]);if(r!==void 0&&j!=null){let K=j;Array.isArray(K)&&(K=K.map(ae=>ae)),E(r,["safetySettings"],K)}const O=w(t,["tools"]);if(r!==void 0&&O!=null){let K=_f(O);Array.isArray(K)&&(K=K.map(ae=>FU(wf(ae)))),E(r,["tools"],K)}const I=w(t,["toolConfig"]);r!==void 0&&I!=null&&E(r,["toolConfig"],I);const M=w(t,["labels"]);r!==void 0&&M!=null&&E(r,["labels"],M);const R=w(t,["cachedContent"]);r!==void 0&&R!=null&&E(r,["cachedContent"],zo(e,R));const z=w(t,["responseModalities"]);z!=null&&E(n,["responseModalities"],z);const q=w(t,["mediaResolution"]);q!=null&&E(n,["mediaResolution"],q);const F=w(t,["speechConfig"]);F!=null&&E(n,["speechConfig"],JT(F));const Y=w(t,["audioTimestamp"]);Y!=null&&E(n,["audioTimestamp"],Y);const de=w(t,["thinkingConfig"]);de!=null&&E(n,["thinkingConfig"],de);const ce=w(t,["imageConfig"]);if(ce!=null&&E(n,["imageConfig"],Mve(ce)),w(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function AP(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let s=ji(a);Array.isArray(s)&&(s=s.map(o=>dy(o))),E(r,["contents"],s)}const i=w(t,["config"]);return i!=null&&E(r,["generationConfig"],ove(e,i,r)),r}function CP(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["contents"]);if(a!=null){let s=ji(a);Array.isArray(s)&&(s=s.map(o=>o)),E(r,["contents"],s)}const i=w(t,["config"]);return i!=null&&E(r,["generationConfig"],lve(e,i,r)),r}function kP(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>Ixe(d))),E(t,["candidates"],u)}const a=w(e,["modelVersion"]);a!=null&&E(t,["modelVersion"],a);const i=w(e,["promptFeedback"]);i!=null&&E(t,["promptFeedback"],i);const s=w(e,["responseId"]);s!=null&&E(t,["responseId"],s);const o=w(e,["usageMetadata"]);return o!=null&&E(t,["usageMetadata"],o),t}function IP(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["candidates"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),E(t,["candidates"],d)}const a=w(e,["createTime"]);a!=null&&E(t,["createTime"],a);const i=w(e,["modelVersion"]);i!=null&&E(t,["modelVersion"],i);const s=w(e,["promptFeedback"]);s!=null&&E(t,["promptFeedback"],s);const o=w(e,["responseId"]);o!=null&&E(t,["responseId"],o);const u=w(e,["usageMetadata"]);return u!=null&&E(t,["usageMetadata"],u),t}function cve(e,t){const r={};if(w(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=w(e,["numberOfImages"]);t!==void 0&&n!=null&&E(t,["parameters","sampleCount"],n);const a=w(e,["aspectRatio"]);t!==void 0&&a!=null&&E(t,["parameters","aspectRatio"],a);const i=w(e,["guidanceScale"]);if(t!==void 0&&i!=null&&E(t,["parameters","guidanceScale"],i),w(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=w(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&E(t,["parameters","safetySetting"],s);const o=w(e,["personGeneration"]);t!==void 0&&o!=null&&E(t,["parameters","personGeneration"],o);const u=w(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&E(t,["parameters","includeSafetyAttributes"],u);const d=w(e,["includeRaiReason"]);t!==void 0&&d!=null&&E(t,["parameters","includeRaiReason"],d);const h=w(e,["language"]);t!==void 0&&h!=null&&E(t,["parameters","language"],h);const m=w(e,["outputMimeType"]);t!==void 0&&m!=null&&E(t,["parameters","outputOptions","mimeType"],m);const g=w(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&E(t,["parameters","outputOptions","compressionQuality"],g),w(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=w(e,["imageSize"]);if(t!==void 0&&x!=null&&E(t,["parameters","sampleImageSize"],x),w(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function uve(e,t){const r={},n=w(e,["outputGcsUri"]);t!==void 0&&n!=null&&E(t,["parameters","storageUri"],n);const a=w(e,["negativePrompt"]);t!==void 0&&a!=null&&E(t,["parameters","negativePrompt"],a);const i=w(e,["numberOfImages"]);t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i);const s=w(e,["aspectRatio"]);t!==void 0&&s!=null&&E(t,["parameters","aspectRatio"],s);const o=w(e,["guidanceScale"]);t!==void 0&&o!=null&&E(t,["parameters","guidanceScale"],o);const u=w(e,["seed"]);t!==void 0&&u!=null&&E(t,["parameters","seed"],u);const d=w(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&E(t,["parameters","safetySetting"],d);const h=w(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const m=w(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&E(t,["parameters","includeSafetyAttributes"],m);const g=w(e,["includeRaiReason"]);t!==void 0&&g!=null&&E(t,["parameters","includeRaiReason"],g);const x=w(e,["language"]);t!==void 0&&x!=null&&E(t,["parameters","language"],x);const b=w(e,["outputMimeType"]);t!==void 0&&b!=null&&E(t,["parameters","outputOptions","mimeType"],b);const y=w(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&E(t,["parameters","outputOptions","compressionQuality"],y);const _=w(e,["addWatermark"]);t!==void 0&&_!=null&&E(t,["parameters","addWatermark"],_);const N=w(e,["labels"]);t!==void 0&&N!=null&&E(t,["labels"],N);const k=w(e,["imageSize"]);t!==void 0&&k!=null&&E(t,["parameters","sampleImageSize"],k);const A=w(e,["enhancePrompt"]);return t!==void 0&&A!=null&&E(t,["parameters","enhancePrompt"],A),r}function dve(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["prompt"]);a!=null&&E(r,["instances[0]","prompt"],a);const i=w(t,["config"]);return i!=null&&cve(i,r),r}function fve(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["prompt"]);a!=null&&E(r,["instances[0]","prompt"],a);const i=w(t,["config"]);return i!=null&&uve(i,r),r}function hve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Tve(s))),E(t,["generatedImages"],i)}const a=w(e,["positivePromptSafetyAttributes"]);return a!=null&&E(t,["positivePromptSafetyAttributes"],PU(a)),t}function mve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fy(s))),E(t,["generatedImages"],i)}const a=w(e,["positivePromptSafetyAttributes"]);return a!=null&&E(t,["positivePromptSafetyAttributes"],LU(a)),t}function pve(e,t){const r={},n=w(e,["numberOfVideos"]);if(t!==void 0&&n!=null&&E(t,["parameters","sampleCount"],n),w(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=w(e,["durationSeconds"]);if(t!==void 0&&a!=null&&E(t,["parameters","durationSeconds"],a),w(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=w(e,["aspectRatio"]);t!==void 0&&i!=null&&E(t,["parameters","aspectRatio"],i);const s=w(e,["resolution"]);t!==void 0&&s!=null&&E(t,["parameters","resolution"],s);const o=w(e,["personGeneration"]);if(t!==void 0&&o!=null&&E(t,["parameters","personGeneration"],o),w(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=w(e,["negativePrompt"]);t!==void 0&&u!=null&&E(t,["parameters","negativePrompt"],u);const d=w(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&E(t,["parameters","enhancePrompt"],d),w(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=w(e,["lastFrame"]);t!==void 0&&h!=null&&E(t,["instances[0]","lastFrame"],hy(h));const m=w(e,["referenceImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(x=>xye(x))),E(t,["instances[0]","referenceImages"],g)}if(w(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(w(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function gve(e,t){const r={},n=w(e,["numberOfVideos"]);t!==void 0&&n!=null&&E(t,["parameters","sampleCount"],n);const a=w(e,["outputGcsUri"]);t!==void 0&&a!=null&&E(t,["parameters","storageUri"],a);const i=w(e,["fps"]);t!==void 0&&i!=null&&E(t,["parameters","fps"],i);const s=w(e,["durationSeconds"]);t!==void 0&&s!=null&&E(t,["parameters","durationSeconds"],s);const o=w(e,["seed"]);t!==void 0&&o!=null&&E(t,["parameters","seed"],o);const u=w(e,["aspectRatio"]);t!==void 0&&u!=null&&E(t,["parameters","aspectRatio"],u);const d=w(e,["resolution"]);t!==void 0&&d!=null&&E(t,["parameters","resolution"],d);const h=w(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const m=w(e,["pubsubTopic"]);t!==void 0&&m!=null&&E(t,["parameters","pubsubTopic"],m);const g=w(e,["negativePrompt"]);t!==void 0&&g!=null&&E(t,["parameters","negativePrompt"],g);const x=w(e,["enhancePrompt"]);t!==void 0&&x!=null&&E(t,["parameters","enhancePrompt"],x);const b=w(e,["generateAudio"]);t!==void 0&&b!=null&&E(t,["parameters","generateAudio"],b);const y=w(e,["lastFrame"]);t!==void 0&&y!=null&&E(t,["instances[0]","lastFrame"],hs(y));const _=w(e,["referenceImages"]);if(t!==void 0&&_!=null){let A=_;Array.isArray(A)&&(A=A.map(D=>vye(D))),E(t,["instances[0]","referenceImages"],A)}const N=w(e,["mask"]);t!==void 0&&N!=null&&E(t,["instances[0]","mask"],gye(N));const k=w(e,["compressionQuality"]);return t!==void 0&&k!=null&&E(t,["parameters","compressionQuality"],k),r}function xve(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response","generateVideoResponse"]);return s!=null&&E(t,["response"],wve(s)),t}function vve(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response"]);return s!=null&&E(t,["response"],_ve(s)),t}function yve(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["prompt"]);a!=null&&E(r,["instances[0]","prompt"],a);const i=w(t,["image"]);i!=null&&E(r,["instances[0]","image"],hy(i));const s=w(t,["video"]);s!=null&&E(r,["instances[0]","video"],BU(s));const o=w(t,["source"]);o!=null&&Eve(o,r);const u=w(t,["config"]);return u!=null&&pve(u,r),r}function bve(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["prompt"]);a!=null&&E(r,["instances[0]","prompt"],a);const i=w(t,["image"]);i!=null&&E(r,["instances[0]","image"],hs(i));const s=w(t,["video"]);s!=null&&E(r,["instances[0]","video"],UU(s));const o=w(t,["source"]);o!=null&&Sve(o,r);const u=w(t,["config"]);return u!=null&&gve(u,r),r}function wve(e){const t={},r=w(e,["generatedSamples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ave(s))),E(t,["generatedVideos"],i)}const n=w(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const a=w(e,["raiMediaFilteredReasons"]);return a!=null&&E(t,["raiMediaFilteredReasons"],a),t}function _ve(e){const t={},r=w(e,["videos"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Cve(s))),E(t,["generatedVideos"],i)}const n=w(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const a=w(e,["raiMediaFilteredReasons"]);return a!=null&&E(t,["raiMediaFilteredReasons"],a),t}function Eve(e,t){const r={},n=w(e,["prompt"]);t!==void 0&&n!=null&&E(t,["instances[0]","prompt"],n);const a=w(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],hy(a));const i=w(e,["video"]);return t!==void 0&&i!=null&&E(t,["instances[0]","video"],BU(i)),r}function Sve(e,t){const r={},n=w(e,["prompt"]);t!==void 0&&n!=null&&E(t,["instances[0]","prompt"],n);const a=w(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],hs(a));const i=w(e,["video"]);return t!==void 0&&i!=null&&E(t,["instances[0]","video"],UU(i)),r}function Tve(e){const t={},r=w(e,["_self"]);r!=null&&E(t,["image"],Pve(r));const n=w(e,["raiFilteredReason"]);n!=null&&E(t,["raiFilteredReason"],n);const a=w(e,["_self"]);return a!=null&&E(t,["safetyAttributes"],PU(a)),t}function fy(e){const t={},r=w(e,["_self"]);r!=null&&E(t,["image"],MU(r));const n=w(e,["raiFilteredReason"]);n!=null&&E(t,["raiFilteredReason"],n);const a=w(e,["_self"]);a!=null&&E(t,["safetyAttributes"],LU(a));const i=w(e,["prompt"]);return i!=null&&E(t,["enhancedPrompt"],i),t}function Nve(e){const t={},r=w(e,["_self"]);r!=null&&E(t,["mask"],MU(r));const n=w(e,["labels"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),E(t,["labels"],a)}return t}function Ave(e){const t={},r=w(e,["video"]);return r!=null&&E(t,["video"],mye(r)),t}function Cve(e){const t={},r=w(e,["_self"]);return r!=null&&E(t,["video"],pye(r)),t}function kve(e){const t={},r=w(e,["modelSelectionConfig"]);r!=null&&E(t,["modelConfig"],r);const n=w(e,["responseJsonSchema"]);n!=null&&E(t,["responseJsonSchema"],n);const a=w(e,["audioTimestamp"]);a!=null&&E(t,["audioTimestamp"],a);const i=w(e,["candidateCount"]);i!=null&&E(t,["candidateCount"],i);const s=w(e,["enableAffectiveDialog"]);s!=null&&E(t,["enableAffectiveDialog"],s);const o=w(e,["frequencyPenalty"]);o!=null&&E(t,["frequencyPenalty"],o);const u=w(e,["logprobs"]);u!=null&&E(t,["logprobs"],u);const d=w(e,["maxOutputTokens"]);d!=null&&E(t,["maxOutputTokens"],d);const h=w(e,["mediaResolution"]);h!=null&&E(t,["mediaResolution"],h);const m=w(e,["presencePenalty"]);m!=null&&E(t,["presencePenalty"],m);const g=w(e,["responseLogprobs"]);g!=null&&E(t,["responseLogprobs"],g);const x=w(e,["responseMimeType"]);x!=null&&E(t,["responseMimeType"],x);const b=w(e,["responseModalities"]);b!=null&&E(t,["responseModalities"],b);const y=w(e,["responseSchema"]);y!=null&&E(t,["responseSchema"],y);const _=w(e,["routingConfig"]);_!=null&&E(t,["routingConfig"],_);const N=w(e,["seed"]);N!=null&&E(t,["seed"],N);const k=w(e,["speechConfig"]);k!=null&&E(t,["speechConfig"],k);const A=w(e,["stopSequences"]);A!=null&&E(t,["stopSequences"],A);const D=w(e,["temperature"]);D!=null&&E(t,["temperature"],D);const j=w(e,["thinkingConfig"]);j!=null&&E(t,["thinkingConfig"],j);const O=w(e,["topK"]);O!=null&&E(t,["topK"],O);const I=w(e,["topP"]);if(I!=null&&E(t,["topP"],I),w(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ive(e,t){const r={},n=w(t,["model"]);return n!=null&&E(r,["_url","name"],zt(e,n)),r}function jve(e,t){const r={},n=w(t,["model"]);return n!=null&&E(r,["_url","name"],zt(e,n)),r}function Rve(e){const t={};if(w(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function Ove(e){const t={};if(w(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function Dve(e){const t={},r=w(e,["aspectRatio"]);r!=null&&E(t,["aspectRatio"],r);const n=w(e,["imageSize"]);if(n!=null&&E(t,["imageSize"],n),w(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(w(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(w(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Mve(e){const t={},r=w(e,["aspectRatio"]);r!=null&&E(t,["aspectRatio"],r);const n=w(e,["imageSize"]);n!=null&&E(t,["imageSize"],n);const a=w(e,["personGeneration"]);a!=null&&E(t,["personGeneration"],a);const i=w(e,["outputMimeType"]);i!=null&&E(t,["imageOutputOptions","mimeType"],i);const s=w(e,["outputCompressionQuality"]);return s!=null&&E(t,["imageOutputOptions","compressionQuality"],s),t}function Pve(e){const t={},r=w(e,["bytesBase64Encoded"]);r!=null&&E(t,["imageBytes"],Gl(r));const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function MU(e){const t={},r=w(e,["gcsUri"]);r!=null&&E(t,["gcsUri"],r);const n=w(e,["bytesBase64Encoded"]);n!=null&&E(t,["imageBytes"],Gl(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["mimeType"],a),t}function hy(e){const t={};if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=w(e,["imageBytes"]);r!=null&&E(t,["bytesBase64Encoded"],Gl(r));const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function hs(e){const t={},r=w(e,["gcsUri"]);r!=null&&E(t,["gcsUri"],r);const n=w(e,["imageBytes"]);n!=null&&E(t,["bytesBase64Encoded"],Gl(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["mimeType"],a),t}function Lve(e,t,r){const n={},a=w(t,["pageSize"]);r!==void 0&&a!=null&&E(r,["_query","pageSize"],a);const i=w(t,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const s=w(t,["filter"]);r!==void 0&&s!=null&&E(r,["_query","filter"],s);const o=w(t,["queryBase"]);return r!==void 0&&o!=null&&E(r,["_url","models_url"],CU(e,o)),n}function Fve(e,t,r){const n={},a=w(t,["pageSize"]);r!==void 0&&a!=null&&E(r,["_query","pageSize"],a);const i=w(t,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const s=w(t,["filter"]);r!==void 0&&s!=null&&E(r,["_query","filter"],s);const o=w(t,["queryBase"]);return r!==void 0&&o!=null&&E(r,["_url","models_url"],CU(e,o)),n}function Bve(e,t){const r={},n=w(t,["config"]);return n!=null&&Lve(e,n,r),r}function Uve(e,t){const r={},n=w(t,["config"]);return n!=null&&Fve(e,n,r),r}function zve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["_self"]);if(a!=null){let i=kU(a);Array.isArray(i)&&(i=i.map(s=>_2(s))),E(t,["models"],i)}return t}function $ve(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["_self"]);if(a!=null){let i=kU(a);Array.isArray(i)&&(i=i.map(s=>E2(s))),E(t,["models"],i)}return t}function Vve(e){const t={},r=w(e,["maskMode"]);r!=null&&E(t,["maskMode"],r);const n=w(e,["segmentationClasses"]);n!=null&&E(t,["maskClasses"],n);const a=w(e,["maskDilation"]);return a!=null&&E(t,["dilation"],a),t}function _2(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["displayName"]);n!=null&&E(t,["displayName"],n);const a=w(e,["description"]);a!=null&&E(t,["description"],a);const i=w(e,["version"]);i!=null&&E(t,["version"],i);const s=w(e,["_self"]);s!=null&&E(t,["tunedModelInfo"],iye(s));const o=w(e,["inputTokenLimit"]);o!=null&&E(t,["inputTokenLimit"],o);const u=w(e,["outputTokenLimit"]);u!=null&&E(t,["outputTokenLimit"],u);const d=w(e,["supportedGenerationMethods"]);d!=null&&E(t,["supportedActions"],d);const h=w(e,["temperature"]);h!=null&&E(t,["temperature"],h);const m=w(e,["maxTemperature"]);m!=null&&E(t,["maxTemperature"],m);const g=w(e,["topP"]);g!=null&&E(t,["topP"],g);const x=w(e,["topK"]);x!=null&&E(t,["topK"],x);const b=w(e,["thinking"]);return b!=null&&E(t,["thinking"],b),t}function E2(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["displayName"]);n!=null&&E(t,["displayName"],n);const a=w(e,["description"]);a!=null&&E(t,["description"],a);const i=w(e,["versionId"]);i!=null&&E(t,["version"],i);const s=w(e,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>rve(g))),E(t,["endpoints"],m)}const o=w(e,["labels"]);o!=null&&E(t,["labels"],o);const u=w(e,["_self"]);u!=null&&E(t,["tunedModelInfo"],sye(u));const d=w(e,["defaultCheckpointId"]);d!=null&&E(t,["defaultCheckpointId"],d);const h=w(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),E(t,["checkpoints"],m)}return t}function Hve(e){const t={},r=w(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=w(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const a=w(e,["executableCode"]);a!=null&&E(t,["executableCode"],a);const i=w(e,["fileData"]);i!=null&&E(t,["fileData"],nve(i));const s=w(e,["functionCall"]);s!=null&&E(t,["functionCall"],ave(s));const o=w(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const u=w(e,["inlineData"]);u!=null&&E(t,["inlineData"],kxe(u));const d=w(e,["text"]);d!=null&&E(t,["text"],d);const h=w(e,["thought"]);h!=null&&E(t,["thought"],h);const m=w(e,["thoughtSignature"]);m!=null&&E(t,["thoughtSignature"],m);const g=w(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function Gve(e){const t={},r=w(e,["productImage"]);return r!=null&&E(t,["image"],hs(r)),t}function qve(e,t){const r={},n=w(e,["numberOfImages"]);t!==void 0&&n!=null&&E(t,["parameters","sampleCount"],n);const a=w(e,["baseSteps"]);t!==void 0&&a!=null&&E(t,["parameters","baseSteps"],a);const i=w(e,["outputGcsUri"]);t!==void 0&&i!=null&&E(t,["parameters","storageUri"],i);const s=w(e,["seed"]);t!==void 0&&s!=null&&E(t,["parameters","seed"],s);const o=w(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&E(t,["parameters","safetySetting"],o);const u=w(e,["personGeneration"]);t!==void 0&&u!=null&&E(t,["parameters","personGeneration"],u);const d=w(e,["addWatermark"]);t!==void 0&&d!=null&&E(t,["parameters","addWatermark"],d);const h=w(e,["outputMimeType"]);t!==void 0&&h!=null&&E(t,["parameters","outputOptions","mimeType"],h);const m=w(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&E(t,["parameters","outputOptions","compressionQuality"],m);const g=w(e,["enhancePrompt"]);t!==void 0&&g!=null&&E(t,["parameters","enhancePrompt"],g);const x=w(e,["labels"]);return t!==void 0&&x!=null&&E(t,["labels"],x),r}function Wve(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["source"]);a!=null&&Yve(a,r);const i=w(t,["config"]);return i!=null&&qve(i,r),r}function Kve(e){const t={},r=w(e,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>fy(a))),E(t,["generatedImages"],n)}return t}function Yve(e,t){const r={},n=w(e,["prompt"]);t!==void 0&&n!=null&&E(t,["instances[0]","prompt"],n);const a=w(e,["personImage"]);t!==void 0&&a!=null&&E(t,["instances[0]","personImage","image"],hs(a));const i=w(e,["productImages"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Gve(o))),E(t,["instances[0]","productImages"],s)}return r}function Xve(e){const t={},r=w(e,["referenceImage"]);r!=null&&E(t,["referenceImage"],hs(r));const n=w(e,["referenceId"]);n!=null&&E(t,["referenceId"],n);const a=w(e,["referenceType"]);a!=null&&E(t,["referenceType"],a);const i=w(e,["maskImageConfig"]);i!=null&&E(t,["maskImageConfig"],Vve(i));const s=w(e,["controlImageConfig"]);s!=null&&E(t,["controlImageConfig"],Pxe(s));const o=w(e,["styleImageConfig"]);o!=null&&E(t,["styleImageConfig"],o);const u=w(e,["subjectImageConfig"]);return u!=null&&E(t,["subjectImageConfig"],u),t}function PU(e){const t={},r=w(e,["safetyAttributes","categories"]);r!=null&&E(t,["categories"],r);const n=w(e,["safetyAttributes","scores"]);n!=null&&E(t,["scores"],n);const a=w(e,["contentType"]);return a!=null&&E(t,["contentType"],a),t}function LU(e){const t={},r=w(e,["safetyAttributes","categories"]);r!=null&&E(t,["categories"],r);const n=w(e,["safetyAttributes","scores"]);n!=null&&E(t,["scores"],n);const a=w(e,["contentType"]);return a!=null&&E(t,["contentType"],a),t}function Jve(e){const t={},r=w(e,["category"]);if(r!=null&&E(t,["category"],r),w(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(e,["threshold"]);return n!=null&&E(t,["threshold"],n),t}function Zve(e){const t={},r=w(e,["image"]);return r!=null&&E(t,["image"],hs(r)),t}function Qve(e,t){const r={},n=w(e,["mode"]);t!==void 0&&n!=null&&E(t,["parameters","mode"],n);const a=w(e,["maxPredictions"]);t!==void 0&&a!=null&&E(t,["parameters","maxPredictions"],a);const i=w(e,["confidenceThreshold"]);t!==void 0&&i!=null&&E(t,["parameters","confidenceThreshold"],i);const s=w(e,["maskDilation"]);t!==void 0&&s!=null&&E(t,["parameters","maskDilation"],s);const o=w(e,["binaryColorThreshold"]);t!==void 0&&o!=null&&E(t,["parameters","binaryColorThreshold"],o);const u=w(e,["labels"]);return t!==void 0&&u!=null&&E(t,["labels"],u),r}function eye(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["source"]);a!=null&&rye(a,r);const i=w(t,["config"]);return i!=null&&Qve(i,r),r}function tye(e){const t={},r=w(e,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(a=>Nve(a))),E(t,["generatedMasks"],n)}return t}function rye(e,t){const r={},n=w(e,["prompt"]);t!==void 0&&n!=null&&E(t,["instances[0]","prompt"],n);const a=w(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],hs(a));const i=w(e,["scribbleImage"]);return t!==void 0&&i!=null&&E(t,["instances[0]","scribble"],Zve(i)),r}function nye(e){const t={},r=w(e,["retrievalConfig"]);r!=null&&E(t,["retrievalConfig"],r);const n=w(e,["functionCallingConfig"]);return n!=null&&E(t,["functionCallingConfig"],ive(n)),t}function aye(e){const t={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=w(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const a=w(e,["codeExecution"]);if(a!=null&&E(t,["codeExecution"],a),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=w(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),E(t,["functionDeclarations"],h)}const s=w(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],Rve(s));const o=w(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],Ove(o));const u=w(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=w(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}function FU(e){const t={},r=w(e,["retrieval"]);r!=null&&E(t,["retrieval"],r);const n=w(e,["computerUse"]);if(n!=null&&E(t,["computerUse"],n),w(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=w(e,["codeExecution"]);a!=null&&E(t,["codeExecution"],a);const i=w(e,["enterpriseWebSearch"]);i!=null&&E(t,["enterpriseWebSearch"],i);const s=w(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>sve(g))),E(t,["functionDeclarations"],m)}const o=w(e,["googleMaps"]);o!=null&&E(t,["googleMaps"],o);const u=w(e,["googleSearch"]);u!=null&&E(t,["googleSearch"],u);const d=w(e,["googleSearchRetrieval"]);d!=null&&E(t,["googleSearchRetrieval"],d);const h=w(e,["urlContext"]);return h!=null&&E(t,["urlContext"],h),t}function iye(e){const t={},r=w(e,["baseModel"]);r!=null&&E(t,["baseModel"],r);const n=w(e,["createTime"]);n!=null&&E(t,["createTime"],n);const a=w(e,["updateTime"]);return a!=null&&E(t,["updateTime"],a),t}function sye(e){const t={},r=w(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&E(t,["baseModel"],r);const n=w(e,["createTime"]);n!=null&&E(t,["createTime"],n);const a=w(e,["updateTime"]);return a!=null&&E(t,["updateTime"],a),t}function oye(e,t){const r={},n=w(e,["displayName"]);t!==void 0&&n!=null&&E(t,["displayName"],n);const a=w(e,["description"]);t!==void 0&&a!=null&&E(t,["description"],a);const i=w(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&E(t,["defaultCheckpointId"],i),r}function lye(e,t){const r={},n=w(e,["displayName"]);t!==void 0&&n!=null&&E(t,["displayName"],n);const a=w(e,["description"]);t!==void 0&&a!=null&&E(t,["description"],a);const i=w(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&E(t,["defaultCheckpointId"],i),r}function cye(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","name"],zt(e,n));const a=w(t,["config"]);return a!=null&&oye(a,r),r}function uye(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["config"]);return a!=null&&lye(a,r),r}function dye(e,t){const r={},n=w(e,["outputGcsUri"]);t!==void 0&&n!=null&&E(t,["parameters","storageUri"],n);const a=w(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&E(t,["parameters","safetySetting"],a);const i=w(e,["personGeneration"]);t!==void 0&&i!=null&&E(t,["parameters","personGeneration"],i);const s=w(e,["includeRaiReason"]);t!==void 0&&s!=null&&E(t,["parameters","includeRaiReason"],s);const o=w(e,["outputMimeType"]);t!==void 0&&o!=null&&E(t,["parameters","outputOptions","mimeType"],o);const u=w(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&E(t,["parameters","outputOptions","compressionQuality"],u);const d=w(e,["enhanceInputImage"]);t!==void 0&&d!=null&&E(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=w(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&E(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=w(e,["labels"]);t!==void 0&&m!=null&&E(t,["labels"],m);const g=w(e,["numberOfImages"]);t!==void 0&&g!=null&&E(t,["parameters","sampleCount"],g);const x=w(e,["mode"]);return t!==void 0&&x!=null&&E(t,["parameters","mode"],x),r}function fye(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["_url","model"],zt(e,n));const a=w(t,["image"]);a!=null&&E(r,["instances[0]","image"],hs(a));const i=w(t,["upscaleFactor"]);i!=null&&E(r,["parameters","upscaleConfig","upscaleFactor"],i);const s=w(t,["config"]);return s!=null&&dye(s,r),r}function hye(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>fy(i))),E(t,["generatedImages"],a)}return t}function mye(e){const t={},r=w(e,["uri"]);r!=null&&E(t,["uri"],r);const n=w(e,["encodedVideo"]);n!=null&&E(t,["videoBytes"],Gl(n));const a=w(e,["encoding"]);return a!=null&&E(t,["mimeType"],a),t}function pye(e){const t={},r=w(e,["gcsUri"]);r!=null&&E(t,["uri"],r);const n=w(e,["bytesBase64Encoded"]);n!=null&&E(t,["videoBytes"],Gl(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["mimeType"],a),t}function gye(e){const t={},r=w(e,["image"]);r!=null&&E(t,["_self"],hs(r));const n=w(e,["maskMode"]);return n!=null&&E(t,["maskMode"],n),t}function xye(e){const t={},r=w(e,["image"]);r!=null&&E(t,["image"],hy(r));const n=w(e,["referenceType"]);return n!=null&&E(t,["referenceType"],n),t}function vye(e){const t={},r=w(e,["image"]);r!=null&&E(t,["image"],hs(r));const n=w(e,["referenceType"]);return n!=null&&E(t,["referenceType"],n),t}function BU(e){const t={},r=w(e,["uri"]);r!=null&&E(t,["uri"],r);const n=w(e,["videoBytes"]);n!=null&&E(t,["encodedVideo"],Gl(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["encoding"],a),t}function UU(e){const t={},r=w(e,["uri"]);r!=null&&E(t,["gcsUri"],r);const n=w(e,["videoBytes"]);n!=null&&E(t,["bytesBase64Encoded"],Gl(n));const a=w(e,["mimeType"]);return a!=null&&E(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yye(e,t){const r={},n=w(e,["displayName"]);return t!==void 0&&n!=null&&E(t,["displayName"],n),r}function bye(e){const t={},r=w(e,["config"]);return r!=null&&yye(r,t),t}function wye(e,t){const r={},n=w(e,["force"]);return t!==void 0&&n!=null&&E(t,["_query","force"],n),r}function _ye(e){const t={},r=w(e,["name"]);r!=null&&E(t,["_url","name"],r);const n=w(e,["config"]);return n!=null&&wye(n,t),t}function Eye(e){const t={},r=w(e,["name"]);return r!=null&&E(t,["_url","name"],r),t}function Sye(e,t){const r={},n=w(e,["customMetadata"]);if(t!==void 0&&n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["customMetadata"],i)}const a=w(e,["chunkingConfig"]);return t!==void 0&&a!=null&&E(t,["chunkingConfig"],a),r}function Tye(e){const t={},r=w(e,["name"]);r!=null&&E(t,["name"],r);const n=w(e,["metadata"]);n!=null&&E(t,["metadata"],n);const a=w(e,["done"]);a!=null&&E(t,["done"],a);const i=w(e,["error"]);i!=null&&E(t,["error"],i);const s=w(e,["response"]);return s!=null&&E(t,["response"],Aye(s)),t}function Nye(e){const t={},r=w(e,["fileSearchStoreName"]);r!=null&&E(t,["_url","file_search_store_name"],r);const n=w(e,["fileName"]);n!=null&&E(t,["fileName"],n);const a=w(e,["config"]);return a!=null&&Sye(a,t),t}function Aye(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["parent"]);n!=null&&E(t,["parent"],n);const a=w(e,["documentName"]);return a!=null&&E(t,["documentName"],a),t}function Cye(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);return t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),r}function kye(e){const t={},r=w(e,["config"]);return r!=null&&Cye(r,t),t}function Iye(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["fileSearchStores"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["fileSearchStores"],i)}return t}function zU(e,t){const r={},n=w(e,["mimeType"]);t!==void 0&&n!=null&&E(t,["mimeType"],n);const a=w(e,["displayName"]);t!==void 0&&a!=null&&E(t,["displayName"],a);const i=w(e,["customMetadata"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>u)),E(t,["customMetadata"],o)}const s=w(e,["chunkingConfig"]);return t!==void 0&&s!=null&&E(t,["chunkingConfig"],s),r}function jye(e){const t={},r=w(e,["fileSearchStoreName"]);r!=null&&E(t,["_url","file_search_store_name"],r);const n=w(e,["config"]);return n!=null&&zU(n,t),t}function Rye(e){const t={},r=w(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oye="Content-Type",Dye="X-Server-Timeout",Mye="User-Agent",S2="x-goog-api-client",Pye="1.35.0",Lye=`google-genai-sdk/${Pye}`,Fye="v1beta1",Bye="v1beta";class Uye{constructor(t){var r,n;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Fye,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Bye,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const a=[this.getRequestUrlInternal(r)];return n&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))a.searchParams.append(s,String(o));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,r,a.toString(),t.abortSignal),this.unaryApiCall(a,i,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[a,i]of Object.entries(r))typeof i=="object"?n[a]=Object.assign(Object.assign({},n[a]),i):i!==void 0&&(n[a]=i);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,r,n);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,r,a.toString(),t.abortSignal),this.streamApiCall(a,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,a){if(r&&r.timeout||a){const i=new AbortController,s=i.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const o=setTimeout(()=>i.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}a&&a.addEventListener("abort",()=>{i.abort()}),t.signal=s}return r&&r.extraBody!==null&&zye(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async a=>(await jP(a),new y2(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async a=>(await jP(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return ns(this,arguments,function*(){var n;const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";const o="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield vt(a.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(h,{stream:!0});try{const b=JSON.parse(m);if("error"in b){const y=JSON.parse(JSON.stringify(b.error)),_=y.status,N=y.code,k=`got status: ${_}. ${JSON.stringify(b)}`;if(N>=400&&N<600)throw new uy({message:k,status:N})}}catch(b){if(b.name==="ApiError")throw b}s+=m;let g=-1,x=0;for(;;){g=-1,x=0;for(const _ of u){const N=s.indexOf(_);N!==-1&&(g===-1||N<g)&&(g=N,x=_.length)}if(g===-1)break;const b=s.substring(0,g);s=s.substring(g+x);const y=b.trim();if(y.startsWith(o)){const _=y.substring(o.length).trim();try{const N=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield vt(new y2(N))}catch(N){throw new Error(`exception parsing stream chunk ${_}. ${N}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=Lye+" "+this.clientOptions.userAgentExtra;return t[Mye]=r,t[S2]=r,t[Oye]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[a,i]of Object.entries(t.headers))n.append(a,i);t.timeout&&t.timeout>0&&n.append(Dye,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const a={};r!=null&&(a.mimeType=r.mimeType,a.name=r.name,a.displayName=r.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(t);a.sizeBytes=String(s.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=o;const u={file:a},d=this.getFileName(t),h=Ze("upload/v1beta/files",u._url),m=await this.fetchUploadUrl(h,a.sizeBytes,a.mimeType,d,u,r==null?void 0:r.httpOptions);return i.upload(t,m,this)}async uploadFileToFileSearchStore(t,r,n){var a;const i=this.clientOptions.uploader,s=await i.stat(r),o=String(s.size),u=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(r),m={};n!=null&&zU(n,m);const g=await this.fetchUploadUrl(d,o,u,h,m,n==null?void 0:n.httpOptions);return i.uploadToFileSearchStore(r,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,a,i,s){var o;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},a?{"X-Goog-Upload-File-Name":a}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function jP(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(n);throw r>=400&&r<600?new uy({message:a,status:r}):new Error(a)}}function zye(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))r=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(i,s){const o=Object.assign({},i);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=s[u],h=o[u];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?o[u]=n(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),o[u]=d)}return o}const a=n(r,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ye="mcp_used/unknown";let Vye=!1;function $U(e){for(const t of e)if(Hye(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Vye}function VU(e){var t;const r=(t=e[S2])!==null&&t!==void 0?t:"";e[S2]=(r+` ${$ye}`).trimStart()}function Hye(e){return e!==null&&typeof e=="object"&&e instanceof QT}function Gye(e){return ns(this,arguments,function*(r,n=100){let a,i=0;for(;i<n;){const s=yield vt(r.listTools({cursor:a}));for(const o of s.tools)yield yield vt(o),i++;if(!s.nextCursor)break;a=s.nextCursor}})}class QT{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new QT(t,r)}async initialize(){var t,r,n,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var o=!0,u=(r=void 0,as(Gye(h))),d;d=await u.next(),t=d.done,!t;o=!0){a=d.value,o=!1;const m=a;s.push(m);const g=m.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=h}}catch(m){r={error:m}}finally{try{!o&&!t&&(n=u.return)&&await n.call(u)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Epe(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[n.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:n.name,arguments:n.args},void 0,i);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qye(e,t,r){const n=new ppe;let a;r.data instanceof Blob?a=JSON.parse(await r.data.text()):a=JSON.parse(r.data),Object.assign(n,a),t(n)}class Wye{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=Xye(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),u=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${o}`;let d=()=>{};const h=new Promise(A=>{d=A}),m=t.callbacks,g=function(){d({})},x=this.apiClient,b={onopen:g,onmessage:A=>{qye(x,m.onmessage,A)},onerror:(r=m==null?void 0:m.onerror)!==null&&r!==void 0?r:function(A){},onclose:(n=m==null?void 0:m.onclose)!==null&&n!==void 0?n:function(A){}},y=this.webSocketFactory.create(u,Yye(s),b);y.connect(),await h;const k={setup:{model:zt(this.apiClient,t.model)}};return y.send(JSON.stringify(k)),new Kye(y,this.apiClient)}}class Kye{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=bxe(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=yxe(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Md.PLAY)}pause(){this.sendPlaybackControl(Md.PAUSE)}stop(){this.sendPlaybackControl(Md.STOP)}resetContext(){this.sendPlaybackControl(Md.RESET_CONTEXT)}close(){this.conn.close()}}function Yye(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function Xye(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jye="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Zye(e,t,r){const n=new mpe;let a;r.data instanceof Blob?a=await r.data.text():r.data instanceof ArrayBuffer?a=new TextDecoder().decode(r.data):a=r.data;const i=JSON.parse(a);if(e.isVertexAI()){const s=Exe(i);Object.assign(n,s)}else Object.assign(n,i);t(n)}class Qye{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new Wye(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,a,i,s,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&$U(t.config.tools)&&VU(m);const g=n1e(m);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const R=this.apiClient.getApiKey();let z="BidiGenerateContent",q="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",q="access_token"),h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${q}=${R}`}let x=()=>{};const b=new Promise(R=>{x=R}),y=t.callbacks,_=function(){var R;(R=y==null?void 0:y.onopen)===null||R===void 0||R.call(y),x({})},N=this.apiClient,k={onopen:_,onmessage:R=>{Zye(N,y.onmessage,R)},onerror:(r=y==null?void 0:y.onerror)!==null&&r!==void 0?r:function(R){},onclose:(n=y==null?void 0:y.onclose)!==null&&n!==void 0?n:function(R){}},A=this.webSocketFactory.create(h,r1e(g),k);A.connect(),await b;let D=zt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const R=this.apiClient.getProject(),z=this.apiClient.getLocation();D=`projects/${R}/locations/${z}/`+D}let j={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gx.AUDIO]}:t.config.responseModalities=[Gx.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],I=[];for(const R of O)if(this.isCallableTool(R)){const z=R;I.push(await z.tool())}else I.push(R);I.length>0&&(t.config.tools=I);const M={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=vxe(this.apiClient,M):j=xxe(this.apiClient,M),delete j.config,A.send(JSON.stringify(j)),new t1e(A,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const e1e={turnComplete:!0};class t1e{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=ji(r.turns),t.isVertexAI()||(n=n.map(a=>dy(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const i of n){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(Jye)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},e1e),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:_xe(t)}:r={realtimeInput:wxe(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function r1e(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function n1e(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RP=10;function OP(e){var t,r,n;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const s of(r=e==null?void 0:e.tools)!==null&&r!==void 0?r:[])if(Vd(s)){a=!0;break}if(!a)return!0;const i=(n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Vd(e){return"callTool"in e&&typeof e.callTool=="function"}function a1e(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(a=>Vd(a)))!==null&&n!==void 0?n:!1}function DP(e){var t;const r=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,a)=>{if(Vd(n))return;const i=n;i.functionDeclarations&&i.functionDeclarations.length>0&&r.push(a)}),r}function MP(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1e extends Uo{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,a,i,s,o;const u=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!a1e(r)||OP(r.config))return await this.generateContentInternal(u);const d=DP(r);if(d.length>0){const y=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let h,m;const g=ji(u.contents),x=(i=(a=(n=u.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:RP;let b=0;for(;b<x&&(h=await this.generateContentInternal(u),!(!h.functionCalls||h.functionCalls.length===0));){const y=h.candidates[0].content,_=[];for(const N of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(Vd(N)){const A=await N.callTool(h.functionCalls);_.push(...A)}b++,m={role:"user",parts:_},u.contents=ji(u.contents),u.contents.push(y),u.contents.push(m),MP(u.config)&&(g.push(y),g.push(m))}return MP(u.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async r=>{var n,a,i,s,o;if(this.maybeMoveToResponseJsonSchem(r),OP(r.config)){const m=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(m)}const u=DP(r);if(u.length>0){const m=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(a=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,h=(o=(s=r==null?void 0:r.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var a;let i;const s=[];if(n!=null&&n.generatedImages)for(const u of n.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((a=u==null?void 0:u.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=u==null?void 0:u.safetyAttributes:s.push(u);let o;return i?o={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new gu(ko.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const a={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(a)},this.generateVideos=async r=>{var n,a,i,s,o,u;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((a=r.video)===null||a===void 0)&&a.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(i=r.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((u=(o=r.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,a;const i=(r=t.config)===null||r===void 0?void 0:r.tools;if(!i)return t;const s=await Promise.all(i.map(async u=>Vd(u)?await u.tool():u)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(o.config.tools=s,t.config&&t.config.tools&&$U(t.config.tools)){const u=(a=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),VU(d),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return o}async initAfcToolsMap(t){var r,n,a;const i=new Map;for(const s of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Vd(s)){const o=s,u=await o.tool();for(const d of(a=u.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,o)}}return i}async processAfcStream(t){var r,n,a;const i=(a=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&a!==void 0?a:RP;let s=!1,o=0;const u=await this.initAfcToolsMap(t);return(function(d,h,m){return ns(this,arguments,function*(){for(var g,x,b,y,_,N;o<i;){s&&(o++,s=!1);const j=yield vt(d.processParamsMaybeAddMcpUsage(m)),O=yield vt(d.generateContentStreamInternal(j)),I=[],M=[];try{for(var k=!0,A=(x=void 0,as(O)),D;D=yield vt(A.next()),g=D.done,!g;k=!0){y=D.value,k=!1;const R=y;if(yield yield vt(R),R.candidates&&(!((_=R.candidates[0])===null||_===void 0)&&_.content)){M.push(R.candidates[0].content);for(const z of(N=R.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(o<i&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const q=yield vt(h.get(z.functionCall.name).callTool([z.functionCall]));I.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(R){x={error:R}}finally{try{!k&&!g&&(b=A.return)&&(yield vt(b.call(A)))}finally{if(x)throw x.error}}if(I.length>0){s=!0;const R=new k0;R.candidates=[{content:{role:"user",parts:I}}],yield yield vt(R);const z=[];z.push(...M),z.push({role:"user",parts:I});const q=ji(m.contents).concat(z);m.contents=q}else break}})})(this,u,t)}async generateContentInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=CP(this.apiClient,t);return o=Ze("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=IP(h),g=new k0;return Object.assign(g,m),g})}else{const d=AP(this.apiClient,t);return o=Ze("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=kP(h),g=new k0;return Object.assign(g,m),g})}}async generateContentStreamInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=CP(this.apiClient,t);return o=Ze("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(m){return ns(this,arguments,function*(){var g,x,b,y;try{for(var _=!0,N=as(m),k;k=yield vt(N.next()),g=k.done,!g;_=!0){y=k.value,_=!1;const A=y,D=IP(yield vt(A.json()));D.sdkHttpResponse={headers:A.headers};const j=new k0;Object.assign(j,D),yield yield vt(j)}}catch(A){x={error:A}}finally{try{!_&&!g&&(b=N.return)&&(yield vt(b.call(N)))}finally{if(x)throw x.error}}})})}else{const d=AP(this.apiClient,t);return o=Ze("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return ns(this,arguments,function*(){var g,x,b,y;try{for(var _=!0,N=as(m),k;k=yield vt(N.next()),g=k.done,!g;_=!0){y=k.value,_=!1;const A=y,D=kP(yield vt(A.json()));D.sdkHttpResponse={headers:A.headers};const j=new k0;Object.assign(j,D),yield yield vt(j)}}catch(A){x={error:A}}finally{try{!_&&!g&&(b=N.return)&&(yield vt(b.call(N)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Qxe(this.apiClient,t);return o=Ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=tve(h),g=new uP;return Object.assign(g,m),g})}else{const d=Zxe(this.apiClient,t);return o=Ze("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=eve(h),g=new uP;return Object.assign(g,m),g})}}async generateImagesInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=fve(this.apiClient,t);return o=Ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=mve(h),g=new dP;return Object.assign(g,m),g})}else{const d=dve(this.apiClient,t);return o=Ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=hve(h),g=new dP;return Object.assign(g,m),g})}}async editImageInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=Kxe(this.apiClient,t);return i=Ze("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const d=Yxe(u),h=new npe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=fye(this.apiClient,t);return i=Ze("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const d=hye(u),h=new ape;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=Wve(this.apiClient,t);return i=Ze("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Kve(u),h=new ipe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=eye(this.apiClient,t);return i=Ze("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=tye(u),h=new spe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=jve(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>E2(h))}else{const d=Ive(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>_2(h))}}async listInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Uve(this.apiClient,t);return o=Ze("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=$ve(h),g=new fP;return Object.assign(g,m),g})}else{const d=Bve(this.apiClient,t);return o=Ze("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=zve(h),g=new fP;return Object.assign(g,m),g})}}async update(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=uye(this.apiClient,t);return o=Ze("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>E2(h))}else{const d=cye(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>_2(h))}}async delete(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Hxe(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=qxe(h),g=new hP;return Object.assign(g,m),g})}else{const d=Vxe(this.apiClient,t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Gxe(h),g=new hP;return Object.assign(g,m),g})}}async countTokens(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Uxe(this.apiClient,t);return o=Ze("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=$xe(h),g=new mP;return Object.assign(g,m),g})}else{const d=Bxe(this.apiClient,t);return o=Ze("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=zxe(h),g=new mP;return Object.assign(g,m),g})}}async computeTokens(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=Rxe(this.apiClient,t);return i=Ze("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const d=Oxe(u),h=new ope;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=bve(this.apiClient,t);return o=Ze("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>{const m=vve(h),g=new qx;return Object.assign(g,m),g})}else{const d=yve(this.apiClient,t);return o=Ze("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=xve(h),g=new qx;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s1e extends Uo{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let i;n&&"httpOptions"in n&&(i=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:i}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=r.name.split("/operations/")[0];let i;n&&"httpOptions"in n&&(i=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:a,config:{httpOptions:i}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Jme(t);return o=Ze("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s}else{const d=Xme(t);return o=Ze("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=Vme(t);return i=Ze("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o1e(e){const t={},r=w(e,["data"]);if(r!=null&&E(t,["data"],r),w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function l1e(e){const t={},r=w(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>x1e(i))),E(t,["parts"],a)}const n=w(e,["role"]);return n!=null&&E(t,["role"],n),t}function c1e(e,t,r){const n={},a=w(t,["expireTime"]);r!==void 0&&a!=null&&E(r,["expireTime"],a);const i=w(t,["newSessionExpireTime"]);r!==void 0&&i!=null&&E(r,["newSessionExpireTime"],i);const s=w(t,["uses"]);r!==void 0&&s!=null&&E(r,["uses"],s);const o=w(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&E(r,["bidiGenerateContentSetup"],g1e(e,o));const u=w(t,["lockAdditionalFields"]);return r!==void 0&&u!=null&&E(r,["fieldMask"],u),n}function u1e(e,t){const r={},n=w(t,["config"]);return n!=null&&E(r,["config"],c1e(e,n,r)),r}function d1e(e){const t={};if(w(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=w(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function f1e(e){const t={},r=w(e,["id"]);r!=null&&E(t,["id"],r);const n=w(e,["args"]);n!=null&&E(t,["args"],n);const a=w(e,["name"]);if(a!=null&&E(t,["name"],a),w(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function h1e(e){const t={};if(w(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function m1e(e){const t={};if(w(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function p1e(e,t){const r={},n=w(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],n);const a=w(e,["responseModalities"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","responseModalities"],a);const i=w(e,["temperature"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","temperature"],i);const s=w(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=w(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const u=w(e,["maxOutputTokens"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","maxOutputTokens"],u);const d=w(e,["mediaResolution"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","mediaResolution"],d);const h=w(e,["seed"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","seed"],h);const m=w(e,["speechConfig"]);t!==void 0&&m!=null&&E(t,["setup","generationConfig","speechConfig"],ZT(m));const g=w(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=w(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=w(e,["systemInstruction"]);t!==void 0&&b!=null&&E(t,["setup","systemInstruction"],l1e(ea(b)));const y=w(e,["tools"]);if(t!==void 0&&y!=null){let O=_f(y);Array.isArray(O)&&(O=O.map(I=>y1e(wf(I)))),E(t,["setup","tools"],O)}const _=w(e,["sessionResumption"]);t!==void 0&&_!=null&&E(t,["setup","sessionResumption"],v1e(_));const N=w(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&E(t,["setup","inputAudioTranscription"],N);const k=w(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&E(t,["setup","outputAudioTranscription"],k);const A=w(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&E(t,["setup","realtimeInputConfig"],A);const D=w(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const j=w(e,["proactivity"]);if(t!==void 0&&j!=null&&E(t,["setup","proactivity"],j),w(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function g1e(e,t){const r={},n=w(t,["model"]);n!=null&&E(r,["setup","model"],zt(e,n));const a=w(t,["config"]);return a!=null&&E(r,["config"],p1e(a,r)),r}function x1e(e){const t={},r=w(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=w(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const a=w(e,["executableCode"]);a!=null&&E(t,["executableCode"],a);const i=w(e,["fileData"]);i!=null&&E(t,["fileData"],d1e(i));const s=w(e,["functionCall"]);s!=null&&E(t,["functionCall"],f1e(s));const o=w(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const u=w(e,["inlineData"]);u!=null&&E(t,["inlineData"],o1e(u));const d=w(e,["text"]);d!=null&&E(t,["text"],d);const h=w(e,["thought"]);h!=null&&E(t,["thought"],h);const m=w(e,["thoughtSignature"]);m!=null&&E(t,["thoughtSignature"],m);const g=w(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function v1e(e){const t={},r=w(e,["handle"]);if(r!=null&&E(t,["handle"],r),w(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function y1e(e){const t={};if(w(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=w(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const a=w(e,["codeExecution"]);if(a!=null&&E(t,["codeExecution"],a),w(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=w(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),E(t,["functionDeclarations"],h)}const s=w(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],h1e(s));const o=w(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],m1e(o));const u=w(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=w(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b1e(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const a=Object.keys(n).map(i=>`${r}.${i}`);t.push(...a)}else t.push(r)}return t.join(",")}function w1e(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const i=n.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,r=i):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(r){const i=b1e(r);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];a.length>0&&(o=a.map(d=>s.includes(d)?`generationConfig.${d}`:d));const u=[];i&&u.push(i),o.length>0&&u.push(...o),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class _1e extends Uo{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=u1e(this.apiClient,t);i=Ze("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const u=w1e(o,t.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),a.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E1e(e,t){const r={},n=w(e,["force"]);return t!==void 0&&n!=null&&E(t,["_query","force"],n),r}function S1e(e){const t={},r=w(e,["name"]);r!=null&&E(t,["_url","name"],r);const n=w(e,["config"]);return n!=null&&E1e(n,t),t}function T1e(e){const t={},r=w(e,["name"]);return r!=null&&E(t,["_url","name"],r),t}function N1e(e,t){const r={},n=w(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const a=w(e,["pageToken"]);return t!==void 0&&a!=null&&E(t,["_query","pageToken"],a),r}function A1e(e){const t={},r=w(e,["parent"]);r!=null&&E(t,["_url","parent"],r);const n=w(e,["config"]);return n!=null&&N1e(n,t),t}function C1e(e){const t={},r=w(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=w(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const a=w(e,["documents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>s)),E(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k1e extends Uo{constructor(t){super(),this.apiClient=t,this.list=async r=>new gu(ko.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=T1e(t);return i=Ze("{name}",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async delete(t){var r,n;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=S1e(t);a=Ze("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=A1e(t);return i=Ze("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=C1e(u),h=new lpe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I1e extends Uo{constructor(t,r=new k1e(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new gu(ko.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bye(t);return i=Ze("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async get(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eye(t);return i=Ze("{name}",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>u)}}async delete(t){var r,n;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_ye(t);a=Ze("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kye(t);return i=Ze("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Iye(u),h=new cpe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jye(t);return i=Ze("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Rye(u),h=new upe;return Object.assign(h,d),h})}}async importFile(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nye(t);return i=Ze("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),a.then(u=>{const d=Tye(u),h=new WT;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let HU=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return HU=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const j1e=()=>HU();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T2(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const N2=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi extends Error{}class xa extends Fi{constructor(t,r,n,a){super(`${xa.makeMessage(t,r,n)}`),this.status=t,this.headers=a,this.error=r}static makeMessage(t,r,n){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,r,n,a){if(!t||!a)return new my({message:n,cause:N2(r)});const i=r;return t===400?new qU(t,i,n,a):t===401?new WU(t,i,n,a):t===403?new KU(t,i,n,a):t===404?new YU(t,i,n,a):t===409?new XU(t,i,n,a):t===422?new JU(t,i,n,a):t===429?new ZU(t,i,n,a):t>=500?new QU(t,i,n,a):new xa(t,i,n,a)}}class A2 extends xa{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class my extends xa{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class GU extends my{constructor({message:t}={}){super({message:t??"Request timed out."})}}class qU extends xa{}class WU extends xa{}class KU extends xa{}class YU extends xa{}class XU extends xa{}class JU extends xa{}class ZU extends xa{}class QU extends xa{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R1e=/^[a-z][a-z0-9+.-]*:/i,O1e=e=>R1e.test(e);let C2=e=>(C2=Array.isArray,C2(e));const D1e=C2;let M1e=D1e;const PP=M1e;function P1e(e){if(!e)return!0;for(const t in e)return!1;return!0}function L1e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const F1e=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Fi(`${e} must be an integer`);if(t<0)throw new Fi(`${e} must be a positive integer`);return t},B1e=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U1e=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kd="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $1e=()=>{var e,t,r,n,a;const i=z1e();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kd,"X-Stainless-OS":FP(Deno.build.os),"X-Stainless-Arch":LP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kd,"X-Stainless-OS":FP((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":LP((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const s=V1e();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function V1e(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const a=n[1]||0,i=n[2]||0,s=n[3]||0;return{browser:t,version:`${a}.${i}.${s}`}}}return null}const LP=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",FP=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let sg;const H1e=()=>sg??(sg=$1e());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function e7(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function q1e(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return e7({start(){},async pull(r){const{done:n,value:a}=await t.next();n?r.close():r.enqueue(a)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function t7(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function W1e(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),a=n.cancel();n.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K1e=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r7=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function L_(e,t,r){return r7(),new File(e,t??"unknown_file",r)}function Y1e(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const X1e=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n7=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",J1e=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&n7(e),Z1e=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Q1e(e,t,r){if(r7(),e=await e,J1e(e))return e instanceof File?e:L_([await e.arrayBuffer()],e.name);if(Z1e(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),L_(await k2(a),t,r)}const n=await k2(e);if(t||(t=Y1e(e)),!(r!=null&&r.type)){const a=n.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof a=="string"&&(r=Object.assign(Object.assign({},r),{type:a}))}return L_(n,t,r)}async function k2(e){var t,r,n,a,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(n7(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(X1e(e))try{for(var o=!0,u=as(e),d;d=await u.next(),t=d.done,!t;o=!0){a=d.value,o=!1;const h=a;s.push(...await k2(h))}}catch(h){r={error:h}}finally{try{!o&&!t&&(n=u.return)&&await n.call(u)}finally{if(r)throw r.error}}else{const h=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${ebe(e)}`)}return s}function ebe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a7{constructor(t){this._client=t}}a7._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i7(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const BP=Object.freeze(Object.create(null)),tbe=(e=i7)=>(function(r,...n){if(r.length===1)return r[0];let a=!1;const i=[],s=r.reduce((h,m,g)=>{var x,b,y;/[?#]/.test(m)&&(a=!0);const _=n[g];let N=(a?encodeURIComponent:e)(""+_);return g!==n.length&&(_==null||typeof _=="object"&&_.toString===((y=Object.getPrototypeOf((b=Object.getPrototypeOf((x=_.hasOwnProperty)!==null&&x!==void 0?x:BP))!==null&&b!==void 0?b:BP))===null||y===void 0?void 0:y.toString))&&(N=_+"",i.push({start:h.length+m.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),h+m+(g===n.length?"":N)},""),o=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=u.exec(o))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((h,m)=>h.start-m.start),i.length>0){let h=0;const m=i.reduce((g,x)=>{const b=" ".repeat(x.start-h),y="^".repeat(x.length);return h=x.start+x.length,g+b+y},"");throw new Fi(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${s}
${m}`)}return s}),og=tbe(i7);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s7 extends a7{create(t,r){var n;const{api_version:a=this._client.apiVersion}=t,i=Kx(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new Fi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Fi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(og`/${a}/interactions`,Object.assign(Object.assign({body:i},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:a=this._client.apiVersion}=r??{};return this._client.delete(og`/${a}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:a=this._client.apiVersion}=r??{};return this._client.post(og`/${a}/interactions/${t}/cancel`,n)}get(t,r={},n){var a;const i=r??{},{api_version:s=this._client.apiVersion}=i,o=Kx(i,["api_version"]);return this._client.get(og`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(a=r==null?void 0:r.stream)!==null&&a!==void 0?a:!1}))}}s7._key=Object.freeze(["interactions"]);class o7 extends s7{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rbe(e){let t=0;for(const a of e)t+=a.length;const r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}let lg;function eN(e){let t;return(lg??(t=new globalThis.TextEncoder,lg=t.encode.bind(t)))(e)}let cg;function UP(e){let t;return(cg??(t=new globalThis.TextDecoder,cg=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class py{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?eN(t):t;this.buffer=rbe([this.buffer,r]);const n=[];let a;for(;(a=nbe(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){n.push(UP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,s=UP(this.buffer.subarray(0,i));n.push(s),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}py.NEWLINE_CHARS=new Set([`
`,"\r"]);py.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nbe(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function abe(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx={off:0,error:200,warn:300,info:400,debug:500},zP=(e,t,r)=>{if(e){if(L1e(Yx,e))return e;oa(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yx))}`)}};function L0(){}function ug(e,t,r){return!t||Yx[e]>Yx[r]?L0:t[e].bind(t)}const ibe={error:L0,warn:L0,info:L0,debug:L0};let $P=new WeakMap;function oa(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return ibe;const a=$P.get(r);if(a&&a[0]===n)return a[1];const i={error:ug("error",r,n),warn:ug("warn",r,n),info:ug("info",r,n),debug:ug("debug",r,n)};return $P.set(r,[n,i]),i}const _c=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pd{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let a=!1;const i=n?oa(n):console;function s(){return ns(this,arguments,function*(){var u,d,h,m;if(a)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var x=!0,b=as(sbe(t,r)),y;y=yield vt(b.next()),u=y.done,!u;x=!0){m=y.value,x=!1;const _=m;if(!g)if(_.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield vt(JSON.parse(_.data))}catch(N){throw i.error("Could not parse message into JSON:",_.data),i.error("From chunk:",_.raw),N}}}catch(_){d={error:_}}finally{try{!x&&!u&&(h=b.return)&&(yield vt(h.call(b)))}finally{if(d)throw d.error}}g=!0}catch(_){if(T2(_))return yield vt(void 0);throw _}finally{g||r.abort()}})}return new Pd(s,r,n)}static fromReadableStream(t,r,n){let a=!1;function i(){return ns(this,arguments,function*(){var u,d,h,m;const g=new py,x=t7(t);try{for(var b=!0,y=as(x),_;_=yield vt(y.next()),u=_.done,!u;b=!0){m=_.value,b=!1;const N=m;for(const k of g.decode(N))yield yield vt(k)}}catch(N){d={error:N}}finally{try{!b&&!u&&(h=y.return)&&(yield vt(h.call(y)))}finally{if(d)throw d.error}}for(const N of g.flush())yield yield vt(N)})}function s(){return ns(this,arguments,function*(){var u,d,h,m;if(a)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var x=!0,b=as(i()),y;y=yield vt(b.next()),u=y.done,!u;x=!0){m=y.value,x=!1;const _=m;g||_&&(yield yield vt(JSON.parse(_)))}}catch(_){d={error:_}}finally{try{!x&&!u&&(h=b.return)&&(yield vt(h.call(b)))}finally{if(d)throw d.error}}g=!0}catch(_){if(T2(_))return yield vt(void 0);throw _}finally{g||r.abort()}})}return new Pd(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),a=i=>({next:()=>{if(i.length===0){const s=n.next();t.push(s),r.push(s)}return i.shift()}});return[new Pd(()=>a(t),this.controller,this.client),new Pd(()=>a(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return e7({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:a,done:i}=await r.next();if(i)return n.close();const s=eN(JSON.stringify(a)+`
`);n.enqueue(s)}catch(a){n.error(a)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function sbe(e,t){return ns(this,arguments,function*(){var n,a,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fi("Attempted to iterate over a response with no body");const o=new lbe,u=new py,d=t7(e.body);try{for(var h=!0,m=as(obe(d)),g;g=yield vt(m.next()),n=g.done,!n;h=!0){s=g.value,h=!1;const x=s;for(const b of u.decode(x)){const y=o.decode(b);y&&(yield yield vt(y))}}}catch(x){a={error:x}}finally{try{!h&&!n&&(i=m.return)&&(yield vt(i.call(m)))}finally{if(a)throw a.error}}for(const x of u.flush()){const b=o.decode(x);b&&(yield yield vt(b))}})}function obe(e){return ns(this,arguments,function*(){var r,n,a,i;let s=new Uint8Array;try{for(var o=!0,u=as(e),d;d=yield vt(u.next()),r=d.done,!r;o=!0){i=d.value,o=!1;const h=i;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?eN(h):h;let g=new Uint8Array(s.length+m.length);g.set(s),g.set(m,s.length),s=g;let x;for(;(x=abe(s))!==-1;)yield yield vt(s.slice(0,x)),s=s.slice(x)}}catch(h){n={error:h}}finally{try{!o&&!r&&(a=u.return)&&(yield vt(a.call(u)))}finally{if(n)throw n.error}}s.length>0&&(yield yield vt(s))})}class lbe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,a]=cbe(t,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function cbe(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ube(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:a,startTime:i}=t,s=await(async()=>{var o;if(t.options.stream)return oa(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Pd.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const u=r.headers.get("content-type"),d=(o=u==null?void 0:u.split(";")[0])===null||o===void 0?void 0:o.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await r.json():await r.text()})();return oa(e).debug(`[${n}] response parsed`,_c({retryOfRequestLogID:a,url:r.url,status:r.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tN extends Promise{constructor(t,r,n=ube){super(a=>{a(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new tN(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l7=Symbol("brand.privateNullableHeaders");function*dbe(e){if(!e)return;if(l7 in e){const{values:n,nulls:a}=e;yield*n.entries();for(const i of a)yield[i,null];return}let t=!1,r;e instanceof Headers?r=e.entries():PP(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const a=n[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const i=PP(n[1])?n[1]:[n[1]];let s=!1;for(const o of i)o!==void 0&&(t&&!s&&(s=!0,yield[a,null]),yield[a,o])}}const I0=e=>{const t=new Headers,r=new Set;for(const n of e){const a=new Set;for(const[i,s]of dbe(n)){const o=i.toLowerCase();a.has(o)||(t.delete(i),a.add(o)),s===null?(t.delete(i),r.add(o)):(t.append(i,s),r.delete(o))}}return{[l7]:!0,values:t,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F_=e=>{var t,r,n,a,i,s;if(typeof globalThis.process<"u")return(n=(r=(t=Lme)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||i===void 0?void 0:i.call(a,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var c7;class gy{constructor(t){var r,n,a,i,s,o,u,{baseURL:d=F_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(r=F_("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:m="v1beta"}=t,g=Kx(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:h,apiVersion:m},g),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(n=x.timeout)!==null&&n!==void 0?n:gy.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(s=(i=zP(x.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:zP(F_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(o=x.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(u=x.fetch)!==null&&u!==void 0?u:G1e(),this.encoder=K1e,this._options=x,this.apiKey=h,this.apiVersion=m,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=I0([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return I0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return I0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Fi(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${kd}`}defaultIdempotencyKey(){return`stainless-node-retry-${j1e()}`}makeStatusError(t,r,n,a){return xa.generate(t,r,n,a)}buildURL(t,r,n){const a=!this.baseURLOverridden()&&n||this.baseURL,i=O1e(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return P1e(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(i.search=this.stringifyQuery(r)),i.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(a=>Object.assign({method:t,path:r},a)))}request(t,r=null){return new tN(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var a,i,s;const o=await t,u=(a=o.maxRetries)!==null&&a!==void 0?a:this.maxRetries;r==null&&(r=u),await this.prepareOptions(o);const{req:d,url:h,timeout:m}=await this.buildRequest(o,{retryCount:u-r});await this.prepareRequest(d,{url:h,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=n===void 0?"":`, retryOf: ${n}`,b=Date.now();if(oa(this).debug(`[${g}] sending request`,_c({retryOfRequestLogID:n,method:o.method,url:h,options:o,headers:d.headers})),!((i=o.signal)===null||i===void 0)&&i.aborted)throw new A2;const y=new AbortController,_=await this.fetchWithTimeout(h,d,m,y).catch(N2),N=Date.now();if(_ instanceof globalThis.Error){const A=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new A2;const D=T2(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(r)return oa(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${A}`),oa(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${A})`,_c({retryOfRequestLogID:n,url:h,durationMs:N-b,message:_.message})),this.retryRequest(o,r,n??g);throw oa(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),oa(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,_c({retryOfRequestLogID:n,url:h,durationMs:N-b,message:_.message})),D?new GU:new my({cause:_})}const k=`[${g}${x}] ${d.method} ${h} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${N-b}ms`;if(!_.ok){const A=await this.shouldRetry(_);if(r&&A){const R=`retrying, ${r} attempts remaining`;return await W1e(_.body),oa(this).info(`${k} - ${R}`),oa(this).debug(`[${g}] response error (${R})`,_c({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:N-b})),this.retryRequest(o,r,n??g,_.headers)}const D=A?"error; no more retries left":"error; not retryable";oa(this).info(`${k} - ${D}`);const j=await _.text().catch(R=>N2(R).message),O=B1e(j),I=O?void 0:j;throw oa(this).debug(`[${g}] response error (${D})`,_c({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,message:I,durationMs:Date.now()-b})),this.makeStatusError(_.status,O,I,_.headers)}return oa(this).info(k),oa(this).debug(`[${g}] response start`,_c({retryOfRequestLogID:n,url:_.url,status:_.status,headers:_.headers,durationMs:N-b})),{response:_,options:o,controller:y,requestLogID:g,retryOfRequestLogID:n,startTime:b}}async fetchWithTimeout(t,r,n,a){const i=r||{},{signal:s,method:o}=i,u=Kx(i,["signal","method"]);s&&s.addEventListener("abort",()=>a.abort());const d=setTimeout(()=>a.abort(),n),h=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,m=Object.assign(Object.assign(Object.assign({signal:a.signal},h?{duplex:"half"}:{}),{method:"GET"}),u);o&&(m.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,a){var i;let s;const o=a==null?void 0:a.get("retry-after-ms");if(o){const d=parseFloat(o);Number.isNaN(d)||(s=d)}const u=a==null?void 0:a.get("retry-after");if(u&&!s){const d=parseFloat(u);Number.isNaN(d)?s=Date.parse(u)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,d)}return await U1e(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,s=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,a,i;const s=Object.assign({},t),{method:o,path:u,query:d,defaultBaseURL:h}=s,m=this.buildURL(u,d,h);"timeout"in s&&F1e("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:g,body:x}=this.buildBody({options:s}),b=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:b},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:a}){let i={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=I0([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),H1e()),this._options.defaultHeaders,n,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=I0([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:q1e(t)}:this.encoder({body:t,headers:n})}}gy.DEFAULT_TIMEOUT=6e4;class Cn extends gy{constructor(){super(...arguments),this.interactions=new o7(this)}}c7=Cn;Cn.GeminiNextGenAPIClient=c7;Cn.GeminiNextGenAPIClientError=Fi;Cn.APIError=xa;Cn.APIConnectionError=my;Cn.APIConnectionTimeoutError=GU;Cn.APIUserAbortError=A2;Cn.NotFoundError=YU;Cn.ConflictError=XU;Cn.RateLimitError=ZU;Cn.BadRequestError=qU;Cn.AuthenticationError=WU;Cn.InternalServerError=QU;Cn.PermissionDeniedError=KU;Cn.UnprocessableEntityError=JU;Cn.toFile=Q1e;Cn.Interactions=o7;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fbe(e,t){const r={},n=w(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function hbe(e,t){const r={},n=w(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function mbe(e,t){const r={},n=w(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function pbe(e,t){const r={},n=w(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function gbe(e,t,r){const n={};if(w(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=w(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&E(t,["displayName"],a),w(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=w(e,["epochCount"]);t!==void 0&&i!=null&&E(t,["tuningTask","hyperparameters","epochCount"],i);const s=w(e,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),w(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(w(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(w(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=w(e,["batchSize"]);t!==void 0&&o!=null&&E(t,["tuningTask","hyperparameters","batchSize"],o);const u=w(e,["learningRate"]);if(t!==void 0&&u!=null&&E(t,["tuningTask","hyperparameters","learningRate"],u),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(w(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function xbe(e,t,r){const n={};let a=w(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=w(e,["validationDataset"]);t!==void 0&&x!=null&&E(t,["supervisedTuningSpec"],VP(x))}else if(a==="PREFERENCE_TUNING"){const x=w(e,["validationDataset"]);t!==void 0&&x!=null&&E(t,["preferenceOptimizationSpec"],VP(x))}const i=w(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&E(t,["tunedModelDisplayName"],i);const s=w(e,["description"]);t!==void 0&&s!=null&&E(t,["description"],s);let o=w(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const x=w(e,["epochCount"]);t!==void 0&&x!=null&&E(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(o==="PREFERENCE_TUNING"){const x=w(e,["epochCount"]);t!==void 0&&x!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let u=w(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=w(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&E(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(u==="PREFERENCE_TUNING"){const x=w(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let d=w(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=w(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&E(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(d==="PREFERENCE_TUNING"){const x=w(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&E(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=w(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=w(e,["adapterSize"]);t!==void 0&&x!=null&&E(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=w(e,["adapterSize"]);t!==void 0&&x!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(w(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(w(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=w(e,["labels"]);t!==void 0&&m!=null&&E(t,["labels"],m);const g=w(e,["beta"]);return t!==void 0&&g!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),n}function vbe(e,t){const r={},n=w(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const a=w(e,["preTunedModel"]);a!=null&&E(r,["preTunedModel"],a);const i=w(e,["trainingDataset"]);i!=null&&kbe(i);const s=w(e,["config"]);return s!=null&&gbe(s,r),r}function ybe(e,t){const r={},n=w(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const a=w(e,["preTunedModel"]);a!=null&&E(r,["preTunedModel"],a);const i=w(e,["trainingDataset"]);i!=null&&Ibe(i,r,t);const s=w(e,["config"]);return s!=null&&xbe(s,r,t),r}function bbe(e,t){const r={},n=w(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function wbe(e,t){const r={},n=w(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function _be(e,t,r){const n={},a=w(e,["pageSize"]);t!==void 0&&a!=null&&E(t,["_query","pageSize"],a);const i=w(e,["pageToken"]);t!==void 0&&i!=null&&E(t,["_query","pageToken"],i);const s=w(e,["filter"]);return t!==void 0&&s!=null&&E(t,["_query","filter"],s),n}function Ebe(e,t,r){const n={},a=w(e,["pageSize"]);t!==void 0&&a!=null&&E(t,["_query","pageSize"],a);const i=w(e,["pageToken"]);t!==void 0&&i!=null&&E(t,["_query","pageToken"],i);const s=w(e,["filter"]);return t!==void 0&&s!=null&&E(t,["_query","filter"],s),n}function Sbe(e,t){const r={},n=w(e,["config"]);return n!=null&&_be(n,r),r}function Tbe(e,t){const r={},n=w(e,["config"]);return n!=null&&Ebe(n,r),r}function Nbe(e,t){const r={},n=w(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const a=w(e,["nextPageToken"]);a!=null&&E(r,["nextPageToken"],a);const i=w(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>u7(o))),E(r,["tuningJobs"],s)}return r}function Abe(e,t){const r={},n=w(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const a=w(e,["nextPageToken"]);a!=null&&E(r,["nextPageToken"],a);const i=w(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>I2(o))),E(r,["tuningJobs"],s)}return r}function Cbe(e,t){const r={},n=w(e,["name"]);n!=null&&E(r,["model"],n);const a=w(e,["name"]);return a!=null&&E(r,["endpoint"],a),r}function kbe(e,t){const r={};if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=w(e,["examples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),E(r,["examples","examples"],a)}return r}function Ibe(e,t,r){const n={};let a=w(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=w(e,["gcsUri"]);t!==void 0&&s!=null&&E(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=w(e,["gcsUri"]);t!==void 0&&s!=null&&E(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=w(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=w(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&E(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=w(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&E(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(w(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function u7(e,t){const r={},n=w(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const a=w(e,["name"]);a!=null&&E(r,["name"],a);const i=w(e,["state"]);i!=null&&E(r,["state"],NU(i));const s=w(e,["createTime"]);s!=null&&E(r,["createTime"],s);const o=w(e,["tuningTask","startTime"]);o!=null&&E(r,["startTime"],o);const u=w(e,["tuningTask","completeTime"]);u!=null&&E(r,["endTime"],u);const d=w(e,["updateTime"]);d!=null&&E(r,["updateTime"],d);const h=w(e,["description"]);h!=null&&E(r,["description"],h);const m=w(e,["baseModel"]);m!=null&&E(r,["baseModel"],m);const g=w(e,["_self"]);return g!=null&&E(r,["tunedModel"],Cbe(g)),r}function I2(e,t){const r={},n=w(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const a=w(e,["name"]);a!=null&&E(r,["name"],a);const i=w(e,["state"]);i!=null&&E(r,["state"],NU(i));const s=w(e,["createTime"]);s!=null&&E(r,["createTime"],s);const o=w(e,["startTime"]);o!=null&&E(r,["startTime"],o);const u=w(e,["endTime"]);u!=null&&E(r,["endTime"],u);const d=w(e,["updateTime"]);d!=null&&E(r,["updateTime"],d);const h=w(e,["error"]);h!=null&&E(r,["error"],h);const m=w(e,["description"]);m!=null&&E(r,["description"],m);const g=w(e,["baseModel"]);g!=null&&E(r,["baseModel"],g);const x=w(e,["tunedModel"]);x!=null&&E(r,["tunedModel"],x);const b=w(e,["preTunedModel"]);b!=null&&E(r,["preTunedModel"],b);const y=w(e,["supervisedTuningSpec"]);y!=null&&E(r,["supervisedTuningSpec"],y);const _=w(e,["preferenceOptimizationSpec"]);_!=null&&E(r,["preferenceOptimizationSpec"],_);const N=w(e,["tuningDataStats"]);N!=null&&E(r,["tuningDataStats"],N);const k=w(e,["encryptionSpec"]);k!=null&&E(r,["encryptionSpec"],k);const A=w(e,["partnerModelTuningSpec"]);A!=null&&E(r,["partnerModelTuningSpec"],A);const D=w(e,["customBaseModel"]);D!=null&&E(r,["customBaseModel"],D);const j=w(e,["experiment"]);j!=null&&E(r,["experiment"],j);const O=w(e,["labels"]);O!=null&&E(r,["labels"],O);const I=w(e,["outputUri"]);I!=null&&E(r,["outputUri"],I);const M=w(e,["pipelineJob"]);M!=null&&E(r,["pipelineJob"],M);const R=w(e,["serviceAccount"]);R!=null&&E(r,["serviceAccount"],R);const z=w(e,["tunedModelDisplayName"]);z!=null&&E(r,["tunedModelDisplayName"],z);const q=w(e,["veoTuningSpec"]);return q!=null&&E(r,["veoTuningSpec"],q),r}function jbe(e,t){const r={},n=w(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const a=w(e,["name"]);a!=null&&E(r,["name"],a);const i=w(e,["metadata"]);i!=null&&E(r,["metadata"],i);const s=w(e,["done"]);s!=null&&E(r,["done"],s);const o=w(e,["error"]);return o!=null&&E(r,["error"],o),r}function VP(e,t){const r={},n=w(e,["gcsUri"]);n!=null&&E(r,["validationDatasetUri"],n);const a=w(e,["vertexDatasetResource"]);return a!=null&&E(r,["validationDatasetUri"],a),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rbe extends Uo{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new gu(ko.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const a={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(a.checkpointId=r.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},r),{preTunedModel:a});return i.baseModel=void 0,await this.tuneInternal(i)}else{const a=Object.assign({},r);return await this.tuneInternal(a)}else{const a=Object.assign({},r),i=await this.tuneMldevInternal(a);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:v2.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=wbe(t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>I2(h))}else{const d=bbe(t);return o=Ze("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>u7(h))}}async listInternal(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=Tbe(t);return o=Ze("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Abe(h),g=new pP;return Object.assign(g,m),g})}else{const d=Sbe(t);return o=Ze("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Nbe(h),g=new pP;return Object.assign(g,m),g})}}async cancel(t){var r,n,a,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const d=hbe(t);return o=Ze("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=pbe(h),g=new gP;return Object.assign(g,m),g})}else{const d=fbe(t);return o=Ze("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=mbe(h),g=new gP;return Object.assign(g,m),g})}}async tuneInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI()){const o=ybe(t,t);return i=Ze("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>I2(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vbe(t);return i=Ze("tunedModels",o._url),s=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>jbe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Obe{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Dbe=1024*1024*8,Mbe=3,Pbe=1e3,Lbe=2,Xx="x-goog-upload-status";async function Fbe(e,t,r){var n;const a=await d7(e,t,r),i=await(a==null?void 0:a.json());if(((n=a==null?void 0:a.headers)===null||n===void 0?void 0:n[Xx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function Bbe(e,t,r){var n;const a=await d7(e,t,r),i=await(a==null?void 0:a.json());if(((n=a==null?void 0:a.headers)===null||n===void 0?void 0:n[Xx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=bU(i),o=new KT;return Object.assign(o,s),o}async function d7(e,t,r){var n,a;let i=0,s=0,o=new y2(new Response),u="upload";for(i=e.size;s<i;){const d=Math.min(Dbe,i-s),h=e.slice(s,s+d);s+d>=i&&(u+=", finalize");let m=0,g=Pbe;for(;m<Mbe&&(o=await r.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((n=o==null?void 0:o.headers)===null||n===void 0)&&n[Xx]));)m++,await zbe(g),g=g*Lbe;if(s+=d,((a=o==null?void 0:o.headers)===null||a===void 0?void 0:a[Xx])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Ube(e){return{size:e.size,type:e.type}}function zbe(e){return new Promise(t=>setTimeout(t,e))}class $be{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Fbe(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bbe(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ube(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vbe{create(t,r,n){return new Hbe(t,r,n)}}class Hbe{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HP="x-goog-api-key";class Gbe{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(HP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(HP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qbe="gl-node/";class Wbe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Cn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=zme(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new Gbe(this.apiKey);this.apiClient=new Uye({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qbe+"web",uploader:new $be,downloader:new Obe}),this.models=new i1e(this.apiClient),this.live=new Qye(this.apiClient,a,new Vbe),this.batches=new gge(this.apiClient),this.chats=new Jge(this.models,this.apiClient),this.caches=new Kge(this.apiClient),this.files=new oxe(this.apiClient),this.operations=new s1e(this.apiClient),this.authTokens=new _1e(this.apiClient),this.tunings=new Rbe(this.apiClient),this.fileSearchStores=new I1e(this.apiClient)}}const f7=new Wbe({apiKey:"PLACEHOLDER_API_KEY"}),Kbe=async(e,t)=>{const r=e.filter(o=>o.type===et.INCOME).reduce((o,u)=>o+u.amount,0),n=e.filter(o=>o.type===et.EXPENSE).reduce((o,u)=>o+u.amount,0),a=r-n,i=`
    Company: ${t}
    Total Income: R$ ${r.toFixed(2)}
    Total Expense: R$ ${n.toFixed(2)}
    Net Result: R$ ${a.toFixed(2)}
    Recent Transactions: ${JSON.stringify(e.slice(0,5).map(o=>({d:o.description,a:o.amount,t:o.type})))}
  `,s=`
    Atue como um Consultor Financeiro Snior de alto nvel (CFO).
    Analise os dados financeiros resumidos abaixo da empresa "${t}".
    
    Dados:
    ${i}

    Fornea:
    1. Um breve diagnstico da sade financeira (1 pargrafo).
    2. Duas recomendaes tticas para melhorar o caixa.
    3. Um alerta de risco se houver.
    
    Use formatao Markdown simples. Seja direto e profissional.
  `;try{return(await f7.models.generateContent({model:"gemini-3-flash-preview",contents:s})).text||"No foi possvel gerar a anlise no momento."}catch(o){return console.error("Gemini API Error:",o),"Erro ao conectar com a inteligncia artificial. Verifique sua chave de API."}},GP=e=>{const t=e.accounts.reduce((o,u)=>o+u.balance,0),n=[...e.transactions].sort((o,u)=>new Date(u.date).getTime()-new Date(o.date).getTime()).slice(0,50).map(o=>`- ${o.date}: ${o.description} | ${o.type==="INCOME"?"+":"-"}R$${o.amount.toFixed(2)} | Cat: ${o.category}`).join(`
`),a=e.costCenters.filter(o=>o.status==="ACTIVE").map(o=>o.name).join(", ");let i=[];e.history&&(i=e.history.filter(o=>o.role==="user"||o.role==="model").map(o=>({role:o.role,parts:[{text:o.text}]})));const s=`
        Voc  o FinAI, o assistente financeiro inteligente da empresa "${e.companyName}".
        
        **OBJETIVO:** Coletar informaes completas para lanamentos financeiros e encaminhar o usurio para a tela de conferncia.

        **DADOS ATUAIS:**
        - Saldo Bancrio: R$ ${t.toFixed(2)}
        - Centros de Custo Disponveis: [${a||"Nenhum"}]
        - Histrico recente:
        ${n}

        **SUAS HABILIDADES (TOOLS):**
        1. \`prepare_transaction_draft\`: Use APS coletar todos os dados necessrios. Leva o usurio para a tela de confirmao.
        2. \`navigate_to\`: Apenas para visualizar dashboards.

        **DIRETRIZES DE INTERAO (MEMRIA E COLETA):**

        1. **REGISTRO DE DESPESAS (Obrigatrio Coletar):**
           - Valor
           - Descrio
           - Categoria (Infira se possvel)
           - **Centro de Custo** (Pergunte sempre se houver opes disponveis: ${a})
           - **Status de Pagamento** (Pergunte: "J foi pago ou est pendente?")

        2. **REGISTRO DE RECEITAS:**
           - Valor, Descrio, Categoria, Status (Recebido/Pendente).

        3. **FLUXO DA CONVERSA:**
           - **Passo 1:** Usurio diz "Gastei 50 no Uber".
           - **Passo 2:** Voc analisa. Tem o valor? Sim. Descrio? Sim. Categoria? Sim (Transporte). Centro de Custo? NO. Status? NO.
           - **Passo 3:** PERGUNTE O QUE FALTA. "Entendido. Para qual centro de custo devo alocar? (Opes: ${a}). E essa despesa j foi paga?"
           - **Passo 4:** Usurio responde.
           - **Passo 5:** Voc confirma os dados mentalmente e chama a tool \`prepare_transaction_draft\` preenchida. Diga: "Certo! Abrindo a tela de lanamento para voc conferir e salvar."

        4. **EXECUO:**
           - No invente dados. Se o usurio no disser o centro de custo mesmo aps perguntar, deixe em branco.
           - Sempre mapeie o nome do centro de custo escolhido para o campo \`costCenterName\`.

        5. **TOM DE VOZ:**
           - Profissional, direto e prestativo.
           - Responda sempre em Portugus do Brasil.
    `;return f7.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:s,temperature:.2,tools:e.tools},history:i})},Ybe=({company:e,transactions:t,role:r,currentUser:n,onRefresh:a,onNavigate:i})=>{const[s,o]=S.useState(!1),[u,d]=S.useState(null),[h,m]=S.useState("MONTH"),[g,x]=S.useState(new Date),b=[Xe.ADMIN,Xe.BPO,Xe.CONSULTANT,Xe.SUPER_ADMIN].includes(r)||n.permissions&&n.permissions.includes("EDIT_TRANSACTIONS"),y=(F,Y)=>{const de=new Date(F),ce=new Date(F);if(de.setHours(0,0,0,0),ce.setHours(23,59,59,999),Y==="WEEK"){const K=de.getDay(),ae=de.getDate()-K;de.setDate(ae),ce.setDate(ae+6)}else if(Y==="MONTH")de.setDate(1),ce.setMonth(ce.getMonth()+1,0);else if(Y==="SEMESTER"){const ae=de.getMonth()<6?0:6;de.setMonth(ae,1),ce.setMonth(ae+6,0)}else Y==="YEAR"&&(de.setMonth(0,1),ce.setMonth(11,31));return{start:de,end:ce}},_=F=>{const Y=new Date(g),de=F==="next"?1:-1;h==="WEEK"?Y.setDate(Y.getDate()+de*7):h==="MONTH"?Y.setMonth(Y.getMonth()+de):h==="SEMESTER"?Y.setMonth(Y.getMonth()+de*6):h==="YEAR"&&Y.setFullYear(Y.getFullYear()+de),x(Y)},N=()=>{const{start:F,end:Y}=y(g,h),de={year:"numeric",month:"long"};if(h==="WEEK")return`${F.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${Y.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`;if(h==="MONTH"){const ce=F.toLocaleDateString("pt-BR",de);return ce.charAt(0).toUpperCase()+ce.slice(1)}else return h==="SEMESTER"?`${F.getMonth()<6?"1 Semestre":"2 Semestre"} de ${F.getFullYear()}`:F.getFullYear().toString()},{start:k,end:A}=S.useMemo(()=>y(g,h),[g,h]),D=S.useMemo(()=>t.filter(F=>{const Y=F.date.split("-"),de=new Date(parseInt(Y[0]),parseInt(Y[1])-1,parseInt(Y[2]));return de>=k&&de<=A}),[t,k,A]),j=D.filter(F=>F.type===et.INCOME).reduce((F,Y)=>F+Y.amount,0),O=D.filter(F=>F.type===et.EXPENSE).reduce((F,Y)=>F+Y.amount,0),I=j-O,M=[{name:"Entradas",value:j},{name:"Sadas",value:O}],R=D.slice(0,5),z=async()=>{o(!0),d(null);const F=await Kbe(D,e.name);d(F),o(!1)},q=F=>{i("transactions",{openModal:!0,defaultType:F})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(xv,{className:"text-indigo-600",size:28})," Dashboard Financeiro"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Viso geral da sade financeira da empresa."})]}),b&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>q(et.INCOME),className:"flex items-center bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm",children:[l.jsx(ri,{size:18,className:"mr-2"})," Nova Receita"]}),l.jsxs("button",{onClick:()=>q(et.EXPENSE),className:"flex items-center bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm",children:[l.jsx(ti,{size:18,className:"mr-2"})," Nova Despesa"]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>m("WEEK"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${h==="WEEK"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),l.jsx("button",{onClick:()=>m("MONTH"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${h==="MONTH"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),l.jsx("button",{onClick:()=>m("SEMESTER"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${h==="SEMESTER"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semestre"}),l.jsx("button",{onClick:()=>m("YEAR"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${h==="YEAR"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ano"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>_("prev"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),N()]}),l.jsx("button",{onClick:()=>_("next"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Receita do Perodo"}),l.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg",children:l.jsx(ri,{size:20})})]}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",j.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Despesas do Perodo"}),l.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:l.jsx(ti,{size:20})})]}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Resultado Lquido"}),l.jsx("div",{className:`p-2 rounded-lg ${I>=0?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:l.jsx(os,{size:20})})]}),l.jsxs("p",{className:`text-2xl font-bold ${I>=0?"text-gray-900":"text-red-600"}`,children:["R$ ",I.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:l.jsx("h3",{className:"font-semibold text-gray-800",children:"ltimas Movimentaes (Filtradas)"})}),l.jsx("div",{className:"overflow-x-auto flex-1",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Data"}),l.jsx("th",{className:"px-6 py-3",children:"Descrio"}),l.jsx("th",{className:"px-6 py-3",children:"Categoria"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"})]})}),l.jsxs("tbody",{children:[R.map(F=>l.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 last:border-0",children:[l.jsx("td",{className:"px-6 py-4 text-gray-500 whitespace-nowrap",children:new Date(F.date).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 truncate max-w-[200px]",children:F.description}),l.jsx("td",{className:"px-6 py-4 text-gray-500",children:F.category}),l.jsxs("td",{className:`px-6 py-4 text-right font-medium ${F.type===et.INCOME?"text-emerald-600":"text-red-600"}`,children:[F.type===et.INCOME?"+":"-"," R$ ",F.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},F.id)),R.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum lanamento no perodo selecionado."})})]})]})}),l.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:l.jsxs("button",{onClick:()=>i("transactions"),className:"w-full text-center text-sm text-indigo-600 font-medium hover:text-indigo-800 transition-colors flex justify-center items-center gap-1",children:["Ver Extrato Completo ",l.jsx(Kc,{size:14})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-indigo-700 text-white rounded-xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:l.jsx(Bd,{size:24,className:"text-indigo-200"})}),l.jsx("h3",{className:"font-semibold text-lg",children:"FinAI Advisor"})]}),u?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"bg-white/10 rounded-lg p-4 text-sm text-indigo-50 leading-relaxed max-h-60 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"markdown-prose",dangerouslySetInnerHTML:{__html:u.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")}})}),l.jsx("button",{onClick:()=>d(null),className:"text-xs text-indigo-300 hover:text-white underline",children:"Nova Anlise"})]}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx("p",{className:"text-indigo-200 text-sm mb-4",children:"Use IA para analisar o fluxo de caixa deste perodo e encontrar oportunidades."}),l.jsxs("button",{onClick:z,disabled:s||D.length===0,className:`w-full bg-white text-indigo-900 font-medium py-2 px-4 rounded-lg hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2 ${D.length===0?"opacity-50 cursor-not-allowed":""}`,children:[s?l.jsx(Ia,{className:"animate-spin",size:18}):null,s?"Analisando...":"Gerar Diagnstico"]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 h-64",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Viso Rpida (Perodo)"}),l.jsx(Lv,{width:"100%",height:"100%",children:l.jsxs(gU,{data:M,children:[l.jsx(um,{strokeDasharray:"3 3",vertical:!1,stroke:"#eee"}),l.jsx(hm,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),l.jsx(mm,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),l.jsx(oy,{cursor:{fill:"transparent"}}),l.jsx(Pl,{dataKey:"value",fill:"#4f46e5",radius:[4,4,0,0],barSize:40})]})})]})]})]})]})},B_={PIX:"Pix",CREDIT_CARD:"Carto de Crdito",DEBIT_CARD:"Carto de Dbito",BOLETO:"Boleto",CASH:"Dinheiro",TRANSFER:"Transferncia",OTHER:"Outro"},h7=({isOpen:e,onClose:t,onSave:r,categories:n,accounts:a,costCenters:i,transactions:s,initialData:o,defaultType:u=et.INCOME,isPersonal:d=!1})=>{const[h,m]=S.useState(""),[g,x]=S.useState(""),[b,y]=S.useState(u),[_,N]=S.useState(""),[k,A]=S.useState(""),[D,j]=S.useState(""),[O,I]=S.useState(new Date().toISOString().split("T")[0]),[M,R]=S.useState(""),[z,q]=S.useState(!1),[F,Y]=S.useState("MONTHLY"),[de,ce]=S.useState(!1),[K,ae]=S.useState(""),[Z,W]=S.useState("CREDIT_CARD"),[ee,H]=S.useState("PIX"),[L,J]=S.useState(new Date().toISOString().split("T")[0]),[U,B]=S.useState("PAID"),[se,fe]=S.useState([]),Te=n.filter(Oe=>Oe.type===b&&Oe.active),te=a.filter(Oe=>Oe.status==="ACTIVE"),ge=i.filter(Oe=>Oe.status==="ACTIVE"),Se=b===et.EXPENSE,G=parseFloat(g)||0,_e=se.reduce((Oe,ut)=>Oe+(Number(ut.amount)||0),0),ue=Math.round((G-_e)*100)/100,be=Math.abs(ue)<.01;S.useEffect(()=>{if(e)if(o){m(o.description),y(o.type),N(o.category),A(o.accountId||""),j(o.costCenterId||""),x(o.amount.toString()),I(o.date),R(o.documentNumber||""),q(!!o.recurrence);const Oe=o.payments&&o.payments.length>1;if(ce(Oe),Oe)fe(o.payments);else if(o.payments&&o.payments.length===1){const ut=o.payments[0];H(ut.method),J(ut.date),B(ut.status),fe(o.payments)}else fe([])}else{if(m(""),x(""),ce(!1),y(u),j(""),R(""),I(new Date().toISOString().split("T")[0]),q(!1),H("PIX"),J(new Date().toISOString().split("T")[0]),B("PAID"),d)A("personal");else{const ut=a.filter(ot=>ot.status==="ACTIVE");ut.length>0?A(ut[0].id):A("")}const Oe=n.filter(ut=>ut.type===u&&ut.active);Oe.length>0?N(Oe[0].name):N(""),fe([]),ae(""),W("CREDIT_CARD")}},[e,o,d]);const Le=Oe=>{const ut=Oe.target.checked;if(ce(ut),ut){if(se.length===0){const ot=parseFloat(g)||0;fe([{id:Math.random().toString(36).substr(2,9),method:ee,amount:ot,date:L,status:U}])}}else ae("")},me=()=>{const Oe=Number(K);if(!Oe||Oe<1)return;const ut=se.length>0,ot=ut&&ue>0?ue:parseFloat(g);if(ot<=0)return;const Rt=Math.floor(ot/Oe*100)/100,pn=ot-Rt*Oe,kn=[],qt=new Date(O);ut&&qt.setMonth(qt.getMonth()+1);for(let kr=0;kr<Oe;kr++){const ft=new Date(qt);ft.setMonth(qt.getMonth()+kr);const sr=kr===0?Rt+pn:Rt;kn.push({id:Math.random().toString(36).substr(2,9),method:Z,amount:parseFloat(sr.toFixed(2)),date:ft.toISOString().split("T")[0],status:"PENDING",installmentNumber:kr+1,totalInstallments:Oe})}fe(ut?[...se,...kn]:kn)},Re=()=>{fe([])},je=Oe=>{fe(se.filter(ut=>ut.id!==Oe))},We=(Oe,ut,ot)=>{fe(se.map(Rt=>Rt.id===Oe?{...Rt,[ut]:ot}:Rt))},qe=Oe=>{var pn,kn;if(Oe.preventDefault(),!h||!_||!d&&!k||G<=0)return;let ut=[],ot="PAID";if(de){if(!be||se.length===0)return;ut=se;const qt=se.every(ft=>ft.status==="PAID"),kr=se.every(ft=>ft.status==="PENDING");ot=qt?"PAID":kr?"PENDING":"PARTIAL"}else ut=[{id:((kn=(pn=o==null?void 0:o.payments)==null?void 0:pn[0])==null?void 0:kn.id)||Math.random().toString(36).substr(2,9),method:ee,amount:G,date:L,status:U,installmentNumber:1,totalInstallments:1}],ot=U;let Rt;z&&(Rt={frequency:F,interval:1,infinite:!0}),r({id:o==null?void 0:o.id,description:h,amount:G,type:b,category:_,accountId:d?"personal":k,costCenterId:!d&&Se&&D||void 0,payments:ut,status:ot,date:O,recurrence:Rt,documentNumber:M||void 0}),t()};return e?l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[95vh]",children:[l.jsxs("div",{className:`flex justify-between items-center p-6 border-b transition-colors duration-300 ${Se?"bg-red-50 border-red-100":"bg-emerald-50 border-emerald-100"}`,children:[l.jsxs("div",{children:[l.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Se?"text-red-700":"text-emerald-700"}`,children:[Se?l.jsx(ti,{size:24}):l.jsx(ri,{size:24}),d?o?"Editar (Pessoal)":Se?"Nova Despesa (Pessoal)":"Nova Receita (Pessoal)":o?"Editar Lanamento":Se?"Nova Despesa":"Nova Receita"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 opacity-80",children:d?"Registro pessoal do scio (No afeta caixa da empresa).":"Preencha os dados de competncia e caixa para relatrios precisos."})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:qe,className:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar",children:[l.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wide",children:"Descrio"}),l.jsx("input",{type:"text",required:!0,autoFocus:!0,value:h,onChange:Oe=>m(Oe.target.value),placeholder:Se?"Ex: Supermercado":"Ex: Recebimento Aluguel",className:"w-full px-4 py-3 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-black bg-white font-medium placeholder-gray-400"})]}),l.jsxs("div",{className:"w-full md:w-48",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wide",children:"Valor (R$)"}),l.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:g,onChange:Oe=>x(Oe.target.value),placeholder:"0,00",className:`w-full px-4 py-3 text-xl font-bold border rounded-lg outline-none transition-all text-right bg-white ${Se?"focus:ring-red-500 text-red-700":"focus:ring-emerald-500 text-emerald-700"}`})]})]}),l.jsxs("div",{className:`grid ${d?"grid-cols-1":"grid-cols-1 md:grid-cols-3"} gap-4 bg-gray-50 p-4 rounded-lg border border-gray-100`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Categoria"}),l.jsx("select",{value:_,onChange:Oe=>N(Oe.target.value),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md outline-none bg-white text-black focus:border-indigo-500",children:Te.length===0?l.jsx("option",{value:"",children:"Sem categorias"}):Te.map(Oe=>l.jsx("option",{value:Oe.name,children:Oe.name},Oe.id))})]}),!d&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Conta (Sada/Entrada)"}),l.jsxs("select",{value:k,onChange:Oe=>A(Oe.target.value),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md outline-none bg-white text-black focus:border-indigo-500",children:[l.jsx("option",{value:"",children:"Selecione..."}),te.map(Oe=>l.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]})]}),Se&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Centro de Custo"}),l.jsxs("select",{value:D,onChange:Oe=>j(Oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md outline-none bg-white text-black focus:border-indigo-500",children:[l.jsx("option",{value:"",children:"Geral"}),ge.map(Oe=>l.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-1 flex items-center gap-1",children:[l.jsx(Xd,{size:14})," Data"]}),l.jsx("input",{type:"date",required:!0,value:O,onChange:Oe=>I(Oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md outline-none focus:border-indigo-500 bg-white text-black"})]}),!d&&l.jsxs("div",{className:"flex items-center gap-3 pb-3",children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{id:"recurrence",type:"checkbox",checked:z,onChange:Oe=>q(Oe.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),l.jsx("div",{className:"flex-1",children:l.jsxs("label",{htmlFor:"recurrence",className:"text-sm font-medium text-gray-700 select-none flex items-center gap-2 cursor-pointer",children:[l.jsx(aS,{size:14,className:z?"text-indigo-600":"text-gray-400"}),"Repetir lanamento?"]})})]})]}),l.jsx("hr",{className:"border-gray-100"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(ts,{size:16})," Dados do Pagamento"]}),!d&&l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("label",{className:"text-xs text-gray-600 flex items-center gap-1 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:de,onChange:Le,className:"rounded text-indigo-600 focus:ring-0 w-3.5 h-3.5"}),"Parcelado / Mltiplo"]})})]}),!de&&l.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Forma"}),l.jsx("select",{value:ee,onChange:Oe=>H(Oe.target.value),className:"w-full text-sm px-3 py-2 border border-gray-300 rounded-lg outline-none bg-white text-black",children:Object.entries(B_).map(([Oe,ut])=>l.jsx("option",{value:Oe,children:ut},Oe))})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Data Pagamento/Venc."}),l.jsx("input",{type:"date",value:L,onChange:Oe=>J(Oe.target.value),className:"w-full text-sm px-3 py-2 border border-gray-300 rounded-lg outline-none bg-white text-black"})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Status"}),l.jsxs("select",{value:U,onChange:Oe=>B(Oe.target.value),className:`w-full text-sm px-3 py-2 border border-gray-300 rounded-lg outline-none font-medium ${U==="PAID"?"text-green-700 bg-green-50":"text-orange-700 bg-orange-50"}`,children:[l.jsx("option",{value:"PAID",children:b===et.INCOME?"Recebido":"Pago"}),l.jsx("option",{value:"PENDING",children:"Pendente"})]})]})]}),de&&!d&&l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 bg-gray-50 p-4 rounded-xl border border-gray-200",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-end mb-4 bg-white p-3 rounded-lg border border-gray-100 shadow-sm",children:[l.jsxs("div",{className:"flex-1 w-full",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(SX,{size:12})," Gerador (Entrada + Parcelas)"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",placeholder:"Qtd.",className:"w-16 text-sm border-b border-gray-300 focus:border-indigo-500 outline-none py-1 text-center bg-white text-black",value:K,onChange:Oe=>ae(Oe.target.value===""?"":Number(Oe.target.value))}),l.jsx("select",{value:Z,onChange:Oe=>W(Oe.target.value),className:"flex-1 text-xs border-b border-gray-300 outline-none bg-transparent",children:Object.entries(B_).map(([Oe,ut])=>l.jsx("option",{value:Oe,children:ut},Oe))})]})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto mt-2 sm:mt-0",children:[l.jsx("button",{type:"button",onClick:me,disabled:!K||Number(K)<1,className:`flex-1 sm:flex-none px-3 py-1.5 rounded text-xs font-bold transition-colors disabled:opacity-50 whitespace-nowrap ${se.length>0&&ue>0?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm":"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"}`,children:se.length>0&&ue>0?"Gerar do Saldo":"Gerar Parcelas"}),l.jsx("button",{type:"button",onClick:Re,className:"px-2 py-1.5 rounded text-xs font-bold bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-red-500 transition-colors",children:l.jsx(ZK,{size:14})})]})]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1 custom-scrollbar",children:se.map((Oe,ut)=>l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[l.jsx("span",{className:"w-8 text-center text-gray-400 text-xs",children:Oe.installmentNumber?`${Oe.installmentNumber}x`:`${ut+1}`}),l.jsx("div",{className:"flex-1",children:l.jsx("select",{value:Oe.method,onChange:ot=>We(Oe.id,"method",ot.target.value),className:"w-full text-xs border-none outline-none bg-transparent font-medium text-gray-700",children:Object.entries(B_).map(([ot,Rt])=>l.jsx("option",{value:ot,children:Rt},ot))})}),l.jsx("div",{className:"w-24 relative",children:l.jsx("input",{type:"number",value:Oe.amount,onChange:ot=>We(Oe.id,"amount",parseFloat(ot.target.value)),className:"w-full pl-2 py-1 border-b border-transparent hover:border-gray-300 focus:border-indigo-500 outline-none text-right font-medium bg-transparent text-black"})}),l.jsx("div",{className:"w-28",children:l.jsx("input",{type:"date",value:Oe.date,onChange:ot=>We(Oe.id,"date",ot.target.value),className:"w-full text-xs text-gray-600 outline-none bg-transparent"})}),l.jsx("button",{type:"button",onClick:()=>je(Oe.id),className:"w-6 text-gray-300 hover:text-red-500",children:l.jsx(Bt,{size:14})})]},Oe.id))}),l.jsx("div",{className:"flex justify-end items-center pt-2",children:l.jsxs("div",{className:`text-xs font-bold ${be?"text-green-600":"text-red-600"}`,children:["Total: R$ ",_e.toFixed(2)]})})]})]})]}),l.jsxs("div",{className:"p-6 pt-0 flex gap-3 bg-white border-t border-gray-50 mt-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:qe,type:"button",disabled:de&&!be,className:`flex-1 py-3 text-white font-medium rounded-lg transition-colors shadow-lg flex justify-center items-center gap-2 ${Se?"bg-red-600 hover:bg-red-700":"bg-emerald-600 hover:bg-emerald-700"} ${de&&!be?"opacity-50 cursor-not-allowed":""}`,children:o?"Salvar Alteraes":"Confirmar"})]})]})}):null};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Jx={};Jx.version="0.18.5";var m7=1252,Xbe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],rN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},nN=function(e){Xbe.indexOf(e)!=-1&&(m7=rN[0]=e)};function Jbe(){nN(1252)}var Qi=function(e){nN(e)};function aN(){Qi(1200),Jbe()}function qP(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zbe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function p7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var F0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zbe(e.slice(2)):t==254&&r==255?p7(e.slice(2)):t==65279?e.slice(1):e},dg=function(t){return String.fromCharCode(t)},WP=function(t){return String.fromCharCode(t)},Sh,Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Th(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,u=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,n=e.charCodeAt(d++),s=(r&3)<<4|n>>4,a=e.charCodeAt(d++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=Cl.charAt(i)+Cl.charAt(s)+Cl.charAt(o)+Cl.charAt(u);return t}function ii(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Cl.indexOf(e.charAt(d++)),s=Cl.indexOf(e.charAt(d++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Cl.indexOf(e.charAt(d++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=Cl.indexOf(e.charAt(d++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var St=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),$o=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Ll(e){return St?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function KP(e){return St?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ja=function(t){return St?$o(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function xy(e){if(typeof ArrayBuffer>"u")return Ja(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ql(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Qbe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function iN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return iN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var En=St?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:$o(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function ewe(e){for(var t=[],r=0,n=e.length+250,a=Ll(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ll(65535),n=65530)}return t.push(a.slice(0,r)),En(t)}var ha=/\u0000/g,B0=/[\u0001-\u0006]/g;function Hd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function es(e,t){var r=""+e;return r.length>=t?r:Dr("0",t-r.length)+r}function sN(e,t){var r=""+e;return r.length>=t?r:Dr(" ",t-r.length)+r}function Zx(e,t){var r=""+e;return r.length>=t?r:r+Dr(" ",t-r.length)}function twe(e,t){var r=""+Math.round(e);return r.length>=t?r:Dr("0",t-r.length)+r}function rwe(e,t){var r=""+e;return r.length>=t?r:Dr("0",t-r.length)+r}var YP=Math.pow(2,32);function _d(e,t){if(e>YP||e<-YP)return twe(e,t);var r=Math.round(e);return rwe(r,t)}function Qx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var XP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],U_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nwe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var pt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},JP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},awe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ev(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,u=1,d=0,h=0,m=Math.floor(a);d<t&&(m=Math.floor(a),o=m*s+i,h=m*d+u,!(a-m<5e-8));)a=1/(a-m),i=s,s=o,u=d,d=h;if(h>t&&(d>t?(h=u,o=i):(h=d,o=s)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function jc(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=uwe(u,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var g7=new Date(1899,11,31,0,0,0),iwe=g7.getTime(),swe=new Date(1900,2,1,0,0,0);function x7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=swe&&(r+=1440*60*1e3),(r-(iwe+(e.getTimezoneOffset()-g7.getTimezoneOffset())*6e4))/(1440*60*1e3)}function oN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function owe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lwe(e){var t=e<0?12:11,r=oN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function cwe(e){var t=oN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Nh(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=lwe(e):t===10?r=e.toFixed(10).substr(0,12):r=cwe(e),oN(owe(r.toUpperCase()))}function iu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Nh(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bi(14,x7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function uwe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function dwe(e,t,r,n){var a="",i=0,s=0,o=r.y,u,d=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,d=2;break;default:u=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,d=t.length;break;case 3:return U_[r.m-1][1];case 5:return U_[r.m-1][0];default:return U_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,d=t.length;break;case 3:return XP[r.q][0];default:return XP[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?es(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=es(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:u=o,d=1;break}var h=d>0?es(u,d):"";return h}function kl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var v7=/%/g;function fwe(e,t,r){var n=t.replace(v7,""),a=t.length-n.length;return go(e,n,r*Math.pow(10,2*a))+Dr("%",a)}function hwe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function y7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+y7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,h){return u+d+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var b7=/# (\?+)( ?)\/( ?)(\d+)/;function mwe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Dr(" ",e[1].length+1+e[4].length):sN(s,e[1].length)+e[2]+"/"+e[3]+es(o,e[4].length))}function pwe(e,t,r){return r+(t===0?"":""+t)+Dr(" ",e[1].length+2+e[4].length)}var w7=/^#*0*\.([0#]+)/,_7=/\).*[0#]/,E7=/\(###\) ###\\?-####/;function la(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function ZP(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function QP(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gwe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function xwe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ei(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ei("n",n,r):"("+Ei("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hwe(e,t,r);if(t.indexOf("%")!==-1)return fwe(e,t,r);if(t.indexOf("E")!==-1)return y7(t,r);if(t.charCodeAt(0)===36)return"$"+Ei(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+_d(u,t.length);if(t.match(/^[#?]+$/))return a=_d(r,0),a==="0"&&(a=""),a.length>t.length?a:la(t.substr(0,t.length-a.length))+a;if(i=t.match(b7))return mwe(i,u,d);if(t.match(/^#+0+$/))return d+_d(u,t.length-t.indexOf("0"));if(i=t.match(w7))return a=ZP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+la(i[1])).replace(/\.$/,"."+la(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+Dr("0",la(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+ZP(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+kl(_d(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ei(e,t,-r):kl(""+(Math.floor(r)+gwe(r,i[1].length)))+"."+es(QP(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ei(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hd(Ei(e,t.replace(/[\\-]/g,""),r)),s=0,Hd(Hd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(E7))return a=Ei(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ev(u,Math.pow(10,s)-1,!1),a=""+d,h=go("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Zx(o[2],s),h.length<i[4].length&&(h=la(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ev(u,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?sN(o[1],s)+i[2]+"/"+i[3]+Zx(o[2],s):Dr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=_d(r,0),t.length<=a.length?a:la(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return la(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=QP(r,i[1].length),r<0?"-"+Ei(e,t,-r):kl(xwe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?es(0,3-b.length):"")+b})+"."+es(s,i[1].length);switch(t){case"###,##0.00":return Ei(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=kl(_d(u,0));return x!=="0"?d+x:"";case"###,###.00":return Ei(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ei(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vwe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ywe(e,t,r){var n=t.replace(v7,""),a=t.length-n.length;return go(e,n,r*Math.pow(10,2*a))+Dr("%",a)}function S7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+S7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,h){return u+d+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ws(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ws("n",n,r):"("+ws("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vwe(e,t,r);if(t.indexOf("%")!==-1)return ywe(e,t,r);if(t.indexOf("E")!==-1)return S7(t,r);if(t.charCodeAt(0)===36)return"$"+ws(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+es(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:la(t.substr(0,t.length-a.length))+a;if(i=t.match(b7))return pwe(i,u,d);if(t.match(/^#+0+$/))return d+es(u,t.length-t.indexOf("0"));if(i=t.match(w7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+la(i[1])).replace(/\.$/,"."+la(i[1])),a=a.replace(/\.(\d*)$/,function(b,y){return"."+y+Dr("0",la(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+kl(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ws(e,t,-r):kl(""+r)+"."+Dr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ws(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hd(ws(e,t.replace(/[\\-]/g,""),r)),s=0,Hd(Hd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(E7))return a=ws(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ev(u,Math.pow(10,s)-1,!1),a=""+d,h=go("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Zx(o[2],s),h.length<i[4].length&&(h=la(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ev(u,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?sN(o[1],s)+i[2]+"/"+i[3]+Zx(o[2],s):Dr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:la(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var m=t.indexOf(".")-s,g=t.length-a.length-m;return la(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ws(e,t,-r):kl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?es(0,3-b.length):"")+b})+"."+es(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=kl(""+u);return x!=="0"?d+x:"";default:if(t.match(/\.[0#?]*$/))return ws(e,t.slice(0,t.lastIndexOf(".")),r)+la(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function go(e,t,r){return(r|0)===r?ws(e,t,r):Ei(e,t,r)}function bwe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var T7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Sf(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Qx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(T7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function wwe(e,t,r,n){for(var a=[],i="",s=0,o="",u="t",d,h,m,g="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Qx(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++s;break;case"\\":var x=e.charAt(++s),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(d==null&&(d=jc(t,r,e.charAt(s+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},u=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=jc(t,r),d==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var y={t:o,v:o};if(d==null&&(d=jc(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(d!=null&&(y.v=d.H>=12?"P":"A"),y.t="T",g="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(d!=null&&(y.v=d.H>=12?"PM":"AM"),y.t="T",s+=5,g="h"):e.substr(s,5).toUpperCase()==="/"?(d!=null&&(y.v=d.H>=12?"":""),y.t="T",s+=5,g="h"):(y.t="t",++s),d==null&&y.t==="T")return"";a[a.length]=y,u=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(T7)){if(d==null&&(d=jc(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Sf(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},u=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var _=0,N=0,k;for(s=a.length-1,u="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=g,u="h",_<1&&(_=1);break;case"s":(k=a[s].v.match(/\.0+$/))&&(N=Math.max(N,k[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":u=a[s].t;break;case"m":u==="s"&&(a[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[s].v.match(/[Hh]/)&&(_=1),_<2&&a[s].v.match(/[Mm]/)&&(_=2),_<3&&a[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var A="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=dwe(a[s].t.charCodeAt(0),a[s].v,d,N),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;A+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=iu(t,r);break}var j="",O,I;if(A.length>0){A.charCodeAt(0)==40?(O=t<0&&A.charCodeAt(0)===45?-t:t,I=go("n",A,O)):(O=t<0&&n>1?-t:t,I=go("n",A,O),O<0&&a[0]&&a[0].t=="t"&&(I=I.substr(1),a[0].v="-"+a[0].v)),D=I.length-1;var M=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){M=s;break}var R=a.length;if(M===a.length&&I.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=I.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=I.substr(0,D+1),D=-1),a[s].t="t",R=s);D>=0&&R<a.length&&(a[R].v=I.substr(0,D+1)+a[R].v)}else if(M!==a.length&&I.indexOf("E")===-1){for(D=I.indexOf(".")-1,s=M;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(h=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")-1:a[s].v.length-1,j=a[s].v.substr(h+1);h>=0;--h)D>=0&&(a[s].v.charAt(h)==="0"||a[s].v.charAt(h)==="#")&&(j=I.charAt(D--)+j);a[s].v=j,a[s].t="t",R=s}for(D>=0&&R<a.length&&(a[R].v=I.substr(0,D+1)+a[R].v),D=I.indexOf(".")+1,s=M;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==M)){for(h=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")+1:0,j=a[s].v.substr(0,h);h<a[s].v.length;++h)D<I.length&&(j+=I.charAt(D++));a[s].v=j,a[s].t="t",R=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=go(a[s].t,a[s].v,O),a[s].t="t");var z="";for(s=0;s!==a.length;++s)a[s]!=null&&(z+=a[s].v);return z}var e3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function t3(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function _we(e,t){var r=bwe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(e3),o=r[1].match(e3);return t3(t,s)?[n,r[0]]:t3(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Bi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:pt)[e],n==null&&(n=r.table&&r.table[JP[e]]||pt[JP[e]]),n==null&&(n=awe[e]||"General");break}if(Qx(n,0))return iu(t,r);t instanceof Date&&(t=x7(t,r.date1904));var a=_we(n,t);if(Qx(a[1]))return iu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return wwe(a[1],t,r,a[0])}function xo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(pt[r]==null){t<0&&(t=r);continue}if(pt[r]==e){t=r;break}}t<0&&(t=391)}return pt[t]=e,t}function vy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&xo(e[t],t)}function Tf(){pt=nwe()}var Ewe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},N7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Swe(e){var t=typeof e=="number"?pt[e]:e;return t=t.replace(N7,"(\\d+)"),new RegExp("^"+t+"$")}function Twe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,u=-1;(t.match(N7)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":s=x;break;case"s":u=x;break;case"m":s>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&o==-1&&u==-1?d:n==-1&&a==-1&&i==-1?h:d+"T"+h}var Nwe=(function(){var e={};e.version="1.2.0";function t(){for(var I=0,M=new Array(256),R=0;R!=256;++R)I=R,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,M[R]=I;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(I){var M=0,R=0,z=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)q[z]=I[z];for(z=0;z!=256;++z)for(R=I[z],M=256+z;M<4096;M+=256)R=q[M]=R>>>8^I[R&255];var F=[];for(z=1;z!=16;++z)F[z-1]=typeof Int32Array<"u"?q.subarray(z*256,z*256+256):q.slice(z*256,z*256+256);return F}var a=n(r),i=a[0],s=a[1],o=a[2],u=a[3],d=a[4],h=a[5],m=a[6],g=a[7],x=a[8],b=a[9],y=a[10],_=a[11],N=a[12],k=a[13],A=a[14];function D(I,M){for(var R=M^-1,z=0,q=I.length;z<q;)R=R>>>8^r[(R^I.charCodeAt(z++))&255];return~R}function j(I,M){for(var R=M^-1,z=I.length-15,q=0;q<z;)R=A[I[q++]^R&255]^k[I[q++]^R>>8&255]^N[I[q++]^R>>16&255]^_[I[q++]^R>>>24]^y[I[q++]]^b[I[q++]]^x[I[q++]]^g[I[q++]]^m[I[q++]]^h[I[q++]]^d[I[q++]]^u[I[q++]]^o[I[q++]]^s[I[q++]]^i[I[q++]]^r[I[q++]];for(z+=15;q<z;)R=R>>>8^r[(R^I[q++])&255];return~R}function O(I,M){for(var R=M^-1,z=0,q=I.length,F=0,Y=0;z<q;)F=I.charCodeAt(z++),F<128?R=R>>>8^r[(R^F)&255]:F<2048?(R=R>>>8^r[(R^(192|F>>6&31))&255],R=R>>>8^r[(R^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,Y=I.charCodeAt(z++)&1023,R=R>>>8^r[(R^(240|F>>8&7))&255],R=R>>>8^r[(R^(128|F>>2&63))&255],R=R>>>8^r[(R^(128|Y>>6&15|(F&3)<<4))&255],R=R>>>8^r[(R^(128|Y&63))&255]):(R=R>>>8^r[(R^(224|F>>12&15))&255],R=R>>>8^r[(R^(128|F>>6&63))&255],R=R>>>8^r[(R^(128|F&63))&255]);return~R}return e.table=r,e.bstr=D,e.buf=j,e.str=O,e})(),ct=(function(){var t={};t.version="1.2.1";function r(X,le){for(var re=X.split("/"),ne=le.split("/"),ie=0,V=0,oe=Math.min(re.length,ne.length);ie<oe;++ie){if(V=re[ie].length-ne[ie].length)return V;if(re[ie]!=ne[ie])return re[ie]<ne[ie]?-1:1}return re.length-ne.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var le=X.lastIndexOf("/");return le===-1?X:X.slice(0,le+1)}function a(X){if(X.charAt(X.length-1)=="/")return a(X.slice(0,-1));var le=X.lastIndexOf("/");return le===-1?X:X.slice(le+1)}function i(X,le){typeof le=="string"&&(le=new Date(le));var re=le.getHours();re=re<<6|le.getMinutes(),re=re<<5|le.getSeconds()>>>1,X.write_shift(2,re);var ne=le.getFullYear()-1980;ne=ne<<4|le.getMonth()+1,ne=ne<<5|le.getDate(),X.write_shift(2,ne)}function s(X){var le=X.read_shift(2)&65535,re=X.read_shift(2)&65535,ne=new Date,ie=re&31;re>>>=5;var V=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(V-1),ne.setDate(ie);var oe=le&31;le>>>=5;var pe=le&63;return le>>>=6,ne.setHours(le),ne.setMinutes(pe),ne.setSeconds(oe<<1),ne}function o(X){zn(X,0);for(var le={},re=0;X.l<=X.length-4;){var ne=X.read_shift(2),ie=X.read_shift(2),V=X.l+ie,oe={};switch(ne){case 21589:re=X.read_shift(1),re&1&&(oe.mtime=X.read_shift(4)),ie>5&&(re&2&&(oe.atime=X.read_shift(4)),re&4&&(oe.ctime=X.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}X.l=V,le[ne]=oe}return le}var u;function d(){return u||(u={})}function h(X,le){if(X[0]==80&&X[1]==75)return Ls(X,le);if((X[0]|32)==109&&(X[1]|32)==105)return Us(X,le);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var re=3,ne=512,ie=0,V=0,oe=0,pe=0,xe=0,ve=[],we=X.slice(0,512);zn(we,0);var Me=m(we);switch(re=Me[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Me[1]==0)return Ls(X,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&(we=X.slice(0,ne),zn(we,28));var Ve=X.slice(0,ne);g(we,re);var He=we.read_shift(4,"i");if(re===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);we.l+=4,oe=we.read_shift(4,"i"),we.l+=4,we.chk("00100000","Mini Stream Cutoff Size: "),pe=we.read_shift(4,"i"),ie=we.read_shift(4,"i"),xe=we.read_shift(4,"i"),V=we.read_shift(4,"i");for(var Ue=-1,Ge=0;Ge<109&&(Ue=we.read_shift(4,"i"),!(Ue<0));++Ge)ve[Ge]=Ue;var nt=x(X,ne);_(xe,V,nt,ne,ve);var Wt=k(nt,oe,ve,ne);Wt[oe].name="!Directory",ie>0&&pe!==Y&&(Wt[pe].name="!MiniFAT"),Wt[ve[0]].name="!FAT",Wt.fat_addrs=ve,Wt.ssz=ne;var Ht={},br=[],oi=[],Ql=[];A(oe,Wt,nt,br,ie,Ht,oi,pe),b(oi,Ql,br),br.shift();var Xo={FileIndex:oi,FullPaths:Ql};return le&&le.raw&&(Xo.raw={header:Ve,sectors:nt}),Xo}function m(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(de,"Header Signature: "),X.l+=16;var le=X.read_shift(2,"u");return[X.read_shift(2,"u"),le]}function g(X,le){var re=9;switch(X.l+=2,re=X.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function x(X,le){for(var re=Math.ceil(X.length/le)-1,ne=[],ie=1;ie<re;++ie)ne[ie-1]=X.slice(ie*le,(ie+1)*le);return ne[re-1]=X.slice(re*le),ne}function b(X,le,re){for(var ne=0,ie=0,V=0,oe=0,pe=0,xe=re.length,ve=[],we=[];ne<xe;++ne)ve[ne]=we[ne]=ne,le[ne]=re[ne];for(;pe<we.length;++pe)ne=we[pe],ie=X[ne].L,V=X[ne].R,oe=X[ne].C,ve[ne]===ne&&(ie!==-1&&ve[ie]!==ie&&(ve[ne]=ve[ie]),V!==-1&&ve[V]!==V&&(ve[ne]=ve[V])),oe!==-1&&(ve[oe]=ne),ie!==-1&&ne!=ve[ne]&&(ve[ie]=ve[ne],we.lastIndexOf(ie)<pe&&we.push(ie)),V!==-1&&ne!=ve[ne]&&(ve[V]=ve[ne],we.lastIndexOf(V)<pe&&we.push(V));for(ne=1;ne<xe;++ne)ve[ne]===ne&&(V!==-1&&ve[V]!==V?ve[ne]=ve[V]:ie!==-1&&ve[ie]!==ie&&(ve[ne]=ve[ie]));for(ne=1;ne<xe;++ne)if(X[ne].type!==0){if(pe=ne,pe!=ve[pe])do pe=ve[pe],le[ne]=le[pe]+"/"+le[ne];while(pe!==0&&ve[pe]!==-1&&pe!=ve[pe]);ve[ne]=-1}for(le[0]+="/",ne=1;ne<xe;++ne)X[ne].type!==2&&(le[ne]+="/")}function y(X,le,re){for(var ne=X.start,ie=X.size,V=[],oe=ne;re&&ie>0&&oe>=0;)V.push(le.slice(oe*F,oe*F+F)),ie-=F,oe=Tc(re,oe*4);return V.length===0?De(0):En(V).slice(0,X.size)}function _(X,le,re,ne,ie){var V=Y;if(X===Y){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var oe=re[X],pe=(ne>>>2)-1;if(!oe)return;for(var xe=0;xe<pe&&(V=Tc(oe,xe*4))!==Y;++xe)ie.push(V);_(Tc(oe,ne-4),le-1,re,ne,ie)}}function N(X,le,re,ne,ie){var V=[],oe=[];ie||(ie=[]);var pe=ne-1,xe=0,ve=0;for(xe=le;xe>=0;){ie[xe]=!0,V[V.length]=xe,oe.push(X[xe]);var we=re[Math.floor(xe*4/ne)];if(ve=xe*4&pe,ne<4+ve)throw new Error("FAT boundary crossed: "+xe+" 4 "+ne);if(!X[we])break;xe=Tc(X[we],ve)}return{nodes:V,data:h3([oe])}}function k(X,le,re,ne){var ie=X.length,V=[],oe=[],pe=[],xe=[],ve=ne-1,we=0,Me=0,Ve=0,He=0;for(we=0;we<ie;++we)if(pe=[],Ve=we+le,Ve>=ie&&(Ve-=ie),!oe[Ve]){xe=[];var Ue=[];for(Me=Ve;Me>=0;){Ue[Me]=!0,oe[Me]=!0,pe[pe.length]=Me,xe.push(X[Me]);var Ge=re[Math.floor(Me*4/ne)];if(He=Me*4&ve,ne<4+He)throw new Error("FAT boundary crossed: "+Me+" 4 "+ne);if(!X[Ge]||(Me=Tc(X[Ge],He),Ue[Me]))break}V[Ve]={nodes:pe,data:h3([xe])}}return V}function A(X,le,re,ne,ie,V,oe,pe){for(var xe=0,ve=ne.length?2:0,we=le[X].data,Me=0,Ve=0,He;Me<we.length;Me+=128){var Ue=we.slice(Me,Me+128);zn(Ue,64),Ve=Ue.read_shift(2),He=mN(Ue,0,Ve-ve),ne.push(He);var Ge={name:He,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},nt=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);nt!==0&&(Ge.ct=D(Ue,Ue.l-8));var Wt=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);Wt!==0&&(Ge.mt=D(Ue,Ue.l-8)),Ge.start=Ue.read_shift(4,"i"),Ge.size=Ue.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=Y,Ge.name=""),Ge.type===5?(xe=Ge.start,ie>0&&xe!==Y&&(le[xe].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",le[Ge.start]===void 0&&(le[Ge.start]=N(re,Ge.start,le.fat_addrs,le.ssz)),le[Ge.start].name=Ge.name,Ge.content=le[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:xe!==Y&&Ge.start!==Y&&le[xe]&&(Ge.content=y(Ge,le[xe].data,(le[pe]||{}).data))),Ge.content&&zn(Ge.content,0),V[He]=Ge,oe.push(Ge)}}function D(X,le){return new Date((Wa(X,le+4)/1e7*Math.pow(2,32)+Wa(X,le)/1e7-11644473600)*1e3)}function j(X,le){return d(),h(u.readFileSync(X),le)}function O(X,le){var re=le&&le.type;switch(re||St&&Buffer.isBuffer(X)&&(re="buffer"),re||"base64"){case"file":return j(X,le);case"base64":return h(Ja(ii(X)),le);case"binary":return h(Ja(X),le)}return h(X,le)}function I(X,le){var re=le||{},ne=re.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=ne+"/",X.FileIndex[0]={name:ne,type:5}),re.CLSID&&(X.FileIndex[0].clsid=re.CLSID),M(X)}function M(X){var le="Sh33tJ5";if(!ct.find(X,"/"+le)){var re=De(4);re[0]=55,re[1]=re[3]=50,re[2]=54,X.FileIndex.push({name:le,type:2,content:re,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+le),R(X)}}function R(X,le){I(X);for(var re=!1,ne=!1,ie=X.FullPaths.length-1;ie>=0;--ie){var V=X.FileIndex[ie];switch(V.type){case 0:ne?re=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(V.R*V.L*V.C)&&(re=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!le)){var oe=new Date(1987,1,19),pe=0,xe=Object.create?Object.create(null):{},ve=[];for(ie=0;ie<X.FullPaths.length;++ie)xe[X.FullPaths[ie]]=!0,X.FileIndex[ie].type!==0&&ve.push([X.FullPaths[ie],X.FileIndex[ie]]);for(ie=0;ie<ve.length;++ie){var we=n(ve[ie][0]);ne=xe[we],ne||(ve.push([we,{name:a(we).replace("/",""),type:1,clsid:K,ct:oe,mt:oe,content:null}]),xe[we]=!0)}for(ve.sort(function(He,Ue){return r(He[0],Ue[0])}),X.FullPaths=[],X.FileIndex=[],ie=0;ie<ve.length;++ie)X.FullPaths[ie]=ve[ie][0],X.FileIndex[ie]=ve[ie][1];for(ie=0;ie<ve.length;++ie){var Me=X.FileIndex[ie],Ve=X.FullPaths[ie];if(Me.name=a(Ve).replace("/",""),Me.L=Me.R=Me.C=-(Me.color=1),Me.size=Me.content?Me.content.length:0,Me.start=0,Me.clsid=Me.clsid||K,ie===0)Me.C=ve.length>1?1:-1,Me.size=0,Me.type=5;else if(Ve.slice(-1)=="/"){for(pe=ie+1;pe<ve.length&&n(X.FullPaths[pe])!=Ve;++pe);for(Me.C=pe>=ve.length?-1:pe,pe=ie+1;pe<ve.length&&n(X.FullPaths[pe])!=n(Ve);++pe);Me.R=pe>=ve.length?-1:pe,Me.type=1}else n(X.FullPaths[ie+1]||"")==n(Ve)&&(Me.R=ie+1),Me.type=2}}}function z(X,le){var re=le||{};if(re.fileType=="mad")return Xl(X,re);switch(R(X),re.fileType){case"zip":return qo(X,re)}var ne=(function(He){for(var Ue=0,Ge=0,nt=0;nt<He.FileIndex.length;++nt){var Wt=He.FileIndex[nt];if(Wt.content){var Ht=Wt.content.length;Ht>0&&(Ht<4096?Ue+=Ht+63>>6:Ge+=Ht+511>>9)}}for(var br=He.FullPaths.length+3>>2,oi=Ue+7>>3,Ql=Ue+127>>7,Xo=oi+Ge+br+Ql,ms=Xo+127>>7,If=ms<=109?0:Math.ceil((ms-109)/127);Xo+ms+If+127>>7>ms;)If=++ms<=109?0:Math.ceil((ms-109)/127);var ba=[1,If,ms,Ql,br,Ge,Ue,0];return He.FileIndex[0].size=Ue<<6,ba[7]=(He.FileIndex[0].start=ba[0]+ba[1]+ba[2]+ba[3]+ba[4]+ba[5])+(ba[6]+7>>3),ba})(X),ie=De(ne[7]<<9),V=0,oe=0;{for(V=0;V<8;++V)ie.write_shift(1,ce[V]);for(V=0;V<8;++V)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),V=0;V<3;++V)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,ne[2]),ie.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:Y),ie.write_shift(4,ne[3]),ie.write_shift(-4,ne[1]?ne[0]-1:Y),ie.write_shift(4,ne[1]),V=0;V<109;++V)ie.write_shift(-4,V<ne[2]?ne[1]+V:-1)}if(ne[1])for(oe=0;oe<ne[1];++oe){for(;V<236+oe*127;++V)ie.write_shift(-4,V<ne[2]?ne[1]+V:-1);ie.write_shift(-4,oe===ne[1]-1?Y:oe+1)}var pe=function(He){for(oe+=He;V<oe-1;++V)ie.write_shift(-4,V+1);He&&(++V,ie.write_shift(-4,Y))};for(oe=V=0,oe+=ne[1];V<oe;++V)ie.write_shift(-4,ae.DIFSECT);for(oe+=ne[2];V<oe;++V)ie.write_shift(-4,ae.FATSECT);pe(ne[3]),pe(ne[4]);for(var xe=0,ve=0,we=X.FileIndex[0];xe<X.FileIndex.length;++xe)we=X.FileIndex[xe],we.content&&(ve=we.content.length,!(ve<4096)&&(we.start=oe,pe(ve+511>>9)));for(pe(ne[6]+7>>3);ie.l&511;)ie.write_shift(-4,ae.ENDOFCHAIN);for(oe=V=0,xe=0;xe<X.FileIndex.length;++xe)we=X.FileIndex[xe],we.content&&(ve=we.content.length,!(!ve||ve>=4096)&&(we.start=oe,pe(ve+63>>6)));for(;ie.l&511;)ie.write_shift(-4,ae.ENDOFCHAIN);for(V=0;V<ne[4]<<2;++V){var Me=X.FullPaths[V];if(!Me||Me.length===0){for(xe=0;xe<17;++xe)ie.write_shift(4,0);for(xe=0;xe<3;++xe)ie.write_shift(4,-1);for(xe=0;xe<12;++xe)ie.write_shift(4,0);continue}we=X.FileIndex[V],V===0&&(we.start=we.size?we.start-1:Y);var Ve=V===0&&re.root||we.name;if(ve=2*(Ve.length+1),ie.write_shift(64,Ve,"utf16le"),ie.write_shift(2,ve),ie.write_shift(1,we.type),ie.write_shift(1,we.color),ie.write_shift(-4,we.L),ie.write_shift(-4,we.R),ie.write_shift(-4,we.C),we.clsid)ie.write_shift(16,we.clsid,"hex");else for(xe=0;xe<4;++xe)ie.write_shift(4,0);ie.write_shift(4,we.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,we.start),ie.write_shift(4,we.size),ie.write_shift(4,0)}for(V=1;V<X.FileIndex.length;++V)if(we=X.FileIndex[V],we.size>=4096)if(ie.l=we.start+1<<9,St&&Buffer.isBuffer(we.content))we.content.copy(ie,ie.l,0,we.size),ie.l+=we.size+511&-512;else{for(xe=0;xe<we.size;++xe)ie.write_shift(1,we.content[xe]);for(;xe&511;++xe)ie.write_shift(1,0)}for(V=1;V<X.FileIndex.length;++V)if(we=X.FileIndex[V],we.size>0&&we.size<4096)if(St&&Buffer.isBuffer(we.content))we.content.copy(ie,ie.l,0,we.size),ie.l+=we.size+63&-64;else{for(xe=0;xe<we.size;++xe)ie.write_shift(1,we.content[xe]);for(;xe&63;++xe)ie.write_shift(1,0)}if(St)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function q(X,le){var re=X.FullPaths.map(function(xe){return xe.toUpperCase()}),ne=re.map(function(xe){var ve=xe.split("/");return ve[ve.length-(xe.slice(-1)=="/"?2:1)]}),ie=!1;le.charCodeAt(0)===47?(ie=!0,le=re[0].slice(0,-1)+le):ie=le.indexOf("/")!==-1;var V=le.toUpperCase(),oe=ie===!0?re.indexOf(V):ne.indexOf(V);if(oe!==-1)return X.FileIndex[oe];var pe=!V.match(B0);for(V=V.replace(ha,""),pe&&(V=V.replace(B0,"!")),oe=0;oe<re.length;++oe)if((pe?re[oe].replace(B0,"!"):re[oe]).replace(ha,"")==V||(pe?ne[oe].replace(B0,"!"):ne[oe]).replace(ha,"")==V)return X.FileIndex[oe];return null}var F=64,Y=-2,de="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(X,le,re){d();var ne=z(X,re);u.writeFileSync(le,ne)}function W(X){for(var le=new Array(X.length),re=0;re<X.length;++re)le[re]=String.fromCharCode(X[re]);return le.join("")}function ee(X,le){var re=z(X,le);switch(le&&le.type||"buffer"){case"file":return d(),u.writeFileSync(le.filename,re),re;case"binary":return typeof re=="string"?re:W(re);case"base64":return Th(typeof re=="string"?re:W(re));case"buffer":if(St)return Buffer.isBuffer(re)?re:$o(re);case"array":return typeof re=="string"?Ja(re):re}return re}var H;function L(X){try{var le=X.InflateRaw,re=new le;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)H=X;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function J(X,le){if(!H)return Eu(X,le);var re=H.InflateRaw,ne=new re,ie=ne._processChunk(X.slice(X.l),ne._finishFlushFlag);return X.l+=ne.bytesRead,ie}function U(X){return H?H.deflateRawSync(X):ft(X)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(X){var le=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(le>>16|le>>8|le)&255}for(var te=typeof Uint8Array<"u",ge=te?new Uint8Array(256):[],Se=0;Se<256;++Se)ge[Se]=Te(Se);function G(X,le){var re=ge[X&255];return le<=8?re>>>8-le:(re=re<<8|ge[X>>8&255],le<=16?re>>>16-le:(re=re<<8|ge[X>>16&255],re>>>24-le))}function _e(X,le){var re=le&7,ne=le>>>3;return(X[ne]|(re<=6?0:X[ne+1]<<8))>>>re&3}function ue(X,le){var re=le&7,ne=le>>>3;return(X[ne]|(re<=5?0:X[ne+1]<<8))>>>re&7}function be(X,le){var re=le&7,ne=le>>>3;return(X[ne]|(re<=4?0:X[ne+1]<<8))>>>re&15}function Le(X,le){var re=le&7,ne=le>>>3;return(X[ne]|(re<=3?0:X[ne+1]<<8))>>>re&31}function me(X,le){var re=le&7,ne=le>>>3;return(X[ne]|(re<=1?0:X[ne+1]<<8))>>>re&127}function Re(X,le,re){var ne=le&7,ie=le>>>3,V=(1<<re)-1,oe=X[ie]>>>ne;return re<8-ne||(oe|=X[ie+1]<<8-ne,re<16-ne)||(oe|=X[ie+2]<<16-ne,re<24-ne)||(oe|=X[ie+3]<<24-ne),oe&V}function je(X,le,re){var ne=le&7,ie=le>>>3;return ne<=5?X[ie]|=(re&7)<<ne:(X[ie]|=re<<ne&255,X[ie+1]=(re&7)>>8-ne),le+3}function We(X,le,re){var ne=le&7,ie=le>>>3;return re=(re&1)<<ne,X[ie]|=re,le+1}function qe(X,le,re){var ne=le&7,ie=le>>>3;return re<<=ne,X[ie]|=re&255,re>>>=8,X[ie+1]=re,le+8}function Oe(X,le,re){var ne=le&7,ie=le>>>3;return re<<=ne,X[ie]|=re&255,re>>>=8,X[ie+1]=re&255,X[ie+2]=re>>>8,le+16}function ut(X,le){var re=X.length,ne=2*re>le?2*re:le+5,ie=0;if(re>=le)return X;if(St){var V=KP(ne);if(X.copy)X.copy(V);else for(;ie<X.length;++ie)V[ie]=X[ie];return V}else if(te){var oe=new Uint8Array(ne);if(oe.set)oe.set(X);else for(;ie<re;++ie)oe[ie]=X[ie];return oe}return X.length=ne,X}function ot(X){for(var le=new Array(X),re=0;re<X;++re)le[re]=0;return le}function Rt(X,le,re){var ne=1,ie=0,V=0,oe=0,pe=0,xe=X.length,ve=te?new Uint16Array(32):ot(32);for(V=0;V<32;++V)ve[V]=0;for(V=xe;V<re;++V)X[V]=0;xe=X.length;var we=te?new Uint16Array(xe):ot(xe);for(V=0;V<xe;++V)ve[ie=X[V]]++,ne<ie&&(ne=ie),we[V]=0;for(ve[0]=0,V=1;V<=ne;++V)ve[V+16]=pe=pe+ve[V-1]<<1;for(V=0;V<xe;++V)pe=X[V],pe!=0&&(we[V]=ve[pe+16]++);var Me=0;for(V=0;V<xe;++V)if(Me=X[V],Me!=0)for(pe=G(we[V],ne)>>ne-Me,oe=(1<<ne+4-Me)-1;oe>=0;--oe)le[pe|oe<<Me]=Me&15|V<<4;return ne}var pn=te?new Uint16Array(512):ot(512),kn=te?new Uint16Array(32):ot(32);if(!te){for(var qt=0;qt<512;++qt)pn[qt]=0;for(qt=0;qt<32;++qt)kn[qt]=0}(function(){for(var X=[],le=0;le<32;le++)X.push(5);Rt(X,kn,32);var re=[];for(le=0;le<=143;le++)re.push(8);for(;le<=255;le++)re.push(9);for(;le<=279;le++)re.push(7);for(;le<=287;le++)re.push(8);Rt(re,pn,288)})();var kr=(function(){for(var le=te?new Uint8Array(32768):[],re=0,ne=0;re<fe.length-1;++re)for(;ne<fe[re+1];++ne)le[ne]=re;for(;ne<32768;++ne)le[ne]=29;var ie=te?new Uint8Array(259):[];for(re=0,ne=0;re<se.length-1;++re)for(;ne<se[re+1];++ne)ie[ne]=re;function V(pe,xe){for(var ve=0;ve<pe.length;){var we=Math.min(65535,pe.length-ve),Me=ve+we==pe.length;for(xe.write_shift(1,+Me),xe.write_shift(2,we),xe.write_shift(2,~we&65535);we-- >0;)xe[xe.l++]=pe[ve++]}return xe.l}function oe(pe,xe){for(var ve=0,we=0,Me=te?new Uint16Array(32768):[];we<pe.length;){var Ve=Math.min(65535,pe.length-we);if(Ve<10){for(ve=je(xe,ve,+(we+Ve==pe.length)),ve&7&&(ve+=8-(ve&7)),xe.l=ve/8|0,xe.write_shift(2,Ve),xe.write_shift(2,~Ve&65535);Ve-- >0;)xe[xe.l++]=pe[we++];ve=xe.l*8;continue}ve=je(xe,ve,+(we+Ve==pe.length)+2);for(var He=0;Ve-- >0;){var Ue=pe[we];He=(He<<5^Ue)&32767;var Ge=-1,nt=0;if((Ge=Me[He])&&(Ge|=we&-32768,Ge>we&&(Ge-=32768),Ge<we))for(;pe[Ge+nt]==pe[we+nt]&&nt<250;)++nt;if(nt>2){Ue=ie[nt],Ue<=22?ve=qe(xe,ve,ge[Ue+1]>>1)-1:(qe(xe,ve,3),ve+=5,qe(xe,ve,ge[Ue-23]>>5),ve+=3);var Wt=Ue<8?0:Ue-4>>2;Wt>0&&(Oe(xe,ve,nt-se[Ue]),ve+=Wt),Ue=le[we-Ge],ve=qe(xe,ve,ge[Ue]>>3),ve-=3;var Ht=Ue<4?0:Ue-2>>1;Ht>0&&(Oe(xe,ve,we-Ge-fe[Ue]),ve+=Ht);for(var br=0;br<nt;++br)Me[He]=we&32767,He=(He<<5^pe[we])&32767,++we;Ve-=nt-1}else Ue<=143?Ue=Ue+48:ve=We(xe,ve,1),ve=qe(xe,ve,ge[Ue]),Me[He]=we&32767,++we}ve=qe(xe,ve,0)-1}return xe.l=(ve+7)/8|0,xe.l}return function(xe,ve){return xe.length<8?V(xe,ve):oe(xe,ve)}})();function ft(X){var le=De(50+Math.floor(X.length*1.1)),re=kr(X,le);return le.slice(0,re)}var sr=te?new Uint16Array(32768):ot(32768),Gn=te?new Uint16Array(32768):ot(32768),or=te?new Uint16Array(128):ot(128),Sr=1,Pa=1;function In(X,le){var re=Le(X,le)+257;le+=5;var ne=Le(X,le)+1;le+=5;var ie=be(X,le)+4;le+=4;for(var V=0,oe=te?new Uint8Array(19):ot(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,ve=te?new Uint8Array(8):ot(8),we=te?new Uint8Array(8):ot(8),Me=oe.length,Ve=0;Ve<ie;++Ve)oe[B[Ve]]=V=ue(X,le),xe<V&&(xe=V),ve[V]++,le+=3;var He=0;for(ve[0]=0,Ve=1;Ve<=xe;++Ve)we[Ve]=He=He+ve[Ve-1]<<1;for(Ve=0;Ve<Me;++Ve)(He=oe[Ve])!=0&&(pe[Ve]=we[He]++);var Ue=0;for(Ve=0;Ve<Me;++Ve)if(Ue=oe[Ve],Ue!=0){He=ge[pe[Ve]]>>8-Ue;for(var Ge=(1<<7-Ue)-1;Ge>=0;--Ge)or[He|Ge<<Ue]=Ue&7|Ve<<3}var nt=[];for(xe=1;nt.length<re+ne;)switch(He=or[me(X,le)],le+=He&7,He>>>=3){case 16:for(V=3+_e(X,le),le+=2,He=nt[nt.length-1];V-- >0;)nt.push(He);break;case 17:for(V=3+ue(X,le),le+=3;V-- >0;)nt.push(0);break;case 18:for(V=11+me(X,le),le+=7;V-- >0;)nt.push(0);break;default:nt.push(He),xe<He&&(xe=He);break}var Wt=nt.slice(0,re),Ht=nt.slice(re);for(Ve=re;Ve<286;++Ve)Wt[Ve]=0;for(Ve=ne;Ve<30;++Ve)Ht[Ve]=0;return Sr=Rt(Wt,sr,286),Pa=Rt(Ht,Gn,30),le}function kf(X,le){if(X[0]==3&&!(X[1]&3))return[Ll(le),2];for(var re=0,ne=0,ie=KP(le||1<<18),V=0,oe=ie.length>>>0,pe=0,xe=0;(ne&1)==0;){if(ne=ue(X,re),re+=3,ne>>>1)ne>>1==1?(pe=9,xe=5):(re=In(X,re),pe=Sr,xe=Pa);else{re&7&&(re+=8-(re&7));var ve=X[re>>>3]|X[(re>>>3)+1]<<8;if(re+=32,ve>0)for(!le&&oe<V+ve&&(ie=ut(ie,V+ve),oe=ie.length);ve-- >0;)ie[V++]=X[re>>>3],re+=8;continue}for(;;){!le&&oe<V+32767&&(ie=ut(ie,V+32767),oe=ie.length);var we=Re(X,re,pe),Me=ne>>>1==1?pn[we]:sr[we];if(re+=Me&15,Me>>>=4,(Me>>>8&255)===0)ie[V++]=Me;else{if(Me==256)break;Me-=257;var Ve=Me<8?0:Me-4>>2;Ve>5&&(Ve=0);var He=V+se[Me];Ve>0&&(He+=Re(X,re,Ve),re+=Ve),we=Re(X,re,xe),Me=ne>>>1==1?kn[we]:Gn[we],re+=Me&15,Me>>>=4;var Ue=Me<4?0:Me-2>>1,Ge=fe[Me];for(Ue>0&&(Ge+=Re(X,re,Ue),re+=Ue),!le&&oe<He&&(ie=ut(ie,He+100),oe=ie.length);V<He;)ie[V]=ie[V-Ge],++V}}}return le?[ie,re+7>>>3]:[ie.slice(0,V),re+7>>>3]}function Eu(X,le){var re=X.slice(X.l||0),ne=kf(re,le);return X.l+=ne[1],ne[0]}function Su(X,le){if(X)typeof console<"u"&&console.error(le);else throw new Error(le)}function Ls(X,le){var re=X;zn(re,0);var ne=[],ie=[],V={FileIndex:ne,FullPaths:ie};I(V,{root:le.root});for(var oe=re.length-4;(re[oe]!=80||re[oe+1]!=75||re[oe+2]!=5||re[oe+3]!=6)&&oe>=0;)--oe;re.l=oe+4,re.l+=4;var pe=re.read_shift(2);re.l+=6;var xe=re.read_shift(4);for(re.l=xe,oe=0;oe<pe;++oe){re.l+=20;var ve=re.read_shift(4),we=re.read_shift(4),Me=re.read_shift(2),Ve=re.read_shift(2),He=re.read_shift(2);re.l+=8;var Ue=re.read_shift(4),Ge=o(re.slice(re.l+Me,re.l+Me+Ve));re.l+=Me+Ve+He;var nt=re.l;re.l=Ue+4,Fs(re,ve,we,V,Ge),re.l=nt}return V}function Fs(X,le,re,ne,ie){X.l+=2;var V=X.read_shift(2),oe=X.read_shift(2),pe=s(X);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var xe=X.read_shift(4),ve=X.read_shift(4),we=X.read_shift(4),Me=X.read_shift(2),Ve=X.read_shift(2),He="",Ue=0;Ue<Me;++Ue)He+=String.fromCharCode(X[X.l++]);if(Ve){var Ge=o(X.slice(X.l,X.l+Ve));(Ge[21589]||{}).mt&&(pe=Ge[21589].mt),((ie||{})[21589]||{}).mt&&(pe=ie[21589].mt)}X.l+=Ve;var nt=X.slice(X.l,X.l+ve);switch(oe){case 8:nt=J(X,we);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var Wt=!1;V&8&&(xe=X.read_shift(4),xe==134695760&&(xe=X.read_shift(4),Wt=!0),ve=X.read_shift(4),we=X.read_shift(4)),ve!=le&&Su(Wt,"Bad compressed size: "+le+" != "+ve),we!=re&&Su(Wt,"Bad uncompressed size: "+re+" != "+we),Yo(ne,He,nt,{unsafe:!0,mt:pe})}function qo(X,le){var re=le||{},ne=[],ie=[],V=De(1),oe=re.compression?8:0,pe=0,xe=0,ve=0,we=0,Me=0,Ve=X.FullPaths[0],He=Ve,Ue=X.FileIndex[0],Ge=[],nt=0;for(xe=1;xe<X.FullPaths.length;++xe)if(He=X.FullPaths[xe].slice(Ve.length),Ue=X.FileIndex[xe],!(!Ue.size||!Ue.content||He=="Sh33tJ5")){var Wt=we,Ht=De(He.length);for(ve=0;ve<He.length;++ve)Ht.write_shift(1,He.charCodeAt(ve)&127);Ht=Ht.slice(0,Ht.l),Ge[Me]=Nwe.buf(Ue.content,0);var br=Ue.content;oe==8&&(br=U(br)),V=De(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,pe),V.write_shift(2,oe),Ue.mt?i(V,Ue.mt):V.write_shift(4,0),V.write_shift(-4,Ge[Me]),V.write_shift(4,br.length),V.write_shift(4,Ue.content.length),V.write_shift(2,Ht.length),V.write_shift(2,0),we+=V.length,ne.push(V),we+=Ht.length,ne.push(Ht),we+=br.length,ne.push(br),V=De(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,pe),V.write_shift(2,oe),V.write_shift(4,0),V.write_shift(-4,Ge[Me]),V.write_shift(4,br.length),V.write_shift(4,Ue.content.length),V.write_shift(2,Ht.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,Wt),nt+=V.l,ie.push(V),nt+=Ht.length,ie.push(Ht),++Me}return V=De(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,Me),V.write_shift(2,Me),V.write_shift(4,nt),V.write_shift(4,we),V.write_shift(2,0),En([En(ne),En(ie),V])}var ya={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wo(X,le){if(X.ctype)return X.ctype;var re=X.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&ya[ne[1]]||le&&(ne=(re=le).match(/[\.\\]([^\.\\])+$/),ne&&ya[ne[1]])?ya[ne[1]]:"application/octet-stream"}function Bs(X){for(var le=Th(X),re=[],ne=0;ne<le.length;ne+=76)re.push(le.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function Tu(X){var le=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ve){var we=ve.charCodeAt(0).toString(16).toUpperCase();return"="+(we.length==1?"0"+we:we)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=le.split(`\r
`),ie=0;ie<ne.length;++ie){var V=ne[ie];if(V.length==0){re.push("");continue}for(var oe=0;oe<V.length;){var pe=76,xe=V.slice(oe,oe+pe);xe.charAt(pe-1)=="="?pe--:xe.charAt(pe-2)=="="?pe-=2:xe.charAt(pe-3)=="="&&(pe-=3),xe=V.slice(oe,oe+pe),oe+=pe,oe<V.length&&(xe+="="),re.push(xe)}}return re.join(`\r
`)}function Nu(X){for(var le=[],re=0;re<X.length;++re){for(var ne=X[re];re<=X.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+X[++re];le.push(ne)}for(var ie=0;ie<le.length;++ie)le[ie]=le[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return Ja(le.join(`\r
`))}function Ko(X,le,re){for(var ne="",ie="",V="",oe,pe=0;pe<10;++pe){var xe=le[pe];if(!xe||xe.match(/^\s*$/))break;var ve=xe.match(/^(.*?):\s*([^\s].*)$/);if(ve)switch(ve[1].toLowerCase()){case"content-location":ne=ve[2].trim();break;case"content-type":V=ve[2].trim();break;case"content-transfer-encoding":ie=ve[2].trim();break}}switch(++pe,ie.toLowerCase()){case"base64":oe=Ja(ii(le.slice(pe).join("")));break;case"quoted-printable":oe=Nu(le.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var we=Yo(X,ne.slice(re.length),oe,{unsafe:!0});V&&(we.ctype=V)}function Us(X,le){if(W(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=le&&le.root||"",ne=(St&&Buffer.isBuffer(X)?X.toString("binary"):W(X)).split(`\r
`),ie=0,V="";for(ie=0;ie<ne.length;++ie)if(V=ne[ie],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),re||(re=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),V.slice(0,re.length)!=re););var oe=(ne[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var pe="--"+(oe[1]||""),xe=[],ve=[],we={FileIndex:xe,FullPaths:ve};I(we);var Me,Ve=0;for(ie=0;ie<ne.length;++ie){var He=ne[ie];He!==pe&&He!==pe+"--"||(Ve++&&Ko(we,ne.slice(Me,ie),re),Me=ie)}return we}function Xl(X,le){var re=le||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],V=X.FullPaths[0],oe=V,pe=X.FileIndex[0],xe=1;xe<X.FullPaths.length;++xe)if(oe=X.FullPaths[xe].slice(V.length),pe=X.FileIndex[xe],!(!pe.size||!pe.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nt){return"_x"+nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nt){return"_u"+nt.charCodeAt(0).toString(16)+"_"});for(var ve=pe.content,we=St&&Buffer.isBuffer(ve)?ve.toString("binary"):W(ve),Me=0,Ve=Math.min(1024,we.length),He=0,Ue=0;Ue<=Ve;++Ue)(He=we.charCodeAt(Ue))>=32&&He<128&&++Me;var Ge=Me>=Ve*4/5;ie.push(ne),ie.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+oe),ie.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),ie.push("Content-Type: "+Wo(pe,oe)),ie.push(""),ie.push(Ge?Tu(we):Bs(we))}return ie.push(ne+`--\r
`),ie.join(`\r
`)}function Au(X){var le={};return I(le,X),le}function Yo(X,le,re,ne){var ie=ne&&ne.unsafe;ie||I(X);var V=!ie&&ct.find(X,le);if(!V){var oe=X.FullPaths[0];le.slice(0,oe.length)==oe?oe=le:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+le).replace("//","/")),V={name:a(le),type:2},X.FileIndex.push(V),X.FullPaths.push(oe),ie||ct.utils.cfb_gc(X)}return V.content=re,V.size=re?re.length:0,ne&&(ne.CLSID&&(V.clsid=ne.CLSID),ne.mt&&(V.mt=ne.mt),ne.ct&&(V.ct=ne.ct)),V}function Cu(X,le){I(X);var re=ct.find(X,le);if(re){for(var ne=0;ne<X.FileIndex.length;++ne)if(X.FileIndex[ne]==re)return X.FileIndex.splice(ne,1),X.FullPaths.splice(ne,1),!0}return!1}function Jl(X,le,re){I(X);var ne=ct.find(X,le);if(ne){for(var ie=0;ie<X.FileIndex.length;++ie)if(X.FileIndex[ie]==ne)return X.FileIndex[ie].name=a(re),X.FullPaths[ie]=re,!0}return!1}function Zl(X){R(X,!0)}return t.find=q,t.read=O,t.parse=h,t.write=ee,t.writeFile=Z,t.utils={cfb_new:Au,cfb_add:Yo,cfb_del:Cu,cfb_mov:Jl,cfb_gc:Zl,ReadShift:q0,CheckField:K7,prep_blob:zn,bconcat:En,use_zlib:L,_deflateRaw:ft,_inflateRaw:Eu,consts:ae},t})();function Awe(e){return typeof e=="string"?xy(e):Array.isArray(e)?Qbe(e):e}function pm(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=xy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Ts(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Awe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ql(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Cwe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Lr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function r3(e,t){for(var r=[],n=Lr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function yy(e){for(var t=[],r=Lr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function by(e){for(var t=[],r=Lr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function kwe(e){for(var t=[],r=Lr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var tv=new Date(1899,11,30,0,0,0);function cn(e,t){var r=e.getTime(),n=tv.getTime()+(e.getTimezoneOffset()-tv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var A7=new Date,Iwe=tv.getTime()+(A7.getTimezoneOffset()-tv.getTimezoneOffset())*6e4,n3=A7.getTimezoneOffset();function wy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Iwe),t.getTimezoneOffset()!==n3&&t.setTime(t.getTime()+(t.getTimezoneOffset()-n3)*6e4),t}function jwe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var a3=new Date("2017-02-19T19:06:09.000Z"),C7=isNaN(a3.getFullYear())?new Date("2/19/17"):a3,Rwe=C7.getFullYear()==2017;function vr(e,t){var r=new Date(e);if(Rwe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(C7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function su(e,t){if(St&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Ts(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ts(p7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Ts(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ts(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function yr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yr(e[r]));return t}function Dr(e,t){for(var r="";r.length<t;)r+=e;return r}function is(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Owe=["january","february","march","april","may","june","july","august","september","october","november","december"];function lf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Owe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Dwe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}})();function k7(e){return e?e.content&&e.type?su(e.content,!0):e.data?F0(e.data):e.asNodeBuffer&&St?F0(e.asNodeBuffer().toString("binary")):e.asBinary?F0(e.asBinary()):e._data&&e._data.getContent?F0(su(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function I7(e){if(!e)return null;if(e.data)return qP(e.data);if(e.asNodeBuffer&&St)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?qP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Mwe(e){return e&&e.name.slice(-4)===".bin"?I7(e):k7(e)}function Ai(e,t){for(var r=e.FullPaths||Lr(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function lN(e,t){var r=Ai(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Yr(e,t,r){if(!r)return Mwe(lN(e,t));if(!t)return null;try{return Yr(e,t)}catch{return null}}function Za(e,t,r){if(!r)return k7(lN(e,t));if(!t)return null;try{return Za(e,t)}catch{return null}}function Pwe(e,t,r){return I7(lN(e,t))}function i3(e){for(var t=e.FullPaths||Lr(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Et(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return St?n=$o(r):n=ewe(r),ct.utils.cfb_add(e,t,n)}ct.utils.cfb_add(e,t,r)}else e.file(t,r)}function cN(){return ct.utils.cfb_new()}function j7(e,t){switch(t.type){case"base64":return ct.read(e,{type:"base64"});case"binary":return ct.read(e,{type:"binary"});case"buffer":case"array":return ct.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function U0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Vr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Lwe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,s3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Fwe=/<[^>]*>/g,ia=Vr.match(s3)?s3:Fwe,Bwe=/<\w*:/,Uwe=/<(\/?)\w+:/;function xt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Lwe),o=0,u="",d=0,h="",m="",g=1;if(s)for(d=0;d!=s.length;++d){for(m=s[d],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function Ms(e){return e.replace(Uwe,"<$1")}var R7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},uN=yy(R7),Ot=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,u){return R7[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}})(),dN=/[&<>'"]/g,zwe=/[\u0000-\u0008\u000b-\u001f]/g;function Qt(e){var t=e+"";return t.replace(dN,function(r){return uN[r]}).replace(zwe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function o3(e){return Qt(e).replace(/ /g,"_x0020_")}var O7=/[\u0000-\u001f]/g;function fN(e){var t=e+"";return t.replace(dN,function(r){return uN[r]}).replace(/\n/g,"<br/>").replace(O7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function $we(e){var t=e+"";return t.replace(dN,function(r){return uN[r]}).replace(O7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var l3=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Vwe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function gr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function z_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function c3(e){var t=Ll(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function u3(e){return $o(e,"binary").toString("utf8")}var fg="foo bar baz",ir=St&&(u3(fg)==z_(fg)&&u3||c3(fg)==z_(fg)&&c3)||z_,Ts=St?function(e){return $o(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Ah=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),D7=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),Hwe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Gwe=/<\/?(?:vt:)?variant>/g,qwe=/<(?:vt:)([^>]*)>([\s\S]*)</;function d3(e,t){var r=xt(e),n=e.match(Hwe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Gwe,"").match(qwe);s&&a.push({v:ir(s[2]),t:s[1]})}),a}var M7=/(^\s|\s$|\n)/;function $n(e,t){return"<"+e+(t.match(M7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ch(e){return Lr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ke(e,t,r){return"<"+e+(r!=null?Ch(r):"")+(t!=null?(t.match(M7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function j2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Wwe(e,t){switch(typeof e){case"string":var r=Ke("vt:lpwstr",Qt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ke((e|0)==e?"vt:i4":"vt:r8",Qt(String(e)));case"boolean":return Ke("vt:bool",e?"true":"false")}if(e instanceof Date)return Ke("vt:filetime",j2(e));throw new Error("Unable to serialize "+e)}function hN(e){if(St&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ir(ql(iN(e)));throw new Error("Bad input format: expected Buffer or string")}var kh=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,sn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],qa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Kwe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Ywe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var f3=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},h3=St?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:$o(t)})):f3(e)}:f3,m3=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(fo(e,a)));return n.join("").replace(ha,"")},mN=St?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ha,""):m3(e,t,r)}:m3,p3=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},P7=St?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):p3(e,t,r)}:p3,g3=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Id(e,a)));return n.join("")},gm=St?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):g3(t,r,n)}:g3,L7=function(e,t){var r=Wa(e,t);return r>0?gm(e,t+4,t+4+r-1):""},F7=L7,B7=function(e,t){var r=Wa(e,t);return r>0?gm(e,t+4,t+4+r-1):""},U7=B7,z7=function(e,t){var r=2*Wa(e,t);return r>0?gm(e,t+4,t+4+r-1):""},$7=z7,V7=function(t,r){var n=Wa(t,r);return n>0?mN(t,r+4,r+4+n):""},H7=V7,G7=function(e,t){var r=Wa(e,t);return r>0?gm(e,t+4,t+4+r):""},q7=G7,W7=function(e,t){return Kwe(e,t)},rv=W7,pN=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};St&&(F7=function(t,r){if(!Buffer.isBuffer(t))return L7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},U7=function(t,r){if(!Buffer.isBuffer(t))return B7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$7=function(t,r){if(!Buffer.isBuffer(t))return z7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},H7=function(t,r){if(!Buffer.isBuffer(t))return V7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},q7=function(t,r){if(!Buffer.isBuffer(t))return G7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},rv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):W7(t,r)},pN=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Id=function(e,t){return e[t]},fo=function(e,t){return e[t+1]*256+e[t]},Xwe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Wa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Tc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Jwe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function q0(e,t){var r="",n,a,i=[],s,o,u,d;switch(t){case"dbcs":if(d=this.l,St&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(fo(this,d)),d+=2;e*=2;break;case"utf8":r=gm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=mN(this,this.l,this.l+e);break;case"wstr":return q0.call(this,e,"dbcs");case"lpstr-ansi":r=F7(this,this.l),e=4+Wa(this,this.l);break;case"lpstr-cp":r=U7(this,this.l),e=4+Wa(this,this.l);break;case"lpwstr":r=$7(this,this.l),e=4+2*Wa(this,this.l);break;case"lpp4":e=4+Wa(this,this.l),r=H7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Wa(this,this.l),r=q7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Id(this,this.l+e++))!==0;)i.push(dg(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=fo(this,this.l+e))!==0;)i.push(dg(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Id(this,d),this.l=d+1,o=q0.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dg(fo(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Id(this,d),this.l=d+1,o=q0.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dg(Id(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return n=Id(this,this.l),this.l++,n;case 2:return n=(t==="i"?Xwe:fo)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Tc:Jwe)(this,this.l),this.l+=4,n):(a=Wa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=rv(this,this.l):a=rv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=P7(this,this.l,e);break}}return this.l+=e,r}var Zwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Qwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},e_e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function t_e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)e_e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Zwe(this,t,this.l);break;case 8:if(n=8,r==="f"){Ywe(this,t,this.l);break}case 16:break;case-4:n=4,Qwe(this,t,this.l);break}return this.l+=n,this}function K7(e,t){var r=P7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function zn(e,t){e.l=t,e.read_shift=q0,e.chk=K7,e.write_shift=t_e}function aa(e,t){e.l+=t}function De(e){var t=Ll(e);return zn(t,0),t}function Vo(e,t,r){if(e){var n,a,i;zn(e,e.l||0);for(var s=e.length,o=0,u=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=Mh[o]||Mh[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var h=d.f&&d.f(e,i,r);if(e.l=u,t(h,d,o))return}}}function Oa(){var e=[],t=St?256:2048,r=function(d){var h=De(d);return zn(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},s=function(){return a(),En(e)},o=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function $e(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Mh[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&pN(r)&&e.push(r)}}function W0(e,t,r){var n=yr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function x3(e,t,r){var n=yr(e);return n.s=W0(n.s,t.s,r),n.e=W0(n.e,t.s,r),n}function K0(e,t){if(e.cRel&&e.c<0)for(e=yr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=yr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=gt(e);return!e.cRel&&e.cRel!=null&&(r=a_e(r)),!e.rRel&&e.rRel!=null&&(r=r_e(r)),r}function $_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Nr(e.s.c)+":"+(e.e.cRel?"":"$")+Nr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+$r(e.s.r)+":"+(e.e.rRel?"":"$")+$r(e.e.r):K0(e.s,t.biff)+":"+K0(e.e,t.biff)}function gN(e){return parseInt(n_e(e),10)-1}function $r(e){return""+(e+1)}function r_e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function n_e(e){return e.replace(/\$(\d+)$/,"$1")}function xN(e){for(var t=i_e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Nr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function a_e(e){return e.replace(/^([A-Z])/,"$$$1")}function i_e(e){return e.replace(/^\$([A-Z])/,"$1")}function s_e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ar(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function gt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Da(e){var t=e.indexOf(":");return t==-1?{s:Ar(e),e:Ar(e)}:{s:Ar(e.slice(0,t)),e:Ar(e.slice(t+1))}}function wt(e,t){return typeof t>"u"||typeof t=="number"?wt(e.s,e.e):(typeof e!="string"&&(e=gt(e)),typeof t!="string"&&(t=gt(t)),e==t?e:e+":"+t)}function Dt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function v3(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bi(e.z,r?cn(t):t)}catch{}try{return e.w=Bi((e.XF||{}).numFmtId||(r?14:0),r?cn(t):t)}catch{return""+t}}function Io(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ho[e.v]||e.v:t==null?v3(e,e.v):v3(e,t))}function Wl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Y7(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Ar(n.origin):n.origin;s=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Dt(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(d.e.r=s=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var x={v:t[m][g]},b=s+m,y=o+g;if(d.s.r>b&&(d.s.r=b),d.s.c>y&&(d.s.c=y),d.e.r<b&&(d.e.r=b),d.e.c<y&&(d.e.c=y),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))x=t[m][g];else if(Array.isArray(x.v)&&(x.f=t[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||pt[14],n.cellDates?(x.t="d",x.w=Bi(x.z,cn(x.v))):(x.t="n",x.v=cn(x.v),x.w=Bi(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(x.z=i[b][y].z),i[b][y]=x;else{var _=gt({c:y,r:b});i[_]&&i[_].z&&(x.z=i[_].z),i[_]=x}}}return d.s.c<1e7&&(i["!ref"]=wt(d)),i}function Nf(e,t){return Y7(null,e,t)}function o_e(e){return e.read_shift(4,"i")}function ss(e,t){return t||(t=De(4)),t.write_shift(4,e),t}function ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Sn(e,t){var r=!1;return t==null&&(r=!0,t=De(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function l_e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function c_e(e,t){return t||(t=De(4)),t.write_shift(2,0),t.write_shift(2,0),t}function vN(e,t){var r=e.l,n=e.read_shift(1),a=ta(e),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(l_e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function u_e(e,t){var r=!1;return t==null&&(r=!0,t=De(15+4*e.t.length)),t.write_shift(1,0),Sn(e.t,t),r?t.slice(0,t.l):t}var d_e=vN;function f_e(e,t){var r=!1;return t==null&&(r=!0,t=De(23+4*e.t.length)),t.write_shift(1,1),Sn(e.t,t),t.write_shift(4,1),c_e({},t),r?t.slice(0,t.l):t}function zi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vu(e,t){return t==null&&(t=De(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function yu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function bu(e,t){return t==null&&(t=De(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var h_e=ta,X7=Sn;function yN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function nv(e,t){var r=!1;return t==null&&(r=!0,t=De(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var m_e=ta,R2=yN,bN=nv;function wN(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?rv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Tc(t,0)>>2;return r?a/100:a}function J7(e,t){t==null&&(t=De(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Z7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function p_e(e,t){return t||(t=De(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wu=Z7,Af=p_e;function Qn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ou(e,t){return(t||De(8)).write_shift(8,e,"f")}function g_e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=Vc[a];d&&(t.rgb=jh(d));break;case 2:t.rgb=jh([s,o,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function av(e,t){if(t||(t=De(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function x_e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function v_e(e,t){t||(t=De(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Q7(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function y_e(e){return Q7(e,1)}function b_e(e){return Q7(e,2)}var _N=2,Aa=3,hg=11,y3=12,iv=19,mg=64,w_e=65,__e=71,E_e=4108,S_e=4126,wn=80,ez=81,T_e=[wn,ez],O2={1:{n:"CodePage",t:_N},2:{n:"Category",t:wn},3:{n:"PresentationFormat",t:wn},4:{n:"ByteCount",t:Aa},5:{n:"LineCount",t:Aa},6:{n:"ParagraphCount",t:Aa},7:{n:"SlideCount",t:Aa},8:{n:"NoteCount",t:Aa},9:{n:"HiddenCount",t:Aa},10:{n:"MultimediaClipCount",t:Aa},11:{n:"ScaleCrop",t:hg},12:{n:"HeadingPairs",t:E_e},13:{n:"TitlesOfParts",t:S_e},14:{n:"Manager",t:wn},15:{n:"Company",t:wn},16:{n:"LinksUpToDate",t:hg},17:{n:"CharacterCount",t:Aa},19:{n:"SharedDoc",t:hg},22:{n:"HyperlinksChanged",t:hg},23:{n:"AppVersion",t:Aa,p:"version"},24:{n:"DigSig",t:w_e},26:{n:"ContentType",t:wn},27:{n:"ContentStatus",t:wn},28:{n:"Language",t:wn},29:{n:"Version",t:wn},255:{},2147483648:{n:"Locale",t:iv},2147483651:{n:"Behavior",t:iv},1919054434:{}},D2={1:{n:"CodePage",t:_N},2:{n:"Title",t:wn},3:{n:"Subject",t:wn},4:{n:"Author",t:wn},5:{n:"Keywords",t:wn},6:{n:"Comments",t:wn},7:{n:"Template",t:wn},8:{n:"LastAuthor",t:wn},9:{n:"RevNumber",t:wn},10:{n:"EditTime",t:mg},11:{n:"LastPrinted",t:mg},12:{n:"CreatedDate",t:mg},13:{n:"ModifiedDate",t:mg},14:{n:"PageCount",t:Aa},15:{n:"WordCount",t:Aa},16:{n:"CharCount",t:Aa},17:{n:"Thumbnail",t:__e},18:{n:"Application",t:wn},19:{n:"DocSecurity",t:Aa},255:{},2147483648:{n:"Locale",t:iv},2147483651:{n:"Behavior",t:iv},1919054434:{}},b3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},N_e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function A_e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var C_e=A_e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vc=yr(C_e),Ho={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},M2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function EN(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function k_e(e){var t=EN();if(!e||!e.match)return t;var r={};if((e.match(ia)||[]).forEach(function(n){var a=xt(n);switch(a[0].replace(Bwe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[M2[a.ContentType]]!==void 0&&t[M2[a.ContentType]].push(a.PartName);break}}),t.xmlns!==sn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function rz(e,t){var r=kwe(M2),n=[],a;n[n.length]=Vr,n[n.length]=Ke("Types",null,{xmlns:sn.CT,"xmlns:xsd":sn.xsd,"xmlns:xsi":sn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ke("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=Ke("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:pg[u][t.bookType]||pg[u].xlsx}))},s=function(u){(e[u]||[]).forEach(function(d){n[n.length]=Ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:pg[u][t.bookType]||pg[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(d){n[n.length]=Ke("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[u][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ih(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Y0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ia)||[]).forEach(function(a){var i=xt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:U0(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function Gd(e){var t=[Vr,Ke("Relationships",null,{xmlns:sn.RELS})];return Lr(e["!id"]).forEach(function(r){t[t.length]=Ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Jt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tt.HLINK,Tt.XPATH,Tt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var I_e="application/vnd.oasis.opendocument.spreadsheet";function j_e(e,t){for(var r=hN(e),n,a;n=kh.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=xt(n[0],!1),a.path=="/"&&a.type!==I_e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function R_e(e){var t=[Vr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function w3(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function O_e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function D_e(e){var t=[Vr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(w3(e[r][0],e[r][1])),t.push(O_e("",e[r][0]));return t.push(w3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function nz(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jx.version+"</meta:generator></office:meta></office:document-meta>"}var Ri=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],M_e=(function(){for(var e=new Array(Ri.length),t=0;t<Ri.length;++t){var r=Ri[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function az(e){var t={};e=ir(e);for(var r=0;r<Ri.length;++r){var n=Ri[r],a=e.match(M_e[r]);a!=null&&a.length>0&&(t[n[1]]=Ot(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=vr(t[n[1]]))}return t}function V_(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Qt(t),n[n.length]=r?Ke(e,t,r):$n(e,t))}function iz(e,t){var r=t||{},n=[Vr,Ke("cp:coreProperties",null,{"xmlns:cp":sn.CORE_PROPS,"xmlns:dc":sn.dc,"xmlns:dcterms":sn.dcterms,"xmlns:dcmitype":sn.dcmitype,"xmlns:xsi":sn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&V_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:j2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&V_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:j2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ri.length;++i){var s=Ri[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&V_(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Hc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oz(e,t,r,n){var a=[];if(typeof e=="string")a=d3(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var s=typeof t=="string"?d3(t,n).map(function(h){return h.v}):t,o=0,u=0;if(s.length>0)for(var d=0;d!==a.length;d+=2){switch(u=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=s.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=s.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=s.slice(o,o+u);break}o+=u}}function P_e(e,t,r){var n={};return t||(t={}),e=ir(e),Hc.forEach(function(a){var i=(e.match(Ah(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Ot(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&oz(n.HeadingPairs,n.TitlesOfParts,t,r),t}function lz(e){var t=[],r=Ke;return e||(e={}),e.Application="SheetJS",t[t.length]=Vr,t[t.length]=Ke("Properties",null,{xmlns:sn.EXT_PROPS,"xmlns:vt":sn.vt}),Hc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Qt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Qt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var L_e=/<[^>]+>[^<]*/g;function F_e(e,t){var r={},n="",a=e.match(L_e);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=xt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ot(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),d=u[0].slice(4),h=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Ot(h);break;case"bool":r[n]=gr(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=vr(h);break;case"cy":case"error":r[n]=Ot(h);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,d,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function cz(e){var t=[Vr,Ke("Properties",null,{xmlns:sn.CUST_PROPS,"xmlns:vt":sn.vt})];if(!e)return t.join("");var r=1;return Lr(e).forEach(function(a){++r,t[t.length]=Ke("property",Wwe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var P2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},H_;function B_e(e,t,r){H_||(H_=yy(P2)),t=H_[t]||t,e[t]=r}function U_e(e,t){var r=[];return Lr(P2).map(function(n){for(var a=0;a<Ri.length;++a)if(Ri[a][1]==n)return Ri[a];for(a=0;a<Hc.length;++a)if(Hc[a][1]==n)return Hc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push($n(P2[n[1]]||n[1],a))}}),Ke("DocumentProperties",r.join(""),{xmlns:qa.o})}function z_e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Lr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Ri.length;++s)if(i==Ri[s][1])return;for(s=0;s<Hc.length;++s)if(i==Hc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(Ke(o3(i),o,{"dt:dt":u}))}}),t&&Lr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(Ke(o3(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+qa.o+'">'+a.join("")+"</"+n+">"}function SN(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function $_e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=De(8);return s.write_shift(4,n),s.write_shift(4,a),s}function uz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function dz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function fz(e,t,r){return t===31?dz(e):uz(e,t,r)}function L2(e,t,r){return fz(e,t,r===!1?0:4)}function V_e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fz(e,t,0)}function H_e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ha,""),e.l-a&2&&(e.l+=2)}return r}function G_e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ha,"");return r}function q_e(e){var t=e.l,r=sv(e,ez);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=sv(e,Aa);return[r,n]}function W_e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(q_e(e));return r}function _3(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(ha,"").replace(B0,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function hz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function K_e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sv(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==y3&&n!==t&&T_e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===y3?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return uz(e,n,4).replace(ha,"");case 31:return dz(e);case 64:return SN(e);case 65:return hz(e);case 71:return K_e(e);case 80:return L2(e,n,!i.raw).replace(ha,"");case 81:return V_e(e,n).replace(ha,"");case 4108:return W_e(e);case 4126:case 4127:return n==4127?H_e(e):G_e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function E3(e,t){var r=De(4),n=De(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=De(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=$_e(t);break;case 31:case 80:for(n=De(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return En([r,n])}function S3(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,u=-1,d={};for(s=0;s!=a;++s){var h=e.read_shift(4),m=e.read_shift(4);i[s]=[h,m+r]}i.sort(function(k,A){return k[1]-A[1]});var g={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var x=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(x=!1,e.l=i[s][1]),x)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var b=t[i[s][0]];if(g[b.n]=sv(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Qi(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[s][0]===1){if(o=g.CodePage=sv(e,_N),Qi(o),u!==-1){var y=e.l;e.l=i[u][1],d=_3(e,o),e.l=y}}else if(i[s][0]===0){if(o===0){u=s,e.l=i[s+1][1];continue}d=_3(e,o)}else{var _=d[i[s][0]],N;switch(e[e.l]){case 65:e.l+=4,N=hz(e);break;case 30:e.l+=4,N=L2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,N=L2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,N=e.read_shift(4,"i");break;case 19:e.l+=4,N=e.read_shift(4);break;case 5:e.l+=4,N=e.read_shift(8,"f");break;case 11:e.l+=4,N=Ur(e,4);break;case 64:e.l+=4,N=vr(SN(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[_]=N}}return e.l=r+n,g}var mz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Y_e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function T3(e,t,r){var n=De(8),a=[],i=[],s=8,o=0,u=De(8),d=De(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),i.push(u),a.push(d),s+=8+u.length,!t){d=De(8),d.write_shift(4,0),a.unshift(d);var h=[De(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(u=De(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=En(h),i.unshift(u),s+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(mz.indexOf(e[o][0])>-1||sz.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}u=E3(b.t,g)}else{var _=Y_e(g);_==-1&&(_=31,g=String(g)),u=E3(_,g)}i.push(u),d=De(8),d.write_shift(4,t?x:2+o),a.push(d),s+=8+u.length}var N=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,N),N+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),En([n].concat(a).concat(i))}function N3(e,t,r){var n=e.content;if(!n)return{};zn(n,0);var a,i,s,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),h=n.read_shift(16);if(h!==ct.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),u=n.read_shift(4));var m=S3(n,t),g={SystemIdentifier:d};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=S3(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,s],g}function A3(e,t,r,n,a,i){var s=De(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,ct.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var u=T3(e,r,n);if(o.push(u),a){var d=T3(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+u.length),o.push(d)}return En(o)}function bl(e,t){return e.read_shift(t),null}function X_e(e,t){t||(t=De(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function J_e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ur(e,t){return e.read_shift(t)===1}function ca(e,t){return t||(t=De(2)),t.write_shift(2,+!!e),t}function Xr(e){return e.read_shift(2,"u")}function Ci(e,t){return t||(t=De(2)),t.write_shift(2,e),t}function pz(e,t){return J_e(e,t,Xr)}function Z_e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function gz(e,t,r){return r||(r=De(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Q_e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,u={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,d);return a&&(e.l+=4*s),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function eEe(e){var t=e.t||"",r=De(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=De(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return En(a)}function lu(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function vm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):lu(e,n,r)}function _u(e,t,r){if(r.biff>5)return vm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function xz(e,t,r){return r||(r=De(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function tEe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function rEe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ha,"");return n&&(e.l+=24),a}function nEe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(ha,"");return r+s}function aEe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return rEe(e);case"0303000000000000c000000000000046":return nEe(e);default:throw new Error("Unsupported Moniker "+r)}}function gg(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ha,""):"";return r}function C3(e,t){t||(t=De(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function iEe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,u,d="",h,m;a&16&&(i=gg(e,r-e.l)),a&128&&(s=gg(e,r-e.l)),(a&257)===257&&(o=gg(e,r-e.l)),(a&257)===1&&(u=aEe(e,r-e.l)),a&8&&(d=gg(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(m=SN(e)),e.l=r;var g=s||o||u||"";g&&d&&(g+="#"+d),g||(g="#"+d),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),m&&(x.time=m),i&&(x.Tooltip=i),x}function sEe(e){var t=De(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),C3(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&C3(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function vz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function yz(e,t){var r=vz(e);return r[3]=0,r}function Ps(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function cu(e,t,r,n){return n||(n=De(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function oEe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function lEe(e,t,r){return t===0?"":_u(e,t,r)}function cEe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function bz(e){var t=e.read_shift(2),r=wN(e);return[t,r]}function uEe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=xm(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function _y(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function wz(e,t){return t||(t=De(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function _z(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var dEe=_z;function Ez(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function fEe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function hEe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Wn(e){e.l+=2,e.l+=e.read_shift(2)}var mEe={0:Wn,4:Wn,5:Wn,6:Wn,7:hEe,8:Wn,9:Wn,10:Wn,11:Wn,12:Wn,13:fEe,14:Wn,15:Wn,16:Wn,17:Wn,18:Wn,19:Wn,20:Wn,21:Ez};function pEe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(mEe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function xg(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function TN(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function gEe(e,t){return t===0||e.read_shift(2),1200}function xEe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=_u(e,0,r);return e.read_shift(t+n-e.l),a}function vEe(e,t){var r=!t||t.biff==8,n=De(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function yEe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function bEe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=xm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function wEe(e,t){var r=!t||t.biff>=8?2:1,n=De(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function _Ee(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Q_e(e));return i.Count=n,i.Unique=a,i}function EEe(e,t){var r=De(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=eEe(e[a]);var i=En([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function SEe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function TEe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function NEe(e){var t=oEe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function AEe(e){return e.read_shift(2),e.read_shift(4)}function k3(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function CEe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:u,TabRatio:d}}function kEe(){var e=De(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function IEe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jEe(e){var t=De(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function REe(){}function OEe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=xm(e,0,r),n}function DEe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=De(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function MEe(e){var t=Ps(e);return t.isst=e.read_shift(4),t}function PEe(e,t,r,n){var a=De(10);return cu(e,t,n,a),a.write_shift(4,r),a}function LEe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ps(e);r.biff==2&&e.l++;var i=vm(e,n-e.l,r);return a.val=i,a}function FEe(e,t,r,n,a){var i=!a||a.biff==8,s=De(8+ +i+(1+i)*r.length);return cu(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function BEe(e,t,r){var n=e.read_shift(2),a=_u(e,0,r);return[n,a]}function UEe(e,t,r,n){var a=r&&r.biff==5;n||(n=De(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var zEe=_u;function I3(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:u}}}function $Ee(e,t){var r=t.biff==8||!t.biff?4:2,n=De(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function VEe(e){var t=e.read_shift(2),r=e.read_shift(2),n=bz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function HEe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(bz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function GEe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function qEe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=N_e[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function WEe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=qEe(e,t,n.fStyle,r),n}function j3(e,t,r,n){var a=r&&r.biff==5;n||(n=De(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function KEe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function YEe(e){var t=De(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function R3(e,t,r){var n=Ps(e);(r.biff==2||t==9)&&++e.l;var a=Z_e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function XEe(e,t,r,n,a,i){var s=De(8);return cu(e,t,n,s),gz(r,i,s),s}function JEe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ps(e),a=Qn(e);return n.val=a,n}function ZEe(e,t,r,n){var a=De(14);return cu(e,t,n,a),ou(r,a),a}var O3=lEe;function QEe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=lu(e,i),o=[];n>e.l;)o.push(vm(e));return[i,a,s,o]}function D3(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=uEe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var e2e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function M3(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=lu(e,s,r);a&32&&(d=e2e[d.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:pAe(e,h,r,o);return{chKey:i,Name:d,itab:u,rgce:m}}function Sz(e,t,r){if(r.biff<8)return t2e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(cEe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function t2e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=xm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function r2e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=lu(e,n,r),s=lu(e,a,r);return[i,s]}function n2e(e,t,r){var n=_z(e);e.l++;var a=e.read_shift(1);return t-=8,[gAe(e,t,r),a,n]}function P3(e,t,r){var n=dEe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,hAe(e,t,r)]}function a2e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function i2e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=_u(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function s2e(e,t,r){return i2e(e,t,r)}function o2e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(_y(e));return r}function l2e(e){var t=De(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)wz(e[r],t);return t}function c2e(e,t,r){if(r&&r.biff<8)return d2e(e,t,r);var n=Ez(e),a=pEe(e,t-22,n[1]);return{cmo:n,ft:a}}var u2e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function d2e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((u2e[n]||aa)(e,t,r)),{cmo:[a,n,i],ft:s}}function f2e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=tEe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Xr(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-n!=e.lens[d])throw new Error("TxO: bad continue record");var h=e[e.l],m=lu(e,e.lens[d+1]-e.lens[d]-1);if(a+=m,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function h2e(e,t){var r=_y(e);e.l+=16;var n=iEe(e,t-24);return[r,n]}function m2e(e){var t=De(24),r=Ar(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return En([t,sEe(e[1])])}function p2e(e,t){e.read_shift(2);var r=_y(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ha,""),[r,n]}function g2e(e){var t=e[1].Tooltip,r=De(10+2*(t.length+1));r.write_shift(2,2048);var n=Ar(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function x2e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=b3[r]||r,r=e.read_shift(2),t[1]=b3[r]||r,t}function v2e(e){return e||(e=De(4)),e.write_shift(2,1),e.write_shift(2,1),e}function y2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(yz(e));return r}function b2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(yz(e));return r}function w2e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Tz(e,t,r){if(!r.cellStyles)return aa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:i,w:s,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(d.level=u>>8&7),d}function _2e(e,t){var r=De(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function E2e(e,t){var r={};return t<32||(e.l+=16,r.header=Qn(e),r.footer=Qn(e),e.l+=2),r}function S2e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function T2e(e){for(var t=De(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var N2e=Ps,A2e=pz,C2e=vm;function k2e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function I2e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ps(e);++e.l;var a=_u(e,t-7,r);return n.t="str",n.val=a,n}function j2e(e){var t=Ps(e);++e.l;var r=Qn(e);return t.t="n",t.val=r,t}function R2e(e,t,r){var n=De(15);return _m(n,e,t),n.write_shift(8,r,"f"),n}function O2e(e){var t=Ps(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function D2e(e,t,r){var n=De(9);return _m(n,e,t),n.write_shift(2,r),n}function M2e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function P2e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function L2e(e,t,r){var n=e.l+t,a=Ps(e),i=e.read_shift(2),s=lu(e,i,r);return e.l=n,a.t="str",a.val=s,a}var F2e=[2,3,48,49,131,139,140,245],F2=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var d=[],h=Ll(1);switch(u.type){case"base64":h=Ja(ii(o));break;case"binary":h=Ja(o);break;case"buffer":case"array":h=o;break}zn(h,0);var m=h.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var y=0,_=521;m==2&&(y=h.read_shift(2)),h.l+=3,m!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),m!=2&&(_=h.read_shift(2));var N=h.read_shift(2),k=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(k=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var A=[],D={},j=Math.min(h.length,m==2?521:_-10-(x?264:0)),O=b?32:11;h.l<j&&h[h.l]!=13;)switch(D={},D.name=Sh.utils.decode(k,h.slice(h.l,h.l+O)).replace(/[\u0000\r\n].*$/g,""),h.l+=O,D.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),m==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&A.push(D),m!=2&&(h.l+=b?13:14),D.type){case"B":(!x||D.len!=8)&&u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=_-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=_;var I=0,M=0;for(d[0]=[],M=0;M!=A.length;++M)d[0][M]=A[M].name;for(;y-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,d[++I]=[],M=0,M=0;M!=A.length;++M){var R=h.slice(h.l,h.l+A[M].len);h.l+=A[M].len,zn(R,0);var z=Sh.utils.decode(k,R);switch(A[M].type){case"C":z.trim().length&&(d[I][M]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[I][M]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[I][M]=z;break;case"F":d[I][M]=parseFloat(z.trim());break;case"+":case"I":d[I][M]=b?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[I][M]=!0;break;case"N":case"F":d[I][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[I][M]="##MEMO##"+(b?parseInt(z.trim(),10):R.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[I][M]=+z||0);break;case"@":d[I][M]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":d[I][M]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":d[I][M]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[I][M]=-R.read_shift(-8,"f");break;case"B":if(x&&A[M].len==8){d[I][M]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[M].len;break;case"0":if(A[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[M].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=A,d}function n(o,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Nf(r(o,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function a(o,u){try{return Wl(n(o,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,u){var d=u||{};if(+d.codepage>=0&&Qi(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Oa(),m=cv(o,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=o["!cols"]||[],y=0,_=0,N=0,k=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++N;continue}if(g[y]!=null){if(++N,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(_=0;_<1024;++_)if(g.indexOf(g[y]+"_"+_)==-1){g[y]+="_"+_;break}}}}var A=Dt(o["!ref"]),D=[],j=[],O=[];for(y=0;y<=A.e.c-A.s.c;++y){var I="",M="",R=0,z=[];for(_=0;_<x.length;++_)x[_][y]!=null&&z.push(x[_][y]);if(z.length==0||g[y]==null){D[y]="?";continue}for(_=0;_<z.length;++_){switch(typeof z[_]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=z[_]instanceof Date?"D":"C";break;default:M="C"}R=Math.max(R,String(z[_]).length),I=I&&I!=M?"C":M}R>250&&(R=250),M=((b[y]||{}).DBF||{}).type,M=="C"&&b[y].DBF.len>R&&(R=b[y].DBF.len),I=="B"&&M=="N"&&(I="N",O[y]=b[y].DBF.dec,R=b[y].DBF.len),j[y]=I=="C"||M=="N"?R:i[I]||0,k+=j[y],D[y]=I}var q=h.next(32);for(q.write_shift(4,318902576),q.write_shift(4,x.length),q.write_shift(2,296+32*N),q.write_shift(2,k),y=0;y<4;++y)q.write_shift(4,0);for(q.write_shift(4,0|(+t[m7]||3)<<8),y=0,_=0;y<g.length;++y)if(g[y]!=null){var F=h.next(32),Y=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,Y,"sbcs"),F.write_shift(1,D[y]=="?"?"C":D[y],"sbcs"),F.write_shift(4,_),F.write_shift(1,j[y]||i[D[y]]||0),F.write_shift(1,O[y]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),_+=j[y]||i[D[y]]||0}var de=h.next(264);for(de.write_shift(4,13),y=0;y<65;++y)de.write_shift(4,0);for(y=0;y<x.length;++y){var ce=h.next(k);for(ce.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(D[_]){case"L":ce.write_shift(1,x[y][_]==null?63:x[y][_]?84:70);break;case"B":ce.write_shift(8,x[y][_]||0,"f");break;case"N":var K="0";for(typeof x[y][_]=="number"&&(K=x[y][_].toFixed(O[_]||0)),N=0;N<j[_]-K.length;++N)ce.write_shift(1,32);ce.write_shift(1,K,"sbcs");break;case"D":x[y][_]?(ce.write_shift(4,("0000"+x[y][_].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(x[y][_].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+x[y][_].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(x[y][_]!=null?x[y][_]:"").slice(0,j[_]);for(ce.write_shift(1,ae,"sbcs"),N=0;N<j[_]-ae.length;++N)ce.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),Nz=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Lr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?WP(b):b},n=function(g,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:WP(y)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(ii(g),x);case"binary":return i(g,x);case"buffer":return i(St&&Buffer.isBuffer(g)?g.toString("binary"):ql(g),x);case"array":return i(su(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),y=-1,_=-1,N=0,k=0,A=[],D=[],j=null,O={},I=[],M=[],R=[],z=0,q;for(+x.codepage>=0&&Qi(+x.codepage);N!==b.length;++N){z=0;var F=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),Y=F.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),de=Y[0],ce;if(F.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&D.push(F.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,ae=!1,Z=!1,W=!1,ee=-1,H=-1;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"A":break;case"X":_=parseInt(Y[k].slice(1))-1,ae=!0;break;case"Y":for(y=parseInt(Y[k].slice(1))-1,ae||(_=0),q=A.length;q<=y;++q)A[q]=[];break;case"K":ce=Y[k].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(is(ce))?isNaN(lf(ce).getDate())||(ce=vr(ce)):(ce=is(ce),j!==null&&Sf(j)&&(ce=wy(ce))),K=!0;break;case"E":W=!0;var L=qd(Y[k].slice(1),{r:y,c:_});A[y][_]=[A[y][_],L];break;case"S":Z=!0,A[y][_]=[A[y][_],"S5S"];break;case"G":break;case"R":ee=parseInt(Y[k].slice(1))-1;break;case"C":H=parseInt(Y[k].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}if(K&&(A[y][_]&&A[y][_].length==2?A[y][_][0]=ce:A[y][_]=ce,j=null),Z){if(W)throw new Error("SYLK shared formula cannot have own formula");var J=ee>-1&&A[ee][H];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");A[y][_][1]=Hz(J[1],{r:y-ee,c:_-H})}break;case"F":var U=0;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"X":_=parseInt(Y[k].slice(1))-1,++U;break;case"Y":for(y=parseInt(Y[k].slice(1))-1,q=A.length;q<=y;++q)A[q]=[];break;case"M":z=parseInt(Y[k].slice(1))/20;break;case"F":break;case"G":break;case"P":j=D[parseInt(Y[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=Y[k].slice(1).split(" "),q=parseInt(R[0],10);q<=parseInt(R[1],10);++q)z=parseInt(R[2],10),M[q-1]=z===0?{hidden:!0}:{wch:z},Fl(M[q-1]);break;case"C":_=parseInt(Y[k].slice(1))-1,M[_]||(M[_]={});break;case"R":y=parseInt(Y[k].slice(1))-1,I[y]||(I[y]={}),z>0?(I[y].hpt=z,I[y].hpx=uf(z)):z===0&&(I[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}U<1&&(j=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}}return I.length>0&&(O["!rows"]=I),M.length>0&&(O["!cols"]=M),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,O]}function s(g,x){var b=a(g,x),y=b[0],_=b[1],N=Nf(y,x);return Lr(_).forEach(function(k){N[k]=_[k]}),N}function o(g,x){return Wl(s(g,x),x)}function u(g,x,b,y){var _="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+jN(g.f,{r:b,c:y}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function d(g,x){x.forEach(function(b,y){var _="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?_+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Rh(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Oh(b.wpx)),typeof b.wch=="number"&&(_+=Math.round(b.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function h(g,x){x.forEach(function(b,y){var _="F;";b.hidden?_+="M0;":b.hpt?_+="M"+20*b.hpt+";":b.hpx&&(_+="M"+20*Dh(b.hpx)+";"),_.length>2&&g.push(_+"R"+(y+1))})}function m(g,x){var b=["ID;PWXL;N;E"],y=[],_=Dt(g["!ref"]),N,k=Array.isArray(g),A=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&d(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var D=_.s.r;D<=_.e.r;++D)for(var j=_.s.c;j<=_.e.c;++j){var O=gt({r:D,c:j});N=k?(g[D]||[])[j]:g[O],!(!N||N.v==null&&(!N.f||N.F))&&y.push(u(N,g,D,j))}return b.join(A)+A+y.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:s,from_sheet:m}})(),Az=(function(){function e(i,s){switch(s.type){case"base64":return t(ii(i),s);case"binary":return t(i,s);case"buffer":return t(St&&Buffer.isBuffer(i)?i.toString("binary"):ql(i),s);case"array":return t(su(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),u=-1,d=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++u]=[],d=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+x){case-1:if(y==="BOT"){m[++u]=[],d=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?m[u][d]=!0:y==="FALSE"?m[u][d]=!1:isNaN(is(b))?isNaN(lf(b).getDate())?m[u][d]=b:m[u][d]=vr(b):m[u][d]=is(b),++d;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),m[u][d++]=y!==""?y:null;break}if(y==="EOD")break}}return s&&s.sheetRows&&(m=m.slice(0,s.sheetRows)),m}function r(i,s){return Nf(e(i,s),s)}function n(i,s){return Wl(r(i,s),s)}var a=(function(){var i=function(u,d,h,m,g){u.push(d),u.push(h+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},s=function(u,d,h,m){u.push(d+","+h),u.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var d=[],h=Dt(u["!ref"]),m,g=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){s(d,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var y=gt({r:x,c:b});if(m=g?(u[x]||[])[b]:u[y],!m){s(d,1,0,"");continue}switch(m.t){case"n":var _=m.w;!_&&m.v!=null&&(_=m.v),_==null?m.f&&!m.F?s(d,1,0,"="+m.f):s(d,1,0,""):s(d,0,_,"V");break;case"b":s(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":s(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Bi(m.z||pt[14],cn(vr(m.v)))),s(d,0,m.w,"V");break;default:s(d,1,0,"")}}}s(d,-1,0,"EOD");var N=`\r
`,k=d.join(N);return k}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),Cz=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,y=-1,_=0,N=[];_!==x.length;++_){var k=x[_].trim().split(":");if(k[0]==="cell"){var A=Ar(k[1]);if(N.length<=A.r)for(b=N.length;b<=A.r;++b)N[b]||(N[b]=[]);switch(b=A.r,y=A.c,k[2]){case"t":N[b][y]=e(k[3]);break;case"v":N[b][y]=+k[3];break;case"vtf":var D=k[k.length-1];case"vtc":switch(k[3]){case"nl":N[b][y]=!!+k[4];break;default:N[b][y]=+k[4];break}k[2]=="vtf"&&(N[b][y]=[N[b][y],D])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(m,g){return Nf(r(m,g),g)}function a(m,g){return Wl(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,y="",_=Da(m["!ref"]),N=Array.isArray(m),k=_.s.r;k<=_.e.r;++k)for(var A=_.s.c;A<=_.e.c;++A)if(y=gt({r:k,c:A}),b=N?(m[k]||[])[A]:m[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var D=cn(vr(b.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=b.w||Bi(b.z||pt[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(m){return[i,s,o,s,d(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),cf=(function(){function e(h,m,g,x,b){b.raw?m[g][x]=h:h===""||(h==="TRUE"?m[g][x]=!0:h==="FALSE"?m[g][x]=!1:isNaN(is(h))?isNaN(lf(h).getDate())?m[g][x]=h:m[g][x]=vr(h):m[g][x]=is(h))}function t(h,m){var g=m||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var _=10,N=0,k=0;k<=y;++k)N=b[k].indexOf(" "),N==-1?N=b[k].length:N++,_=Math.max(_,N);for(k=0;k<=y;++k){x[k]=[];var A=0;for(e(b[k].slice(0,_).trim(),x,k,A,g),A=1;A<=(b[k].length-_)/10+1;++A)e(b[k].slice(_+(A-1)*10,_+A*10).trim(),x,k,A,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(y,_){return y[0]-_[0]||n[y[1]]-n[_[1]]}),r[b.pop()[1]]||44}function i(h,m){var g=m||{},x="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var _=0,N=0,k=0,A=0,D=0,j=x.charCodeAt(0),O=!1,I=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?Swe(g.dateNF):null;function z(){var q=h.slice(A,D),F={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)F.t="z";else if(g.raw)F.t="s",F.v=q;else if(q.trim().length===0)F.t="s",F.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(F.t="s",F.v=q.slice(2,-1).replace(/""/g,'"')):QTe(q)?(F.t="n",F.f=q.slice(1)):(F.t="s",F.v=q);else if(q=="TRUE")F.t="b",F.v=!0;else if(q=="FALSE")F.t="b",F.v=!1;else if(!isNaN(k=is(q)))F.t="n",g.cellText!==!1&&(F.w=q),F.v=k;else if(!isNaN(lf(q).getDate())||R&&q.match(R)){F.z=g.dateNF||pt[14];var Y=0;R&&q.match(R)&&(q=Twe(q,g.dateNF,q.match(R)||[]),Y=1),g.cellDates?(F.t="d",F.v=vr(q,Y)):(F.t="n",F.v=cn(vr(q,Y))),g.cellText!==!1&&(F.w=Bi(F.z,F.v instanceof Date?cn(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=q;if(F.t=="z"||(g.dense?(b[_]||(b[_]=[]),b[_][N]=F):b[gt({c:N,r:_})]=F),A=D+1,M=h.charCodeAt(A),y.e.c<N&&(y.e.c=N),y.e.r<_&&(y.e.r=_),I==j)++N;else if(N=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;D<h.length;++D)switch(I=h.charCodeAt(D)){case 34:M===34&&(O=!O);break;case j:case 10:case 13:if(!O&&z())break e;break}return D-A>0&&z(),b["!ref"]=wt(y),b}function s(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):Nf(t(h,m),m)}function o(h,m){var g="",x=m.type=="string"?[0,0,0,0]:BN(h,m);switch(m.type){case"base64":g=ii(h);break;case"binary":g=h;break;case"buffer":m.codepage==65001?g=h.toString("utf8"):m.codepage&&typeof Sh<"u"||(g=St&&Buffer.isBuffer(h)?h.toString("binary"):ql(h));break;case"array":g=su(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=ir(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=ir(g):m.type=="binary"&&typeof Sh<"u",g.slice(0,19)=="socialcalc:version:"?Cz.to_sheet(m.type=="string"?g:ir(g),m):s(g,m)}function u(h,m){return Wl(o(h,m),m)}function d(h){for(var m=[],g=Dt(h["!ref"]),x,b=Array.isArray(h),y=g.s.r;y<=g.e.r;++y){for(var _=[],N=g.s.c;N<=g.e.c;++N){var k=gt({r:y,c:N});if(x=b?(h[y]||[])[N]:h[k],!x||x.v==null){_.push("          ");continue}for(var A=(x.w||(Io(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";_.push(A+(N===0?" ":""))}m.push(_.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:d}})();function B2e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Nz.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return cf.to_workbook(e,t)}}var Gc=(function(){function e(L,J,U){if(L){zn(L,L.l||0);for(var B=U.Enum||ee;L.l<L.length;){var se=L.read_shift(2),fe=B[se]||B[65535],Te=L.read_shift(2),te=L.l+Te,ge=fe.f&&fe.f(L,Te,U);if(L.l=te,J(ge,fe,se))return}}}function t(L,J){switch(J.type){case"base64":return r(Ja(ii(L)),J);case"binary":return r(Ja(L),J);case"buffer":case"array":return r(L,J)}throw"Unsupported type "+J.type}function r(L,J){if(!L)return L;var U=J||{},B=U.dense?[]:{},se="Sheet1",fe="",Te=0,te={},ge=[],Se=[],G={s:{r:0,c:0},e:{r:0,c:0}},_e=U.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)U.Enum=ee,e(L,function(me,Re,je){switch(je){case 0:U.vers=me,me>=4096&&(U.qpro=!0);break;case 6:G=me;break;case 204:me&&(fe=me);break;case 222:fe=me;break;case 15:case 51:U.qpro||(me[1].v=me[1].v.slice(1));case 13:case 14:case 16:je==14&&(me[2]&112)==112&&(me[2]&15)>1&&(me[2]&15)<15&&(me[1].z=U.dateNF||pt[14],U.cellDates&&(me[1].t="d",me[1].v=wy(me[1].v))),U.qpro&&me[3]>Te&&(B["!ref"]=wt(G),te[se]=B,ge.push(se),B=U.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},Te=me[3],se=fe||"Sheet"+(Te+1),fe="");var We=U.dense?(B[me[0].r]||[])[me[0].c]:B[gt(me[0])];if(We){We.t=me[1].t,We.v=me[1].v,me[1].z!=null&&(We.z=me[1].z),me[1].f!=null&&(We.f=me[1].f);break}U.dense?(B[me[0].r]||(B[me[0].r]=[]),B[me[0].r][me[0].c]=me[1]):B[gt(me[0])]=me[1];break}},U);else if(L[2]==26||L[2]==14)U.Enum=H,L[2]==14&&(U.qpro=!0,L.l=0),e(L,function(me,Re,je){switch(je){case 204:se=me;break;case 22:me[1].v=me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(me[3]>Te&&(B["!ref"]=wt(G),te[se]=B,ge.push(se),B=U.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},Te=me[3],se="Sheet"+(Te+1)),_e>0&&me[0].r>=_e)break;U.dense?(B[me[0].r]||(B[me[0].r]=[]),B[me[0].r][me[0].c]=me[1]):B[gt(me[0])]=me[1],G.e.c<me[0].c&&(G.e.c=me[0].c),G.e.r<me[0].r&&(G.e.r=me[0].r);break;case 27:me[14e3]&&(Se[me[14e3][0]]=me[14e3][1]);break;case 1537:Se[me[0]]=me[1],me[0]==Te&&(se=me[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(B["!ref"]=wt(G),te[fe||se]=B,ge.push(fe||se),!Se.length)return{SheetNames:ge,Sheets:te};for(var ue={},be=[],Le=0;Le<Se.length;++Le)te[ge[Le]]?(be.push(Se[Le]||ge[Le]),ue[Se[Le]]=te[Se[Le]]||te[ge[Le]]):(be.push(Se[Le]),ue[Se[Le]]={"!ref":"A1"});return{SheetNames:be,Sheets:ue}}function n(L,J){var U=J||{};if(+U.codepage>=0&&Qi(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var B=Oa(),se=Dt(L["!ref"]),fe=Array.isArray(L),Te=[];Ye(B,0,i(1030)),Ye(B,6,u(se));for(var te=Math.min(se.e.r,8191),ge=se.s.r;ge<=te;++ge)for(var Se=$r(ge),G=se.s.c;G<=se.e.c;++G){ge===se.s.r&&(Te[G]=Nr(G));var _e=Te[G]+Se,ue=fe?(L[ge]||[])[G]:L[_e];if(!(!ue||ue.t=="z"))if(ue.t=="n")(ue.v|0)==ue.v&&ue.v>=-32768&&ue.v<=32767?Ye(B,13,x(ge,G,ue.v)):Ye(B,14,y(ge,G,ue.v));else{var be=Io(ue);Ye(B,15,m(ge,G,be.slice(0,239)))}}return Ye(B,1),B.end()}function a(L,J){var U=J||{};if(+U.codepage>=0&&Qi(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var B=Oa();Ye(B,0,s(L));for(var se=0,fe=0;se<L.SheetNames.length;++se)(L.Sheets[L.SheetNames[se]]||{})["!ref"]&&Ye(B,27,W(L.SheetNames[se],fe++));var Te=0;for(se=0;se<L.SheetNames.length;++se){var te=L.Sheets[L.SheetNames[se]];if(!(!te||!te["!ref"])){for(var ge=Dt(te["!ref"]),Se=Array.isArray(te),G=[],_e=Math.min(ge.e.r,8191),ue=ge.s.r;ue<=_e;++ue)for(var be=$r(ue),Le=ge.s.c;Le<=ge.e.c;++Le){ue===ge.s.r&&(G[Le]=Nr(Le));var me=G[Le]+be,Re=Se?(te[ue]||[])[Le]:te[me];if(!(!Re||Re.t=="z"))if(Re.t=="n")Ye(B,23,z(ue,Le,Te,Re.v));else{var je=Io(Re);Ye(B,22,I(ue,Le,Te,je.slice(0,239)))}}++Te}}return Ye(B,1),B.end()}function i(L){var J=De(2);return J.write_shift(2,L),J}function s(L){var J=De(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var U=0,B=0,se=0,fe=0;fe<L.SheetNames.length;++fe){var Te=L.SheetNames[fe],te=L.Sheets[Te];if(!(!te||!te["!ref"])){++se;var ge=Da(te["!ref"]);U<ge.e.r&&(U=ge.e.r),B<ge.e.c&&(B=ge.e.c)}}return U>8191&&(U=8191),J.write_shift(2,U),J.write_shift(1,se),J.write_shift(1,B),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function o(L,J,U){var B={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&U.qpro?(B.s.c=L.read_shift(1),L.l++,B.s.r=L.read_shift(2),B.e.c=L.read_shift(1),L.l++,B.e.r=L.read_shift(2),B):(B.s.c=L.read_shift(2),B.s.r=L.read_shift(2),J==12&&U.qpro&&(L.l+=2),B.e.c=L.read_shift(2),B.e.r=L.read_shift(2),J==12&&U.qpro&&(L.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function u(L){var J=De(8);return J.write_shift(2,L.s.c),J.write_shift(2,L.s.r),J.write_shift(2,L.e.c),J.write_shift(2,L.e.r),J}function d(L,J,U){var B=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(B[0].c=L.read_shift(1),B[3]=L.read_shift(1),B[0].r=L.read_shift(2),L.l+=2):(B[2]=L.read_shift(1),B[0].c=L.read_shift(2),B[0].r=L.read_shift(2)),B}function h(L,J,U){var B=L.l+J,se=d(L,J,U);if(se[1].t="s",U.vers==20768){L.l++;var fe=L.read_shift(1);return se[1].v=L.read_shift(fe,"utf8"),se}return U.qpro&&L.l++,se[1].v=L.read_shift(B-L.l,"cstr"),se}function m(L,J,U){var B=De(7+U.length);B.write_shift(1,255),B.write_shift(2,J),B.write_shift(2,L),B.write_shift(1,39);for(var se=0;se<B.length;++se){var fe=U.charCodeAt(se);B.write_shift(1,fe>=128?95:fe)}return B.write_shift(1,0),B}function g(L,J,U){var B=d(L,J,U);return B[1].v=L.read_shift(2,"i"),B}function x(L,J,U){var B=De(7);return B.write_shift(1,255),B.write_shift(2,J),B.write_shift(2,L),B.write_shift(2,U,"i"),B}function b(L,J,U){var B=d(L,J,U);return B[1].v=L.read_shift(8,"f"),B}function y(L,J,U){var B=De(13);return B.write_shift(1,255),B.write_shift(2,J),B.write_shift(2,L),B.write_shift(8,U,"f"),B}function _(L,J,U){var B=L.l+J,se=d(L,J,U);if(se[1].v=L.read_shift(8,"f"),U.qpro)L.l=B;else{var fe=L.read_shift(2);D(L.slice(L.l,L.l+fe),se),L.l+=fe}return se}function N(L,J,U){var B=J&32768;return J&=-32769,J=(B?L:0)+(J>=8192?J-16384:J),(B?"":"$")+(U?Nr(J):$r(J))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(L,J){zn(L,0);for(var U=[],B=0,se="",fe="",Te="",te="";L.l<L.length;){var ge=L[L.l++];switch(ge){case 0:U.push(L.read_shift(8,"f"));break;case 1:fe=N(J[0].c,L.read_shift(2),!0),se=N(J[0].r,L.read_shift(2),!1),U.push(fe+se);break;case 2:{var Se=N(J[0].c,L.read_shift(2),!0),G=N(J[0].r,L.read_shift(2),!1);fe=N(J[0].c,L.read_shift(2),!0),se=N(J[0].r,L.read_shift(2),!1),U.push(Se+G+":"+fe+se)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(L.read_shift(2));break;case 6:{for(var _e="";ge=L[L.l++];)_e+=String.fromCharCode(ge);U.push('"'+_e.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:te=U.pop(),Te=U.pop(),U.push(["AND","OR"][ge-20]+"("+Te+","+te+")");break;default:if(ge<32&&A[ge])te=U.pop(),Te=U.pop(),U.push(Te+A[ge]+te);else if(k[ge]){if(B=k[ge][1],B==69&&(B=L[L.l++]),B>U.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+U.join("|")+"|");return}var ue=U.slice(-B);U.length-=B,U.push(k[ge][0]+"("+ue.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}U.length==1?J[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(L){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=L.read_shift(2),J[3]=L[L.l++],J[0].c=L[L.l++],J}function O(L,J){var U=j(L);return U[1].t="s",U[1].v=L.read_shift(J-4,"cstr"),U}function I(L,J,U,B){var se=De(6+B.length);se.write_shift(2,L),se.write_shift(1,U),se.write_shift(1,J),se.write_shift(1,39);for(var fe=0;fe<B.length;++fe){var Te=B.charCodeAt(fe);se.write_shift(1,Te>=128?95:Te)}return se.write_shift(1,0),se}function M(L,J){var U=j(L);U[1].v=L.read_shift(2);var B=U[1].v>>1;if(U[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return U[1].v=B,U}function R(L,J){var U=j(L),B=L.read_shift(4),se=L.read_shift(4),fe=L.read_shift(2);if(fe==65535)return B===0&&se===3221225472?(U[1].t="e",U[1].v=15):B===0&&se===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var Te=fe&32768;return fe=(fe&32767)-16446,U[1].v=(1-Te*2)*(se*Math.pow(2,fe+32)+B*Math.pow(2,fe)),U}function z(L,J,U,B){var se=De(14);if(se.write_shift(2,L),se.write_shift(1,U),se.write_shift(1,J),B==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var fe=0,Te=0,te=0,ge=0;return B<0&&(fe=1,B=-B),Te=Math.log2(B)|0,B/=Math.pow(2,Te-31),ge=B>>>0,(ge&2147483648)==0&&(B/=2,++Te,ge=B>>>0),B-=ge,ge|=2147483648,ge>>>=0,B*=Math.pow(2,32),te=B>>>0,se.write_shift(4,te),se.write_shift(4,ge),Te+=16383+(fe?32768:0),se.write_shift(2,Te),se}function q(L,J){var U=R(L);return L.l+=J-14,U}function F(L,J){var U=j(L),B=L.read_shift(4);return U[1].v=B>>6,U}function Y(L,J){var U=j(L),B=L.read_shift(8,"f");return U[1].v=B,U}function de(L,J){var U=Y(L);return L.l+=J-10,U}function ce(L,J){return L[L.l+J-1]==0?L.read_shift(J,"cstr"):""}function K(L,J){var U=L[L.l++];U>J-1&&(U=J-1);for(var B="";B.length<U;)B+=String.fromCharCode(L[L.l++]);return B}function ae(L,J,U){if(!(!U.qpro||J<21)){var B=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var se=L.read_shift(J-21,"cstr");return[B,se]}}function Z(L,J){for(var U={},B=L.l+J;L.l<B;){var se=L.read_shift(2);if(se==14e3){for(U[se]=[0,""],U[se][0]=L.read_shift(2);L[L.l];)U[se][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return U}function W(L,J){var U=De(5+L.length);U.write_shift(2,14e3),U.write_shift(2,J);for(var B=0;B<L.length;++B){var se=L.charCodeAt(B);U[U.l++]=se>127?95:se}return U[U.l++]=0,U}var ee={0:{n:"BOF",f:Xr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function U2e(e){var t={},r=e.match(ia),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=xt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=rN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var z2e=(function(){var e=Ah("t"),t=Ah("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Ot(s[1])},u=i.match(t);return u&&(o.s=U2e(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),$2e=(function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),V2e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,H2e=/<(?:\w+:)?r>/,G2e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function NN(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ot(ir(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ir(e),r&&(n.h=fN(n.t))):e.match(H2e)&&(n.r=ir(e),n.t=Ot(ir((e.replace(G2e,"").match(V2e)||[]).join("").replace(ia,""))),r&&(n.h=$2e(z2e(n.r)))),n):{t:""}}var q2e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,W2e=/<(?:\w+:)?(?:si|sstItem)>/g,K2e=/<\/(?:\w+:)?(?:si|sstItem)>/;function Y2e(e,t){var r=[],n="";if(!e)return r;var a=e.match(q2e);if(a){n=a[2].replace(W2e,"").split(K2e);for(var i=0;i!=n.length;++i){var s=NN(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=xt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var X2e=/^\s|\s$|[\t\n\r]/;function kz(e,t){if(!t.bookSST)return"";var r=[Vr];r[r.length]=Ke("sst",null,{xmlns:xu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(X2e)&&(i+=' xml:space="preserve"'),i+=">"+Qt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function J2e(e){return[e.read_shift(4),e.read_shift(4)]}function Z2e(e,t){var r=[],n=!1;return Vo(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Q2e(e,t){return t||(t=De(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var eSe=u_e;function tSe(e){var t=Oa();$e(t,159,Q2e(e));for(var r=0;r<e.length;++r)$e(t,19,eSe(e[r]));return $e(t,160),t.end()}function Iz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function vo(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function rSe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=vo(e,4),t.U=vo(e,4),t.W=vo(e,4),t}function nSe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function aSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(nSe(e));return t}function iSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function sSe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=vo(e,4),t.U=vo(e,4),t.W=vo(e,4),t}function oSe(e){var t=sSe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function jz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Rz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function lSe(e){var t=vo(e);switch(t.Minor){case 2:return[t.Minor,cSe(e)];case 3:return[t.Minor,uSe()];case 4:return[t.Minor,dSe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function cSe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=jz(e,r),a=Rz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function uSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function dSe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ia,function(i){var s=xt(i);switch(Ms(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function fSe(e,t){var r={},n=r.EncryptionVersionInfo=vo(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=jz(e,a),t-=a,r.EncryptionVerifier=Rz(e,t),r}function hSe(e){var t={},r=t.EncryptionVersionInfo=vo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function AN(e){var t=0,r,n=Iz(e),a=n.length+1,i,s,o,u,d;for(r=Ll(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=(t&16384)===0?0:1,u=t<<1&32767,d=o|u,t=d^s;return t^52811}var Oz=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],u=104,d=s.length-1;d>=0;--d)for(var h=s[d],m=0;m!=7;++m)h&64&&(o^=r[u]),h*=2,--u;return o};return function(s){for(var o=Iz(s),u=i(o),d=o.length,h=Ll(16),m=0;m!=16;++m)h[m]=0;var g,x,b;for((d&1)===1&&(g=u>>8,h[d]=a(e[0],g),--d,g=u&255,x=o[o.length-1],h[d]=a(x,g));d>0;)--d,g=u>>8,h[d]=a(o[d],g),--d,g=u&255,h[d]=a(o[d],g);for(d=15,b=15-o.length;b>0;)g=u>>8,h[d]=a(e[b],g),--d,--b,g=u&255,h[d]=a(o[d],g),--d,--b;return h}})(),mSe=function(e,t,r,n,a){a||(a=t),n||(n=Oz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},pSe=function(e){var t=0,r=Oz(e);return function(n){var a=mSe("",n,t,r);return t=a[1],a[0]}};function gSe(e,t,r,n){var a={key:Xr(e),verificationBytes:Xr(e)};return r.password&&(a.verifier=AN(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=pSe(r.password)),a}function xSe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=hSe(e):n.Data=fSe(e,t),n}function vSe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?xSe(e,t-2,n):gSe(e,r.biff>=8?t:t-2,r,n),n}var Dz=(function(){function e(a,i){switch(i.type){case"base64":return t(ii(a),i);case"binary":return t(a,i);case"buffer":return t(St&&Buffer.isBuffer(a)?a.toString("binary"):ql(a),i);case"array":return t(su(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,x=0,b,y=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var _=h.slice(x,g.lastIndex-b[0].length);if(_[0]==" "&&(_=_.slice(1)),++y,_.length){var N={v:_,t:"s"};Array.isArray(o)?o[m][y]=N:o[gt({r:m,c:y})]=N}break}x=g.lastIndex}y>d.e.c&&(d.e.c=y)}),o["!ref"]=wt(d),o}function r(a,i){return Wl(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Dt(a["!ref"]),o,u=Array.isArray(a),d=s.s.r;d<=s.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var m=gt({r:d,c:h});o=u?(a[d]||[])[h]:a[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Io(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function ySe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function jh(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function bSe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,u=0,d=a+i;switch(u=s/(d>1?2-d:d),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,u,d/2]}function wSe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,s[0]+=a,s[1]+=u;break;case 1:u=a*(2-o),s[0]+=u,s[1]+=a;break;case 2:u=a*(o-2),s[1]+=a,s[2]+=u;break;case 3:u=a*(4-o),s[1]+=u,s[2]+=a;break;case 4:u=a*(o-4),s[2]+=a,s[0]+=u;break;case 5:u=a*(6-o),s[2]+=u,s[0]+=a;break}for(var d=0;d!=3;++d)s[d]=Math.round(s[d]*255);return s}function ov(e,t){if(t===0)return e;var r=bSe(ySe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),jh(wSe(r))}var Mz=6,_Se=15,ESe=1,Zn=Mz;function Rh(e){return Math.floor((e+Math.round(128/Zn)/256)*Zn)}function Oh(e){return Math.floor((e-5)/Zn*100+.5)/100}function lv(e){return Math.round((e*Zn+5)/Zn*256)/256}function G_(e){return lv(Oh(Rh(e)))}function CN(e){var t=Math.abs(e-G_(e)),r=Zn;if(t>.005)for(Zn=ESe;Zn<_Se;++Zn)Math.abs(e-G_(e))<=t&&(t=Math.abs(e-G_(e)),r=Zn);Zn=r}function Fl(e){e.width?(e.wpx=Rh(e.width),e.wch=Oh(e.wpx),e.MDW=Zn):e.wpx?(e.wch=Oh(e.wpx),e.width=lv(e.wch),e.MDW=Zn):typeof e.wch=="number"&&(e.width=lv(e.wch),e.wpx=Rh(e.width),e.MDW=Zn),e.customWidth&&delete e.customWidth}var SSe=96,Pz=SSe;function Dh(e){return e*96/Pz}function uf(e){return e*Pz/96}var TSe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function NSe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(ia)||[]).forEach(function(s){var o=xt(s);switch(Ms(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=gr(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=gr(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function ASe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(ia)||[]).forEach(function(s){var o=xt(s);switch(Ms(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function CSe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(ia)||[]).forEach(function(s){var o=xt(s);switch(Ms(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=ir(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?gr(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?gr(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?gr(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?gr(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?gr(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?gr(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?gr(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=rN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=gr(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=Vc[a.color.index];a.color.index==81&&(u=Vc[1]),u||(u=Vc[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=ov(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function kSe(e,t,r){t.NumberFmt=[];for(var n=Lr(pt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=pt[n[a]];var i=e[0].match(ia);if(i)for(a=0;a<i.length;++a){var s=xt(i[a]);switch(Ms(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ot(ir(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}xo(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function ISe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ke("numFmt",null,{numFmtId:n,formatCode:Qt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var vg=["numFmtId","fillId","fontId","borderId","xfId"],yg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jSe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ia)||[]).forEach(function(i){var s=xt(i),o=0;switch(Ms(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<vg.length;++o)n[vg[o]]&&(n[vg[o]]=parseInt(n[vg[o]],10));for(o=0;o<yg.length;++o)n[yg[o]]&&(n[yg[o]]=gr(n[yg[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=gr(s.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function RSe(e){var t=[];return t[t.length]=Ke("cellXfs",null),e.forEach(function(r){t[t.length]=Ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var OSe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,d){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&kSe(m,h,d),(m=o.match(a))&&CSe(m,h,u,d),(m=o.match(n))&&ASe(m,h,u,d),(m=o.match(i))&&NSe(m,h,u,d),(m=o.match(r))&&jSe(m,h,d),h}})();function Lz(e,t){var r=[Vr,Ke("styleSheet",null,{xmlns:xu[0],"xmlns:vt":sn.vt})],n;return e.SSF&&(n=ISe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=RSe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function DSe(e,t){var r=e.read_shift(2),n=ta(e);return[r,n]}function MSe(e,t,r){r||(r=De(6+4*t.length)),r.write_shift(2,e),Sn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function PSe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=x_e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=g_e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ta(e),n}function LSe(e,t){t||(t=De(153)),t.write_shift(2,e.sz*20),v_e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),av(e.color,t);var n=0;return n=2,t.write_shift(1,n),Sn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var FSe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],q_,BSe=aa;function L3(e,t){t||(t=De(84)),q_||(q_=yy(FSe));var r=q_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(av({auto:1},t),av({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function USe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Fz(e,t,r){r||(r=De(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function j0(e,t){return t||(t=De(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var zSe=aa;function $Se(e,t){return t||(t=De(51)),t.write_shift(1,0),j0(null,t),j0(null,t),j0(null,t),j0(null,t),j0(null,t),t.length>t.l?t.slice(0,t.l):t}function VSe(e,t){return t||(t=De(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),nv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function HSe(e,t,r){var n=De(2052);return n.write_shift(4,e),nv(t,n),nv(r,n),n.length>n.l?n.slice(0,n.l):n}function GSe(e,t,r){var n={};n.NumberFmt=[];for(var a in pt)n.NumberFmt[a]=pt[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Vo(e,function(u,d,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],xo(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=ov(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(h),s=!0;break;case 38:i.pop(),s=!1;break;default:if(d.T>0)i.push(h);else if(d.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function qSe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&($e(e,615,ss(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&$e(e,44,MSe(a,t[a]))}),$e(e,616))}}function WSe(e){var t=1;$e(e,611,ss(t)),$e(e,43,LSe({sz:12,color:{theme:1},name:"Calibri",family:2})),$e(e,612)}function KSe(e){var t=2;$e(e,603,ss(t)),$e(e,45,L3({patternType:"none"})),$e(e,45,L3({patternType:"gray125"})),$e(e,604)}function YSe(e){var t=1;$e(e,613,ss(t)),$e(e,46,$Se()),$e(e,614)}function XSe(e){var t=1;$e(e,626,ss(t)),$e(e,47,Fz({numFmtId:0},65535)),$e(e,627)}function JSe(e,t){$e(e,617,ss(t.length)),t.forEach(function(r){$e(e,47,Fz(r,0))}),$e(e,618)}function ZSe(e){var t=1;$e(e,619,ss(t)),$e(e,48,VSe({xfId:0,name:"Normal"})),$e(e,620)}function QSe(e){var t=0;$e(e,505,ss(t)),$e(e,506)}function eTe(e){var t=0;$e(e,508,HSe(t,"TableStyleMedium9","PivotStyleMedium4")),$e(e,509)}function tTe(e,t){var r=Oa();return $e(r,278),qSe(r,e.SSF),WSe(r),KSe(r),YSe(r),XSe(r),JSe(r,t.cellXfs),ZSe(r),QSe(r),eTe(r),$e(r,279),r.end()}var rTe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nTe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ia)||[]).forEach(function(a){var i=xt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[rTe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function aTe(){}function iTe(){}var sTe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,oTe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,lTe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function cTe(e,t,r){t.themeElements={};var n;[["clrScheme",sTe,nTe],["fontScheme",oTe,aTe],["fmtScheme",lTe,iTe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var uTe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Bz(e,t){(!e||e.length===0)&&(e=kN());var r,n={};if(!(r=e.match(uTe)))throw new Error("themeElements not found in theme");return cTe(r[0],n,t),n.raw=e,n}function kN(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Vr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function dTe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=j7(i,{type:"array"})}catch{return}var o=Za(s,"theme/theme/theme1.xml",!0);if(o)return Bz(o,r)}}function fTe(e){return e.read_shift(4)}function hTe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=mTe(e,4);break;case 2:t.xclrValue=vz(e);break;case 3:t.xclrValue=fTe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function mTe(e,t){return aa(e,t)}function pTe(e,t){return aa(e,t)}function gTe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=hTe(e);break;case 6:n[1]=pTe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function xTe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(gTe(e,r-e.l));return{ixfe:n,ext:i}}function vTe(e,t){t.forEach(function(r){r[0]})}function yTe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ta(e)}}function bTe(e){var t=De(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Sn(e.name,t),t.slice(0,t.l)}function wTe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function _Te(e){var t=De(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function ETe(e,t){var r=De(8+2*t.length);return r.write_shift(4,e),Sn(t,r),r.slice(0,r.l)}function STe(e){return e.l+=4,e.read_shift(4)!=0}function TTe(e,t){var r=De(8);return r.write_shift(4,e),r.write_shift(4,1),r}function NTe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Vo(e,function(u,d,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:i.push(h),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!d.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function ATe(){var e=Oa();return $e(e,332),$e(e,334,ss(1)),$e(e,335,bTe({name:"XLDAPR",version:12e4,flags:3496657072})),$e(e,336),$e(e,339,ETe(1,"XLDAPR")),$e(e,52),$e(e,35,ss(514)),$e(e,4096,ss(0)),$e(e,4097,Ci(1)),$e(e,36),$e(e,53),$e(e,340),$e(e,337,TTe(1)),$e(e,51,_Te([[1,0]])),$e(e,338),$e(e,333),e.end()}function CTe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(ia,function(o){var u=xt(o);switch(Ms(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==u.name&&(s=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function Uz(){var e=[Vr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function kTe(e){var t=[];if(!e)return t;var r=1;return(e.match(ia)||[]).forEach(function(n){var a=xt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function ITe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=gt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function jTe(e,t,r){var n=[];return Vo(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function RTe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Vo(e,function(o,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function OTe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ld=1024;function zz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ke("xml",null,{"xmlns:v":qa.v,"xmlns:o":qa.o,"xmlns:x":qa.x,"xmlns:mv":qa.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ld<e*1e3;)Ld+=1e3;return t.forEach(function(i){var s=Ar(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Ke("v:fill",u,o),h={on:"t",obscured:"t"};++Ld,a=a.concat(["<v:shape"+Ch({id:"_x0000_s"+Ld,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Ke("v:shadow",null,h),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$n("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),$n("x:AutoFill","False"),$n("x:Row",String(s.r)),$n("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function F3(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Ar(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var u=Dt(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var d=wt(u);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var h={a:s.author,t:s.t,r:s.r,T:r};s.h&&(h.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}i.c.push(h)})}function DTe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=xt(o[0]),d={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=Ar(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&NN(m[1])||{r:"",t:"",h:""};d.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),d.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=g.h),n.push(d)}}}}),n}function $z(e){var t=[Vr,Ke("comments",null,{xmlns:xu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Qt(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(Qt(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push($n("t",Qt(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push($n("t",Qt(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function MTe(e,t){var r=[],n=!1,a={},i=0;return e.replace(ia,function(o,u){var d=xt(o);switch(Ms(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+o.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),r}function PTe(e,t,r){var n=[Vr,Ke("ThreadedComments",null,{xmlns:sn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Ke("threadedComment",$n("text",s.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function LTe(e,t){var r=[],n=!1;return e.replace(ia,function(i){var s=xt(i);switch(Ms(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function FTe(e){var t=[Vr,Ke("personList",null,{xmlns:sn.TCMNT,"xmlns:x":xu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function BTe(e){var t={};t.iauthor=e.read_shift(4);var r=wu(e);return t.rfx=r.s,t.ref=gt(r.s),e.l+=16,t}function UTe(e,t){return t==null&&(t=De(36)),t.write_shift(4,e[1].iauthor),Af(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var zTe=ta;function $Te(e){return Sn(e.slice(0,54))}function VTe(e,t){var r=[],n=[],a={},i=!1;return Vo(e,function(o,u,d){switch(d){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function HTe(e){var t=Oa(),r=[];return $e(t,628),$e(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),$e(t,632,$Te(a.a)))})}),$e(t,631),$e(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Ar(n[0]),e:Ar(n[0])};$e(t,635,UTe([i,a])),a.t&&a.t.length>0&&$e(t,637,f_e(a)),$e(t,636),delete a.iauthor})}),$e(t,634),$e(t,629),t.end()}var GTe="application/vnd.ms-office.vbaProject";function qTe(e){var t=ct.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ct.utils.cfb_add(t,a,e.FileIndex[n].content)}}),ct.write(t)}function WTe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ct.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Vz=["xlsb","xlsm","xlam","biff8","xla"];function KTe(){return{"!type":"dialog"}}function YTe(){return{"!type":"dialog"}}function XTe(){return{"!type":"macro"}}function JTe(){return{"!type":"macro"}}var qd=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=t.c:--h,u?d+=t.r:--d,a+(o?"":"$")+Nr(h)+(u?"":"$")+$r(d)}return function(a,i){return t=i,a.replace(e,r)}})(),IN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jN=(function(){return function(t,r){return t.replace(IN,function(n,a,i,s,o,u){var d=xN(s)-(i?0:r.c),h=gN(u)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",g=d==0?"":i?d+1:"["+d+"]";return a+"R"+m+"C"+g})}})();function Hz(e,t){return e.replace(IN,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Nr(xN(i)+t.c))+(s=="$"?s+o:$r(gN(o)+t.r))})}function ZTe(e,t,r){var n=Da(t),a=n.s,i=Ar(r),s={r:i.r-a.r,c:i.c-a.c};return Hz(e,s)}function QTe(e){return e.length!=1}function B3(e){return e.replace(/_xlfn\./g,"")}function Kr(e){e.l+=1}function Bl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Gz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return qz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Bl(e),o=Bl(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function qz(e){var t=Bl(e),r=Bl(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function eNe(e,t,r){if(r.biff<8)return qz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Bl(e),s=Bl(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Wz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return tNe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Bl(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function tNe(e){var t=Bl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function rNe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function nNe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return aNe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function aNe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function iNe(e,t,r){var n=(e[e.l++]&96)>>5,a=Gz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function sNe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Gz(e,i,r);return[n,a,s]}function oNe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function lNe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function cNe(e,t,r){var n=(e[e.l++]&96)>>5,a=eNe(e,t-1,r);return[n,a]}function uNe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function U3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function dNe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function fNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mNe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function pNe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Kz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function gNe(e){return e.read_shift(2),Kz(e)}function xNe(e){return e.read_shift(2),Kz(e)}function vNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Wz(e,0,r);return[n,a]}function yNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=nNe(e,0,r);return[n,a]}function bNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Wz(e,0,r);return[n,a,i]}function wNe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[SAe[a],Jz[a],n]}function _Ne(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ENe(e);return[a,(i[0]===0?Jz:EAe)[i[1]]]}function ENe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function SNe(e,t,r){e.l+=r&&r.biff==2?3:4}function TNe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function NNe(e){return e.l++,Ho[e.read_shift(1)]}function ANe(e){return e.l++,e.read_shift(2)}function CNe(e){return e.l++,e.read_shift(1)!==0}function kNe(e){return e.l++,Qn(e)}function INe(e,t,r){return e.l++,xm(e,t-1,r)}function jNe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ur(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ho[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Qn(e);break;case 2:r[1]=_u(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function RNe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?wu:_y)(e));return a}function ONe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=jNe(e,r.biff);return s}function DNe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function MNe(e,t,r){if(r.biff==5)return PNe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function PNe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function LNe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function FNe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function BNe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function UNe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var zNe=aa,$Ne=aa,VNe=aa;function ym(e,t,r){return e.l+=2,[rNe(e)]}function RN(e){return e.l+=6,[]}var HNe=ym,GNe=RN,qNe=RN,WNe=ym;function Yz(e){return e.l+=2,[Xr(e),e.read_shift(2)&1]}var KNe=ym,YNe=Yz,XNe=RN,JNe=ym,ZNe=ym,QNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eAe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=QNe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function tAe(e){return e.l+=2,[e.read_shift(4)]}function rAe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function nAe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function aAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function iAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function sAe(e){return e.l+=4,[0,0]}var z3={1:{n:"PtgExp",f:TNe},2:{n:"PtgTbl",f:VNe},3:{n:"PtgAdd",f:Kr},4:{n:"PtgSub",f:Kr},5:{n:"PtgMul",f:Kr},6:{n:"PtgDiv",f:Kr},7:{n:"PtgPower",f:Kr},8:{n:"PtgConcat",f:Kr},9:{n:"PtgLt",f:Kr},10:{n:"PtgLe",f:Kr},11:{n:"PtgEq",f:Kr},12:{n:"PtgGe",f:Kr},13:{n:"PtgGt",f:Kr},14:{n:"PtgNe",f:Kr},15:{n:"PtgIsect",f:Kr},16:{n:"PtgUnion",f:Kr},17:{n:"PtgRange",f:Kr},18:{n:"PtgUplus",f:Kr},19:{n:"PtgUminus",f:Kr},20:{n:"PtgPercent",f:Kr},21:{n:"PtgParen",f:Kr},22:{n:"PtgMissArg",f:Kr},23:{n:"PtgStr",f:INe},26:{n:"PtgSheet",f:rAe},27:{n:"PtgEndSheet",f:nAe},28:{n:"PtgErr",f:NNe},29:{n:"PtgBool",f:CNe},30:{n:"PtgInt",f:ANe},31:{n:"PtgNum",f:kNe},32:{n:"PtgArray",f:uNe},33:{n:"PtgFunc",f:wNe},34:{n:"PtgFuncVar",f:_Ne},35:{n:"PtgName",f:DNe},36:{n:"PtgRef",f:vNe},37:{n:"PtgArea",f:iNe},38:{n:"PtgMemArea",f:LNe},39:{n:"PtgMemErr",f:zNe},40:{n:"PtgMemNoMem",f:$Ne},41:{n:"PtgMemFunc",f:FNe},42:{n:"PtgRefErr",f:BNe},43:{n:"PtgAreaErr",f:oNe},44:{n:"PtgRefN",f:yNe},45:{n:"PtgAreaN",f:cNe},46:{n:"PtgMemAreaN",f:aAe},47:{n:"PtgMemNoMemN",f:iAe},57:{n:"PtgNameX",f:MNe},58:{n:"PtgRef3d",f:bNe},59:{n:"PtgArea3d",f:sNe},60:{n:"PtgRefErr3d",f:UNe},61:{n:"PtgAreaErr3d",f:lNe},255:{}},oAe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lAe={1:{n:"PtgElfLel",f:Yz},2:{n:"PtgElfRw",f:JNe},3:{n:"PtgElfCol",f:HNe},6:{n:"PtgElfRwV",f:ZNe},7:{n:"PtgElfColV",f:WNe},10:{n:"PtgElfRadical",f:KNe},11:{n:"PtgElfRadicalS",f:XNe},13:{n:"PtgElfColS",f:GNe},15:{n:"PtgElfColSV",f:qNe},16:{n:"PtgElfRadicalLel",f:YNe},25:{n:"PtgList",f:eAe},29:{n:"PtgSxName",f:tAe},255:{}},cAe={0:{n:"PtgAttrNoop",f:sAe},1:{n:"PtgAttrSemi",f:pNe},2:{n:"PtgAttrIf",f:hNe},4:{n:"PtgAttrChoose",f:dNe},8:{n:"PtgAttrGoto",f:fNe},16:{n:"PtgAttrSum",f:SNe},32:{n:"PtgAttrBaxcel",f:U3},33:{n:"PtgAttrBaxcel",f:U3},64:{n:"PtgAttrSpace",f:gNe},65:{n:"PtgAttrSpaceSemi",f:xNe},128:{n:"PtgAttrIfError",f:mNe},255:{}};function bm(e,t,r,n){if(n.biff<8)return aa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=ONe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=RNe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(aa(e,t)),i}function wm(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=z3[i]||z3[oAe[i]],(i===24||i===25)&&(a=(i===24?lAe:cAe)[e[e.l+1]]),!a||!a.f?aa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function uAe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var dAe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fAe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Xz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $3(e,t,r){var n=Xz(e,t,r);return n=="#REF"?n:fAe(n,r)}function Xn(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],u,d,h,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,_="",N=0,k=e[0].length;N<k;++N){var A=e[0][N];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),d=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:_=Dr(" ",e[0][y][1][1]);break;case 1:_=Dr("\r",e[0][y][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}d=d+_,y=-1}o.push(d+dAe[A[0]]+u);break;case"PtgIsect":u=o.pop(),d=o.pop(),o.push(d+" "+u);break;case"PtgUnion":u=o.pop(),d=o.pop(),o.push(d+","+u);break;case"PtgRange":u=o.pop(),d=o.pop(),o.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=W0(A[1][1],s,a),o.push(K0(h,i));break;case"PtgRefN":h=r?W0(A[1][1],r,a):A[1][1],o.push(K0(h,i));break;case"PtgRef3d":m=A[1][1],h=W0(A[1][2],s,a),b=$3(n,m,a),o.push(b+"!"+K0(h,i));break;case"PtgFunc":case"PtgFuncVar":var D=A[1][0],j=A[1][1];D||(D=0),D&=127;var O=D==0?[]:o.slice(-D);o.length-=D,j==="User"&&(j=O.shift()),o.push(j+"("+O.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":x=x3(A[1][1],r?{s:r}:s,a),o.push($_(x,a));break;case"PtgArea":x=x3(A[1][1],s,a),o.push($_(x,a));break;case"PtgArea3d":m=A[1][1],x=A[1][2],b=$3(n,m,a),o.push(b+"!"+$_(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var I=(n.names||[])[g-1]||(n[0]||[])[g],M=I?I.Name:"SH33TJSNAME"+String(g);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var R=A[1][1];g=A[1][2];var z;if(a.biff<=5)R<0&&(R=-R),n[R]&&(z=n[R][g]);else{var q="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][g]&&n[R][g].itab>0&&(q=n.SheetNames[n[R][g].itab-1]+"!"):q=n.SheetNames[g-1]+"!"),n[R]&&n[R][g])q+=n[R][g].Name;else if(n[0]&&n[0][g])q+=n[0][g].Name;else{var F=(Xz(n,R,a)||"").split(";;");F[g-1]?q=F[g-1]:q+="SH33TJSERRX"}o.push(q);break}z||(z={Name:"SH33TJSERRY"}),o.push(z.Name);break;case"PtgParen":var Y="(",de=")";if(y>=0){switch(_="",e[0][y][1][0]){case 2:Y=Dr(" ",e[0][y][1][1])+Y;break;case 3:Y=Dr("\r",e[0][y][1][1])+Y;break;case 4:de=Dr(" ",e[0][y][1][1])+de;break;case 5:de=Dr("\r",e[0][y][1][1])+de;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(Y+o.pop()+de);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var ce={c:r.c,r:r.r};if(n.sharedf[gt(h)]){var K=n.sharedf[gt(h)];o.push(Xn(K,s,ce,n,a))}else{var ae=!1;for(u=0;u!=n.arrayf.length;++u)if(d=n.arrayf[u],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){o.push(Xn(d[1],s,ce,n,a)),ae=!0;break}ae||o.push(A[1])}break;case"PtgArray":o.push("{"+uAe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&Z.indexOf(e[0][N][0])==-1){A=e[0][y];var W=!0;switch(A[1][0]){case 4:W=!1;case 0:_=Dr(" ",A[1][1]);break;case 5:W=!1;case 1:_=Dr("\r",A[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((W?_:"")+o.pop()+(W?"":_)),y=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function hAe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],aa(e,t-2)];var o=wm(e,s,r);return t!==s+a&&(i=bm(e,t-s-a,o,r)),e.l=n,[o,i]}function mAe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],aa(e,t-2)];var o=wm(e,s,r);return t!==s+a&&(i=bm(e,t-s-a,o,r)),e.l=n,[o,i]}function pAe(e,t,r,n){var a=e.l+t,i=wm(e,n,r),s;return a!==e.l&&(s=bm(e,a-e.l,i,r)),[i,s]}function gAe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=wm(e,i,r);return i==65535?[[],aa(e,t-2)]:(t!==i+2&&(a=bm(e,n-i-2,s,r)),[s,a])}function xAe(e){var t;if(fo(e,e.l+6)!==65535)return[Qn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function vAe(e){if(e==null){var t=De(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ou(e);return ou(0)}function W_(e,t,r){var n=e.l+t,a=Ps(e);r.biff==2&&++e.l;var i=xAe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=mAe(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function yAe(e,t,r,n,a){var i=cu(t,r,a),s=vAe(e.v),o=De(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var d=De(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=En([i,s,o,d]);return m}function Ey(e,t,r){var n=e.read_shift(4),a=wm(e,n,r),i=e.read_shift(4),s=i>0?bm(e,i,a,r):null;return[a,s]}var bAe=Ey,Sy=Ey,wAe=Ey,_Ae=Ey,EAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Jz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},SAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function V3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function TAe(e){var t="of:="+e.replace(IN,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function K_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function NAe(e){return e.replace(/\./,"!")}var X0={},Wd={},J0=typeof Map<"u";function ON(e,t,r){var n=0,a=e.length;if(r){if(J0?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=J0?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(J0?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Ty(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Zn=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Oh(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=lv(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function qc(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Kl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){xo(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Zz(e,t,r,n,a,i){try{n.cellNF&&(e.z=pt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=vr(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(pt[t]==null&&xo(Ewe[t]||"General",t),e.t==="e")e.w=e.w||Ho[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nh(e.v);else if(e.t==="d"){var s=cn(e.v);(s|0)===s?e.w=s.toString(10):e.w=Nh(s)}else{if(e.v===void 0)return"";e.w=iu(e.v,Wd)}else e.t==="d"?e.w=Bi(t,cn(e.v),Wd):e.w=Bi(t,e.v,Wd)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ov(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ov(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function AAe(e,t,r){if(e&&e["!ref"]){var n=Dt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function CAe(e,t){var r=Dt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=wt(r))}var kAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,IAe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jAe=/<(?:\w:)?hyperlink [^>]*>/mg,RAe=/"(\w*:\w*)"/,OAe=/<(?:\w:)?col\b[^>]*[\/]?>/g,DAe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,MAe=/<(?:\w:)?pageMargins[^>]*\/>/g,Qz=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,PAe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,LAe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function FAe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",m=e.match(IAe);m?(d=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):d=h=e;var g=d.match(Qz);g?DN(g[0],o,a,r):(g=d.match(PAe))&&UAe(g[0],g[1]||"",o,a,r);var x=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=d.slice(x,x+50).match(RAe);b&&CAe(o,b[1])}var y=d.match(LAe);y&&y[1]&&QAe(y[1],a);var _=[];if(t.cellStyles){var N=d.match(OAe);N&&KAe(_,N)}m&&rCe(m[1],o,t,u,i,s);var k=h.match(DAe);k&&(o["!autofilter"]=XAe(k[0]));var A=[],D=h.match(kAe);if(D)for(x=0;x!=D.length;++x)A[x]=Dt(D[x].slice(D[x].indexOf('"')+1));var j=h.match(jAe);j&&GAe(o,j,n);var O=h.match(MAe);if(O&&(o["!margins"]=qAe(xt(O[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=wt(u)),t.sheetRows>0&&o["!ref"]){var I=Dt(o["!ref"]);t.sheetRows<=+I.e.r&&(I.e.r=t.sheetRows-1,I.e.r>u.e.r&&(I.e.r=u.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>u.e.c&&(I.e.c=u.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),o["!fullref"]=o["!ref"],o["!ref"]=wt(I))}return _.length>0&&(o["!cols"]=_),A.length>0&&(o["!merges"]=A),o}function BAe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+wt(e[r])+'"/>';return t+"</mergeCells>"}function DN(e,t,r,n){var a=xt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Ot(ir(a.codeName)))}function UAe(e,t,r,n,a){DN(e.slice(0,e.indexOf(">")),r,n,a)}function zAe(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,s.codeName=Ts(Qt(u))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Ke("outlinePr",null,d)}!i&&!o||(a[a.length]=Ke("sheetPr",o,s))}var $Ae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],VAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function HAe(e){var t={sheet:1};return $Ae.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),VAe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=AN(e.password).toString(16).toUpperCase()),Ke("sheetProtection",null,t)}function GAe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=xt(ir(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Ot(i.location))):(i.Target="#"+Ot(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Dt(i.ref),u=o.s.r;u<=o.e.r;++u)for(var d=o.s.c;d<=o.e.c;++d){var h=gt({c:d,r:u});n?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function qAe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function WAe(e){return qc(e),Ke("pageMargins",null,e)}function KAe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=xt(t[n],!0);a.hidden&&(a.hidden=gr(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,CN(a.width)),Fl(a);i<=s;)e[i++]=yr(a)}}function YAe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ke("col",null,Ty(a,n)));return r[r.length]="</cols>",r.join("")}function XAe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function JAe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:wt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Da(a);s.s.r==s.e.r&&(s.e.r=Da(t["!ref"]).e.r,a=wt(s));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ke("autoFilter",null,{ref:a})}var ZAe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function QAe(e,t){t.Views||(t.Views=[{}]),(e.match(ZAe)||[]).forEach(function(r,n){var a=xt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),gr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function eCe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,a),{})}function tCe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Ho[e.v];break;case"d":n&&n.cellDates?a=vr(e.v,-1).toISOString():(e=yr(e),e.t="n",a=""+(e.v=cn(vr(e.v)))),typeof e.z>"u"&&(e.z=pt[14]);break;default:a=e.v;break}var o=$n("v",Qt(a)),u={r:t},d=Kl(n.cellXfs,e,n);switch(d!==0&&(u.s=d),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=$n("v",""+ON(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ke("f",Qt(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Ke("c",o,u)}var rCe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Ah("v"),s=Ah("f");return function(u,d,h,m,g,x){for(var b=0,y="",_=[],N=[],k=0,A=0,D=0,j="",O,I,M=0,R=0,z,q,F=0,Y=0,de=Array.isArray(x.CellXf),ce,K=[],ae=[],Z=Array.isArray(d),W=[],ee={},H=!1,L=!!h.sheetStubs,J=u.split(t),U=0,B=J.length;U!=B;++U){y=J[U].trim();var se=y.length;if(se!==0){var fe=0;e:for(b=0;b<se;++b)switch(y[b]){case">":if(y[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(I=xt(y.slice(fe,b),!0),M=I.r!=null?parseInt(I.r,10):M+1,R=-1,h.sheetRows&&h.sheetRows<M)continue;ee={},H=!1,I.ht&&(H=!0,ee.hpt=parseFloat(I.ht),ee.hpx=uf(ee.hpt)),I.hidden=="1"&&(H=!0,ee.hidden=!0),I.outlineLevel!=null&&(H=!0,ee.level=+I.outlineLevel),H&&(W[M-1]=ee)}break;case"<":fe=b;break}if(fe>=b)break;if(I=xt(y.slice(fe,b),!0),M=I.r!=null?parseInt(I.r,10):M+1,R=-1,!(h.sheetRows&&h.sheetRows<M)){m.s.r>M-1&&(m.s.r=M-1),m.e.r<M-1&&(m.e.r=M-1),h&&h.cellStyles&&(ee={},H=!1,I.ht&&(H=!0,ee.hpt=parseFloat(I.ht),ee.hpx=uf(ee.hpt)),I.hidden=="1"&&(H=!0,ee.hidden=!0),I.outlineLevel!=null&&(H=!0,ee.level=+I.outlineLevel),H&&(W[M-1]=ee)),_=y.slice(b).split(e);for(var Te=0;Te!=_.length&&_[Te].trim().charAt(0)=="<";++Te);for(_=_.slice(Te),b=0;b!=_.length;++b)if(y=_[b].trim(),y.length!==0){if(N=y.match(r),k=b,A=0,D=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,N!=null&&N.length===2){for(k=0,j=N[1],A=0;A!=j.length&&!((D=j.charCodeAt(A)-64)<1||D>26);++A)k=26*k+D;--k,R=k}else++R;for(A=0;A!=y.length&&y.charCodeAt(A)!==62;++A);if(++A,I=xt(y.slice(0,A),!0),I.r||(I.r=gt({r:M-1,c:R})),j=y.slice(A),O={t:""},(N=j.match(i))!=null&&N[1]!==""&&(O.v=Ot(N[1])),h.cellFormula){if((N=j.match(s))!=null&&N[1]!==""){if(O.f=Ot(ir(N[1])).replace(/\r\n/g,`
`),h.xlfn||(O.f=B3(O.f)),N[0].indexOf('t="array"')>-1)O.F=(j.match(a)||[])[1],O.F.indexOf(":")>-1&&K.push([Dt(O.F),O.F]);else if(N[0].indexOf('t="shared"')>-1){q=xt(N[0]);var te=Ot(ir(N[1]));h.xlfn||(te=B3(te)),ae[parseInt(q.si,10)]=[q,te,I.r]}}else(N=j.match(/<f[^>]*\/>/))&&(q=xt(N[0]),ae[q.si]&&(O.f=ZTe(ae[q.si][1],ae[q.si][2],I.r)));var ge=Ar(I.r);for(A=0;A<K.length;++A)ge.r>=K[A][0].s.r&&ge.r<=K[A][0].e.r&&ge.c>=K[A][0].s.c&&ge.c<=K[A][0].e.c&&(O.F=K[A][1])}if(I.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(L)O.t="z";else continue;else O.t=I.t||"n";switch(m.s.c>R&&(m.s.c=R),m.e.c<R&&(m.e.c=R),O.t){case"n":if(O.v==""||O.v==null){if(!L)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!L)continue;O.t="z"}else z=X0[parseInt(O.v,10)],O.v=z.t,O.r=z.r,h.cellHTML&&(O.h=z.h);break;case"str":O.t="s",O.v=O.v!=null?ir(O.v):"",h.cellHTML&&(O.h=fN(O.v));break;case"inlineStr":N=j.match(n),O.t="s",N!=null&&(z=NN(N[1]))?(O.v=z.t,h.cellHTML&&(O.h=z.h)):O.v="";break;case"b":O.v=gr(O.v);break;case"d":h.cellDates?O.v=vr(O.v,1):(O.v=cn(vr(O.v,1)),O.t="n");break;case"e":(!h||h.cellText!==!1)&&(O.w=O.v),O.v=tz[O.v];break}if(F=Y=0,ce=null,de&&I.s!==void 0&&(ce=x.CellXf[I.s],ce!=null&&(ce.numFmtId!=null&&(F=ce.numFmtId),h.cellStyles&&ce.fillId!=null&&(Y=ce.fillId))),Zz(O,F,Y,h,g,x),h.cellDates&&de&&O.t=="n"&&Sf(pt[F])&&(O.t="d",O.v=wy(O.v)),I.cm&&h.xlmeta){var Se=(h.xlmeta.Cell||[])[+I.cm-1];Se&&Se.type=="XLDAPR"&&(O.D=!0)}if(Z){var G=Ar(I.r);d[G.r]||(d[G.r]=[]),d[G.r][G.c]=O}else d[I.r]=O}}}}W.length>0&&(d["!rows"]=W)}})();function nCe(e,t,r,n){var a=[],i=[],s=Dt(e["!ref"]),o="",u,d="",h=[],m=0,g=0,x=e["!rows"],b=Array.isArray(e),y={r:d},_,N=-1;for(g=s.s.c;g<=s.e.c;++g)h[g]=Nr(g);for(m=s.s.r;m<=s.e.r;++m){for(i=[],d=$r(m),g=s.s.c;g<=s.e.c;++g){u=h[g]+d;var k=b?(e[m]||[])[g]:e[u];k!==void 0&&(o=tCe(k,u,e,t))!=null&&i.push(o)}(i.length>0||x&&x[m])&&(y={r:d},x&&x[m]&&(_=x[m],_.hidden&&(y.hidden=1),N=-1,_.hpx?N=Dh(_.hpx):_.hpt&&(N=_.hpt),N>-1&&(y.ht=N,y.customHeight=1),_.level&&(y.outlineLevel=_.level)),a[a.length]=Ke("row",i.join(""),y))}if(x)for(;m<x.length;++m)x&&x[m]&&(y={r:m+1},_=x[m],_.hidden&&(y.hidden=1),N=-1,_.hpx?N=Dh(_.hpx):_.hpt&&(N=_.hpt),N>-1&&(y.ht=N,y.customHeight=1),_.level&&(y.outlineLevel=_.level),a[a.length]=Ke("row","",y));return a.join("")}function e9(e,t,r,n){var a=[Vr,Ke("worksheet",null,{xmlns:xu[0],"xmlns:r":sn.r})],i=r.SheetNames[e],s=0,o="",u=r.Sheets[i];u==null&&(u={});var d=u["!ref"]||"A1",h=Dt(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=wt(h)}n||(n={}),u["!comments"]=[];var m=[];zAe(u,r,e,t,a),a[a.length]=Ke("dimension",null,{ref:d}),a[a.length]=eCe(u,t,e,r),t.sheetFormat&&(a[a.length]=Ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=YAe(u,u["!cols"])),a[s=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=nCe(u,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),u["!protect"]&&(a[a.length]=HAe(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=JAe(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=BAe(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=Jt(n,-1,Qt(y[1].Target).replace(/#.*$/,""),Tt.HLINK),x["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(x.location=Qt(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=Qt(y[1].Tooltip)),a[a.length]=Ke("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=WAe(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=$n("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(b=Jt(n,-1,"../drawings/drawing"+(e+1)+".xml",Tt.DRAW),a[a.length]=Ke("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=Jt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tt.VML),a[a.length]=Ke("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function aCe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function iCe(e,t,r){var n=De(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Dh(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,g=-1,x=h<<10;x<h+1<<10;++x){d.c=x;var b=Array.isArray(r)?(r[d.r]||[])[d.c]:r[gt(d)];b&&(m<0&&(m=x),g=x)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var y=n.l;return n.l=u,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function sCe(e,t,r,n){var a=iCe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&$e(e,0,a)}var oCe=wu,lCe=Af;function cCe(){}function uCe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=h_e(e),r}function dCe(e,t,r){r==null&&(r=De(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return av({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),X7(e,r),r.slice(0,r.l)}function fCe(e){var t=zi(e);return[t]}function hCe(e,t,r){return r==null&&(r=De(8)),vu(t,r)}function mCe(e){var t=yu(e);return[t]}function pCe(e,t,r){return r==null&&(r=De(4)),bu(t,r)}function gCe(e){var t=zi(e),r=e.read_shift(1);return[t,r,"b"]}function xCe(e,t,r){return r==null&&(r=De(9)),vu(t,r),r.write_shift(1,e.v?1:0),r}function vCe(e){var t=yu(e),r=e.read_shift(1);return[t,r,"b"]}function yCe(e,t,r){return r==null&&(r=De(5)),bu(t,r),r.write_shift(1,e.v?1:0),r}function bCe(e){var t=zi(e),r=e.read_shift(1);return[t,r,"e"]}function wCe(e,t,r){return r==null&&(r=De(9)),vu(t,r),r.write_shift(1,e.v),r}function _Ce(e){var t=yu(e),r=e.read_shift(1);return[t,r,"e"]}function ECe(e,t,r){return r==null&&(r=De(8)),bu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function SCe(e){var t=zi(e),r=e.read_shift(4);return[t,r,"s"]}function TCe(e,t,r){return r==null&&(r=De(12)),vu(t,r),r.write_shift(4,t.v),r}function NCe(e){var t=yu(e),r=e.read_shift(4);return[t,r,"s"]}function ACe(e,t,r){return r==null&&(r=De(8)),bu(t,r),r.write_shift(4,t.v),r}function CCe(e){var t=zi(e),r=Qn(e);return[t,r,"n"]}function kCe(e,t,r){return r==null&&(r=De(16)),vu(t,r),ou(e.v,r),r}function t9(e){var t=yu(e),r=Qn(e);return[t,r,"n"]}function ICe(e,t,r){return r==null&&(r=De(12)),bu(t,r),ou(e.v,r),r}function jCe(e){var t=zi(e),r=wN(e);return[t,r,"n"]}function RCe(e,t,r){return r==null&&(r=De(12)),vu(t,r),J7(e.v,r),r}function OCe(e){var t=yu(e),r=wN(e);return[t,r,"n"]}function DCe(e,t,r){return r==null&&(r=De(8)),bu(t,r),J7(e.v,r),r}function MCe(e){var t=zi(e),r=vN(e);return[t,r,"is"]}function PCe(e){var t=zi(e),r=ta(e);return[t,r,"str"]}function LCe(e,t,r){return r==null&&(r=De(12+4*e.v.length)),vu(t,r),Sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function FCe(e){var t=yu(e),r=ta(e);return[t,r,"str"]}function BCe(e,t,r){return r==null&&(r=De(8+4*e.v.length)),bu(t,r),Sn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function UCe(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Sy(e,n-e.l,r);s[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return s}function zCe(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Sy(e,n-e.l,r);s[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return s}function $Ce(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var i=Qn(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Sy(e,n-e.l,r);s[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return s}function VCe(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var i=ta(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Sy(e,n-e.l,r);s[3]=Xn(o,null,a,r.supbooks,r)}else e.l=n;return s}var HCe=wu,GCe=Af;function qCe(e,t){return t==null&&(t=De(4)),t.write_shift(4,e),t}function WCe(e,t){var r=e.l+t,n=wu(e),a=yN(e),i=ta(e),s=ta(e),o=ta(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:o};return s&&(u.Tooltip=s),u}function KCe(e,t){var r=De(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Af({s:Ar(e[0]),e:Ar(e[0])},r),bN("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Sn(a||"",r),Sn(e[1].Tooltip||"",r),Sn("",r),r.slice(0,r.l)}function YCe(){}function XCe(e,t,r){var n=e.l+t,a=Z7(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=bAe(e,n-e.l,r);s[1]=o}else e.l=n;return s}function JCe(e,t,r){var n=e.l+t,a=wu(e),i=[a];if(r.cellFormula){var s=_Ae(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function ZCe(e,t,r){r==null&&(r=De(18));var n=Ty(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var r9=["left","right","top","bottom","header","footer"];function QCe(e){var t={};return r9.forEach(function(r){t[r]=Qn(e)}),t}function eke(e,t){return t==null&&(t=De(48)),qc(e),r9.forEach(function(r){ou(e[r],t)}),t}function tke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function rke(e,t,r){r==null&&(r=De(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function nke(e){var t=De(24);return t.write_shift(4,4),t.write_shift(4,1),Af(e,t),t}function ake(e,t){return t==null&&(t=De(66)),t.write_shift(2,e.password?AN(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function ike(){}function ske(){}function oke(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,y,_,N,k,A,D,j,O=[];o.biff=12,o["!row"]=0;var I=0,M=!1,R=[],z={},q=o.supbooks||a.supbooks||[[]];if(q.sharedf=z,q.arrayf=R,q.SheetNames=a.SheetNames||a.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=q,a.Names))for(var F=0;F<a.Names.length;++F)q[0][F+1]=a.Names[F];var Y=[],de=[],ce=!1;Mh[16]={n:"BrtShortReal",f:t9};var K;if(Vo(e,function(W,ee,H){if(!g)switch(H){case 148:d=W;break;case 0:x=W,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),D=$r(_=x.r),o["!row"]=x.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=uf(W.hpt)),de[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:W[2]},W[2]){case"n":b.v=W[1];break;case"s":A=X0[W[1]],b.v=A.t,b.r=A.r;break;case"b":b.v=!!W[1];break;case"e":b.v=W[1],o.cellText!==!1&&(b.w=Ho[b.v]);break;case"str":b.t="s",b.v=W[1];break;case"is":b.t="s",b.v=W[1].t;break}if((y=s.CellXf[W[0].iStyleRef])&&Zz(b,y.numFmtId,null,o,i,s),N=W[0].c==-1?N+1:W[0].c,o.dense?(u[_]||(u[_]=[]),u[_][N]=b):u[Nr(N)+D]=b,o.cellFormula){for(M=!1,I=0;I<R.length;++I){var L=R[I];x.r>=L[0].s.r&&x.r<=L[0].e.r&&N>=L[0].s.c&&N<=L[0].e.c&&(b.F=wt(L[0]),M=!0)}!M&&W.length>3&&(b.f=W[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),o.cellDates&&y&&b.t=="n"&&Sf(pt[y.numFmtId])){var J=jc(b.v);J&&(b.t="d",b.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;b={t:"z",v:void 0},N=W[0].c==-1?N+1:W[0].c,o.dense?(u[_]||(u[_]=[]),u[_][N]=b):u[Nr(N)+D]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),K&&(K.type=="XLDAPR"&&(b.D=!0),K=void 0);break;case 176:O.push(W);break;case 49:K=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var U=n["!id"][W.relId];for(U?(W.Target=U.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=U):W.relId==""&&(W.Target="#"+W.loc),_=W.rfx.s.r;_<=W.rfx.e.r;++_)for(N=W.rfx.s.c;N<=W.rfx.e.c;++N)o.dense?(u[_]||(u[_]=[]),u[_][N]||(u[_][N]={t:"z",v:void 0}),u[_][N].l=W):(k=gt({c:N,r:_}),u[k]||(u[k]={t:"z",v:void 0}),u[k].l=W);break;case 426:if(!o.cellFormula)break;R.push(W),j=o.dense?u[_][N]:u[Nr(N)+D],j.f=Xn(W[1],h,{r:x.r,c:N},q,o),j.F=wt(W[0]);break;case 427:if(!o.cellFormula)break;z[gt(W[0].s)]=W[1],j=o.dense?u[_][N]:u[Nr(N)+D],j.f=Xn(W[1],h,{r:x.r,c:N},q,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)Y[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},ce||(ce=!0,CN(W.w/256)),Fl(Y[W.e+1]);break;case 161:u["!autofilter"]={ref:wt(W)};break;case 476:u["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(u["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ee.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=wt(d||h)),o.sheetRows&&u["!ref"]){var ae=Dt(u["!ref"]);o.sheetRows<=+ae.e.r&&(ae.e.r=o.sheetRows-1,ae.e.r>h.e.r&&(ae.e.r=h.e.r),ae.e.r<ae.s.r&&(ae.s.r=ae.e.r),ae.e.c>h.e.c&&(ae.e.c=h.e.c),ae.e.c<ae.s.c&&(ae.s.c=ae.e.c),u["!fullref"]=u["!ref"],u["!ref"]=wt(ae))}return O.length>0&&(u["!merges"]=O),Y.length>0&&(u["!cols"]=Y),de.length>0&&(u["!rows"]=de),u}function lke(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=yr(t),t.z=t.z||pt[14],t.v=cn(vr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=Kl(a.cellXfs,t,a),t.l&&i["!links"].push([gt(u),t.l]),t.c&&i["!comments"].push([gt(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=ON(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,s?$e(e,18,ACe(t,u)):$e(e,7,TCe(t,u))):(u.t="str",s?$e(e,17,BCe(t,u)):$e(e,6,LCe(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?$e(e,13,DCe(t,u)):$e(e,2,RCe(t,u)):s?$e(e,16,ICe(t,u)):$e(e,5,kCe(t,u)),!0;case"b":return u.t="b",s?$e(e,15,yCe(t,u)):$e(e,4,xCe(t,u)),!0;case"e":return u.t="e",s?$e(e,14,ECe(t,u)):$e(e,3,wCe(t,u)),!0}return s?$e(e,12,pCe(t,u)):$e(e,1,hCe(t,u)),!0}function cke(e,t,r,n){var a=Dt(t["!ref"]||"A1"),i,s="",o=[];$e(e,145);var u=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=d;++h){s=$r(h),sCe(e,t,a,h);var m=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=Nr(g)),i=o[g]+s;var x=u?(t[h]||[])[g]:t[i];if(!x){m=!1;continue}m=lke(e,x,h,g,n,t,m)}}$e(e,146)}function uke(e,t){!t||!t["!merges"]||($e(e,177,qCe(t["!merges"].length)),t["!merges"].forEach(function(r){$e(e,176,GCe(r))}),$e(e,178))}function dke(e,t){!t||!t["!cols"]||($e(e,390),t["!cols"].forEach(function(r,n){r&&$e(e,60,ZCe(n,r))}),$e(e,391))}function fke(e,t){!t||!t["!ref"]||($e(e,648),$e(e,649,nke(Dt(t["!ref"]))),$e(e,650))}function hke(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Jt(r,-1,n[1].Target.replace(/#.*$/,""),Tt.HLINK);$e(e,494,KCe(n,a))}}),delete t["!links"]}function mke(e,t,r,n){if(t["!comments"].length>0){var a=Jt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tt.VML);$e(e,551,bN("rId"+a)),t["!legacy"]=a}}function pke(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:wt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Da(i);o.s.r==o.e.r&&(o.e.r=Da(t["!ref"]).e.r,i=wt(o));for(var u=0;u<s.length;++u){var d=s[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),$e(e,161,Af(Dt(i))),$e(e,162)}}function gke(e,t,r){$e(e,133),$e(e,137,rke(t,r)),$e(e,138),$e(e,134)}function xke(e,t){t["!protect"]&&$e(e,535,ake(t["!protect"]))}function vke(e,t,r,n){var a=Oa(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=Dt(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],$e(a,129),(r.vbaraw||s["!outline"])&&$e(a,147,dCe(o,s["!outline"])),$e(a,148,lCe(u)),gke(a,s,r.Workbook),dke(a,s),cke(a,s,e,t),xke(a,s),pke(a,s,r,e),uke(a,s),hke(a,s,n),s["!margins"]&&$e(a,476,eke(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&fke(a,s),mke(a,s,e,n),$e(a,130),a.end()}function yke(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Ot((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function bke(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,u=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=yke(m);h.s.r=h.s.c=0,h.e.c=o,d=Nr(o),g[0].forEach(function(x,b){s[d+$r(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(s["!ref"]=wt(h)),s}function wke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Qz);return o&&DN(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function _ke(e,t){e.l+=10;var r=ta(e);return{name:r}}function Eke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Vo(e,function(u,d,h){switch(h){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var MN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ske=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Tke=[],Nke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function H3(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=gr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function G3(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=gr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function n9(e){G3(e.WBProps,MN),G3(e.CalcPr,Nke),H3(e.WBView,Ske),H3(e.Sheets,Tke),Wd.date1904=gr(e.WBProps.date1904)}function Ake(e){return!e.Workbook||!e.Workbook.WBProps?"false":gr(e.Workbook.WBProps.date1904)?"true":"false"}var Cke="][*?/\\".split("");function a9(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Cke.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function kke(e,t,r){e.forEach(function(n,a){a9(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Ike(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];kke(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)AAe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var jke=/<\w+:workbook/;function Rke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(ia,function(u,d){var h=xt(u);switch(Ms(h[0])){case"<?xml":break;case"<workbook":u.match(jke)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":MN.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=gr(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=ir(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Ot(ir(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=ir(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),gr(h.hidden||"0")&&(i.Hidden=!0),s=d+u.length;break;case"</definedName>":i.Ref=Ot(ir(e.slice(s,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),xu.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return n9(r),r}function i9(e){var t=[Vr];t[t.length]=Ke("workbook",null,{xmlns:xu[0],"xmlns:r":sn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(MN.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ke("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Qt(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Ke("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=Ke("definedName",Qt(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Oke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=R2(e),r.name=ta(e),r}function Dke(e,t){return t||(t=De(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),bN(e.strRelID,t),Sn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Mke(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ta(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Pke(e,t){t||(t=De(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),X7(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Lke(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Fke(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=m_e(e),s=wAe(e,0,r),o=yN(e);e.l=n;var u={Name:i,Ptg:s};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function Bke(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Mh[16]={n:"BrtFRTArchID$",f:Lke},Vo(e,function(u,d,h){switch(h){case 156:s.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Xn(u.Ptg,null,null,s,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,u]):s[0]=[h,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),n9(r),r.Names=i,r.supbooks=s,r}function Uke(e,t){$e(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};$e(e,156,Dke(a))}$e(e,144)}function zke(e,t){t||(t=De(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Sn("SheetJS",t),Sn(Jx.version,t),Sn(Jx.version,t),Sn("7262",t),t.length>t.l?t.slice(0,t.l):t}function $ke(e,t){t||(t=De(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Vke(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||($e(e,135),$e(e,158,$ke(a)),$e(e,136))}}function Hke(e,t){var r=Oa();return $e(r,131),$e(r,128,zke()),$e(r,153,Pke(e.Workbook&&e.Workbook.WBProps||null)),Vke(r,e),Uke(r,e),$e(r,132),r.end()}function Gke(e,t,r){return t.slice(-4)===".bin"?Bke(e,r):Rke(e,r)}function qke(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?oke(e,n,r,a,i,s,o):FAe(e,n,r,a,i,s,o)}function Wke(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Eke(e,n,r,a,i):wke(e,n,r,a,i)}function Kke(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?XTe():JTe()}function Yke(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?KTe():YTe()}function Xke(e,t,r,n){return t.slice(-4)===".bin"?GSe(e,r,n):OSe(e,r,n)}function Jke(e,t,r){return Bz(e,r)}function Zke(e,t,r){return t.slice(-4)===".bin"?Z2e(e,r):Y2e(e,r)}function Qke(e,t,r){return t.slice(-4)===".bin"?VTe(e,r):DTe(e,r)}function eIe(e,t,r){return t.slice(-4)===".bin"?jTe(e):kTe(e)}function tIe(e,t,r,n){return r.slice(-4)===".bin"?RTe(e,t,r,n):void 0}function rIe(e,t,r){return t.slice(-4)===".bin"?NTe(e,t,r):CTe(e,t,r)}function nIe(e,t,r){return(t.slice(-4)===".bin"?Hke:i9)(e)}function aIe(e,t,r,n,a){return(t.slice(-4)===".bin"?vke:e9)(e,r,n,a)}function iIe(e,t,r){return(t.slice(-4)===".bin"?tTe:Lz)(e,r)}function sIe(e,t,r){return(t.slice(-4)===".bin"?tSe:kz)(e,r)}function oIe(e,t,r){return(t.slice(-4)===".bin"?HTe:$z)(e)}function lIe(e){return(e.slice(-4)===".bin"?ATe:Uz)()}var s9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,o9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(s9),i,s,o,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(o9),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function cIe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(s9),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(o9),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Z0;function uIe(e,t){var r=Z0[e]||Ot(e);return r==="General"?iu(t):Bi(r,t)}function dIe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=gr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=vr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ot(t)]=a}function fIe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Ho[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nh(e.v):e.w=iu(e.v):e.w=uIe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Z0[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Sf(n)){var a=jc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function hIe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=TSe[n.Pattern]||n.Pattern)}e[t.ID]=t}function mIe(e,t,r,n,a,i,s,o,u,d){var h="General",m=n.StyleID,g={};d=d||{};var x=[],b=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&s&&(m=s.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&x.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=gr(e);break;case"String":n.t="s",n.r=l3(Ot(e)),n.v=e.indexOf("<")>-1?Ot(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(vr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ot(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=tz[e],d.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=l3(t||e));break}if(fIe(n,h,d),d.cellFormula!==!1)if(n.Formula){var y=Ot(n.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),n.f=qd(y,a),delete n.Formula,n.ArrayRange=="RC"?n.F=qd("RC:RC",a):n.ArrayRange&&(n.F=qd(n.ArrayRange,a),u.push([Dt(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);d.cellStyles&&(x.forEach(function(_){!g.patternType&&_.patternType&&(g.patternType=_.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function pIe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Y_(e,t){var r=t||{};Tf();var n=F0(hN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ir(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=yr(r);return s.type="string",cf.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Re){a.indexOf("<"+Re)>=0&&(i=!0)}),i)return eje(n,r);Z0={"General Number":"General","General Date":pt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":pt[15],"Short Date":pt[14],"Long Time":pt[19],"Medium Time":pt[18],"Short Time":pt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:pt[2],Standard:pt[4],Percent:pt[10],Scientific:pt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],d,h={},m=[],g=r.dense?[]:{},x="",b={},y={},_=qi('<Data ss:Type="String">'),N=0,k=0,A=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},O={},I="",M=0,R=[],z={},q={},F=0,Y=[],de=[],ce={},K=[],ae,Z=!1,W=[],ee=[],H={},L=0,J=0,U={Sheets:[],WBProps:{date1904:!1}},B={};kh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";o=kh.exec(n);)switch(o[3]=(se=o[3]).toLowerCase()){case"data":if(se=="data"){if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?mIe(n.slice(N,o.index),I,_,u[u.length-1][0]=="comment"?ce:b,{c:k,r:A},j,K[k],y,W,r):(I="",_=qi(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(de.length>0&&(b.c=de),(!r.sheetRows||r.sheetRows>A)&&b.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][k]=b):g[Nr(k)+$r(A)]=b),b.HRef&&(b.l={Target:Ot(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(L=k+(parseInt(b.MergeAcross,10)|0),J=A+(parseInt(b.MergeDown,10)|0),R.push({s:{c:k,r:A},e:{c:L,r:J}})),!r.sheetStubs)b.MergeAcross?k=L+1:++k;else if(b.MergeAcross||b.MergeDown){for(var fe=k;fe<=L;++fe)for(var Te=A;Te<=J;++Te)(fe>k||Te>A)&&(r.dense?(g[Te]||(g[Te]=[]),g[Te][fe]={t:"z"}):g[Nr(fe)+$r(Te)]={t:"z"});k=L+1}else++k;else b=cIe(o[0]),b.Index&&(k=+b.Index-1),k<D.s.c&&(D.s.c=k),k>D.e.c&&(D.e.c=k),o[0].slice(-2)==="/>"&&++k,de=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<D.s.r&&(D.s.r=A),A>D.e.r&&(D.e.r=A),o[0].slice(-2)==="/>"&&(y=qi(o[0]),y.Index&&(A=+y.Index-1)),k=0,++A):(y=qi(o[0]),y.Index&&(A=+y.Index-1),H={},(y.AutoFitHeight=="0"||y.Height)&&(H.hpx=parseInt(y.Height,10),H.hpt=Dh(H.hpx),ee[A]=H),y.Hidden=="1"&&(H.hidden=!0,ee[A]=H));break;case"worksheet":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));m.push(x),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=wt(D),r.sheetRows&&r.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=r.sheetRows-1,g["!ref"]=wt(D))),R.length&&(g["!merges"]=R),K.length>0&&(g["!cols"]=K),ee.length>0&&(g["!rows"]=ee),h[x]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=k=0,u.push([o[3],!1]),d=qi(o[0]),x=Ot(d.Name),g=r.dense?[]:{},R=[],W=[],ee=[],B={name:x,Hidden:0},U.Sheets.push(B);break;case"table":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),K=[],Z=!1}break;case"style":o[1]==="/"?hIe(j,O,r):O=qi(o[0]);break;case"numberformat":O.nf=Ot(qi(o[0]).Format||"General"),Z0[O.nf]&&(O.nf=Z0[O.nf]);for(var te=0;te!=392&&pt[te]!=O.nf;++te);if(te==392){for(te=57;te!=392;++te)if(pt[te]==null){xo(O.nf,te);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(ae=qi(o[0]),ae.Hidden&&(ae.hidden=!0,delete ae.Hidden),ae.Width&&(ae.wpx=parseInt(ae.Width,10)),!Z&&ae.wpx>10){Z=!0,Zn=Mz;for(var ge=0;ge<K.length;++ge)K[ge]&&Fl(K[ge])}Z&&Fl(ae),K[ae.Index-1||K.length]=ae;for(var Se=0;Se<+ae.Span;++Se)K[K.length]=yr(ae);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var G=xt(o[0]),_e={Name:G.Name,Ref:qd(G.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(_e.Sheet=U.Sheets.length-1),U.Names.push(_e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?I+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=qi(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?B_e(z,se,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));pIe(ce),de.push(ce)}else u.push([o[3],!1]),d=qi(o[0]),ce={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ue=qi(o[0]);g["!autofilter"]={ref:qd(ue.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return X3(n,r);var be=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:be=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:be=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:be=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:be=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":B.Hidden=1;break;case"SheetVeryHidden":B.Hidden=2;break}else F=o.index+o[0].length;break;case"header":g["!margins"]||qc(g["!margins"]={},"xlml"),isNaN(+xt(o[0]).Margin)||(g["!margins"].header=+xt(o[0]).Margin);break;case"footer":g["!margins"]||qc(g["!margins"]={},"xlml"),isNaN(+xt(o[0]).Margin)||(g["!margins"].footer=+xt(o[0]).Margin);break;case"pagemargins":var Le=xt(o[0]);g["!margins"]||qc(g["!margins"]={},"xlml"),isNaN(+Le.Top)||(g["!margins"].top=+Le.Top),isNaN(+Le.Left)||(g["!margins"].left=+Le.Left),isNaN(+Le.Right)||(g["!margins"].right=+Le.Right),isNaN(+Le.Bottom)||(g["!margins"].bottom=+Le.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:be=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:be=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:be=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:be=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:be=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:be=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:be=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:be=!1}break;case"smarttags":break;default:be=!1;break}if(be||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?dIe(q,se,Y,n.slice(F,o.index)):(Y=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var me={};return!r.bookSheets&&!r.bookProps&&(me.Sheets=h),me.SheetNames=m,me.Workbook=U,me.SSF=yr(pt),me.Props=z,me.Custprops=q,me}function B2(e,t){switch(LN(t=t||{}),t.type||"base64"){case"base64":return Y_(ii(e),t);case"binary":case"buffer":case"file":return Y_(e,t);case"array":return Y_(ql(e),t)}}function gIe(e,t){var r=[];return e.Props&&r.push(U_e(e.Props,t)),e.Custprops&&r.push(z_e(e.Props,e.Custprops)),r.join("")}function xIe(){return""}function vIe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Ke("NumberFormat",null,{"ss:Format":Qt(pt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(Ke("Style",i.join(""),s))}),Ke("Styles",r.join(""))}function l9(e){return Ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+jN(e.Ref,{r:0,c:0})})}function yIe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(l9(a)))}return Ke("Names",r.join(""))}function bIe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(l9(o)))}return i.join("")}function wIe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ke("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ke("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push($n("ProtectContents","True")),e["!protect"].objects&&a.push($n("ProtectObjects","True")),e["!protect"].scenarios&&a.push($n("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push($n("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push($n("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":Ke("WorksheetOptions",a.join(""),{xmlns:qa.x})}function _Ie(e){return e.map(function(t){var r=Vwe(t.t||""),n=Ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",n,{"ss:Author":t.a})}).join("")}function EIe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Qt(jN(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var u=Ar(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Qt(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Qt(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],h=0;h!=d.length;++h)d[h].s.c!=s.c||d[h].s.r!=s.r||(d[h].e.c>d[h].s.c&&(o["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(o["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=Ho[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||pt[14]);break;case"s":m="String",g=$we(e.v||"");break}var x=Kl(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=s.c+1;var b=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=_Ie(e.c)),Ke("Cell",y,o)}function SIe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=uf(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function TIe(e,t,r,n){if(!e["!ref"])return"";var a=Dt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(_,N){Fl(_);var k=!!_.width,A=Ty(N,_),D={"ss:Index":N+1};k&&(D["ss:Width"]=Rh(A.width)),_.hidden&&(D["ss:Hidden"]="1"),o.push(Ke("Column",null,D))});for(var u=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var h=[SIe(d,(e["!rows"]||[])[d])],m=a.s.c;m<=a.e.c;++m){var g=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>m)&&!(i[s].s.r>d)&&!(i[s].e.c<m)&&!(i[s].e.r<d)){(i[s].s.c!=m||i[s].s.r!=d)&&(g=!0);break}if(!g){var x={r:d,c:m},b=gt(x),y=u?(e[d]||[])[m]:e[b];h.push(EIe(y,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function NIe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?bIe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?TIe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(wIe(i,t,e,r)),n.join("")}function AIe(e,t){t||(t={}),e.SSF||(e.SSF=yr(pt)),e.SSF&&(Tf(),vy(e.SSF),t.revssf=by(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(gIe(e,t)),r.push(xIe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ke("Worksheet",NIe(n,t,e),{"ss:Name":Qt(e.SheetNames[n])}));return r[2]=vIe(e,t),r[3]=yIe(e),Vr+Ke("Workbook",r.join(""),{xmlns:qa.ss,"xmlns:o":qa.o,"xmlns:x":qa.x,"xmlns:ss":qa.ss,"xmlns:dt":qa.dt,"xmlns:html":qa.html})}function CIe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=y_e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=b_e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var kIe=[60,1084,2066,2165,2175];function IIe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var u=fo(r,r.l),d=U2[u],h=0;d!=null&&kIe.indexOf(u)>-1;)i=fo(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+i),s.push(o),r.l+=4+i,d=U2[u=fo(r,r.l)];var m=En(s);zn(m,0);var g=0;m.lens=[];for(var x=0;x<s.length;++x)m.lens.push(g),g+=s[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function bs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=pt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Ho[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nh(e.v):e.w=iu(e.v):e.w=Bi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Sf(pt[n]||String(n))){var a=jc(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function bg(e,t,r){return{v:e,ixfe:t,t:r}}function jIe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,u=[],d="",h={},m,g="",x,b,y,_,N={},k=[],A,D,j=[],O=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},R=function(ft){return ft<8?Vc[ft]:ft<64&&O[ft-8]||Vc[ft]},z=function(ft,sr,Gn){var or=sr.XF.data;if(!(!or||!or.patternType||!Gn||!Gn.cellStyles)){sr.s={},sr.s.patternType=or.patternType;var Sr;(Sr=jh(R(or.icvFore)))&&(sr.s.fgColor={rgb:Sr}),(Sr=jh(R(or.icvBack)))&&(sr.s.bgColor={rgb:Sr})}},q=function(ft,sr,Gn){if(!(H>1)&&!(Gn.sheetRows&&ft.r>=Gn.sheetRows)){if(Gn.cellStyles&&sr.XF&&sr.XF.data&&z(ft,sr,Gn),delete sr.ixfe,delete sr.XF,m=ft,g=gt(ft),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<s.s.r&&(s.s.r=ft.r),ft.c<s.s.c&&(s.s.c=ft.c),ft.r+1>s.e.r&&(s.e.r=ft.r+1),ft.c+1>s.e.c&&(s.e.c=ft.c+1),Gn.cellFormula&&sr.f){for(var or=0;or<k.length;++or)if(!(k[or][0].s.c>ft.c||k[or][0].s.r>ft.r)&&!(k[or][0].e.c<ft.c||k[or][0].e.r<ft.r)){sr.F=wt(k[or][0]),(k[or][0].s.c!=ft.c||k[or][0].s.r!=ft.r)&&delete sr.f,sr.f&&(sr.f=""+Xn(k[or][1],s,ft,W,F));break}}Gn.dense?(a[ft.r]||(a[ft.r]=[]),a[ft.r][ft.c]=sr):a[g]=sr}},F={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var Y,de=[],ce=[],K=[],ae=[],Z=!1,W=[];W.SheetNames=F.snames,W.sharedf=F.sharedf,W.arrayf=F.arrayf,W.names=[],W.XTI=[];var ee=0,H=0,L=0,J=[],U=[],B;F.codepage=1200,Qi(1200);for(var se=!1;e.l<e.length-1;){var fe=e.l,Te=e.read_shift(2);if(Te===0&&ee===10)break;var te=e.l===e.length?0:e.read_shift(2),ge=U2[Te];if(ge&&ge.f){if(t.bookSheets&&ee===133&&Te!==133)break;if(ee=Te,ge.r===2||ge.r==12){var Se=e.read_shift(2);if(te-=2,!F.enc&&Se!==Te&&((Se&255)<<8|Se>>8)!==Te)throw new Error("rt mismatch: "+Se+"!="+Te);ge.r==12&&(e.l+=10,te-=10)}var G={};if(Te===10?G=ge.f(e,te,F):G=IIe(Te,ge,e,te,F),H==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(Te){case 34:r.opts.Date1904=I.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=G,!t.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=G;break;case 66:var _e=Number(G);switch(_e){case 21010:_e=1200;break;case 32768:_e=1e4;break;case 32769:_e=1252;break}Qi(F.codepage=_e),se=!0;break;case 317:F.rrtabid=G;break;case 25:F.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:F.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(a["!type"]="dialog"),G.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),G.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(G);break;case 430:W.push([G]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(G);break;case 24:case 536:B={Name:G.Name,Ref:Xn(G.rgce,s,null,W,F)},G.itab>0&&(B.Sheet=G.itab-1),W.names.push(B),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(U[G.itab-1]={ref:wt(G.rgce[0][0][1][2])});break;case 22:F.ExternCount=G;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(G),W.XTI=W.XTI.concat(G);break;case 2196:if(F.biff<8)break;B!=null&&(B.Comment=G[1]);break;case 18:a["!protect"]=G;break;case 19:G!==0&&F.WTF&&console.error("Password verifier: "+G);break;case 133:i[G.pos]=G,F.snames.push(G.name);break;case 10:{if(--H)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=wt(s),t.sheetRows&&t.sheetRows<=s.e.r){var ue=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=wt(s),s.e.r=ue}s.e.r++,s.e.c++}de.length>0&&(a["!merges"]=de),ce.length>0&&(a["!objects"]=ce),K.length>0&&(a["!cols"]=K),ae.length>0&&(a["!rows"]=ae),I.Sheets.push(M)}d===""?h=a:n[d]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[Te]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),F.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(F.biff=5,se=!0,Qi(F.codepage=28591)),F.biff==8&&G.BIFFVer==0&&G.dt==16&&(F.biff=2),H++)break;if(a=t.dense?[]:{},F.biff<8&&!se&&(se=!0,Qi(F.codepage=t.codepage||1252)),F.biff<5||G.BIFFVer==0&&G.dt==4096){d===""&&(d="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var be={pos:e.l-te,name:d};i[be.pos]=be,F.snames.push(d)}else d=(i[fe]||{name:""}).name;G.dt==32&&(a["!type"]="chart"),G.dt==64&&(a["!type"]="macro"),de=[],ce=[],F.arrayf=k=[],K=[],ae=[],Z=!1,M={Hidden:(i[fe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[G.r]||[])[G.c]:a[gt({c:G.c,r:G.r})])&&++G.c,A={ixfe:G.ixfe,XF:j[G.ixfe]||{},v:G.val,t:"n"},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t);break;case 5:case 517:A={ixfe:G.ixfe,XF:j[G.ixfe],v:G.val,t:G.t},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t);break;case 638:A={ixfe:G.ixfe,XF:j[G.ixfe],v:G.rknum,t:"n"},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t);break;case 189:for(var Le=G.c;Le<=G.C;++Le){var me=G.rkrec[Le-G.c][0];A={ixfe:me,XF:j[me],v:G.rkrec[Le-G.c][1],t:"n"},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:Le,r:G.r},A,t)}break;case 6:case 518:case 1030:{if(G.val=="String"){o=G;break}if(A=bg(G.val,G.cell.ixfe,G.tt),A.XF=j[A.ixfe],t.cellFormula){var Re=G.formula;if(Re&&Re[0]&&Re[0][0]&&Re[0][0][0]=="PtgExp"){var je=Re[0][0][1][0],We=Re[0][0][1][1],qe=gt({r:je,c:We});N[qe]?A.f=""+Xn(G.formula,s,G.cell,W,F):A.F=((t.dense?(a[je]||[])[We]:a[qe])||{}).F}else A.f=""+Xn(G.formula,s,G.cell,W,F)}L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q(G.cell,A,t),o=G}break;case 7:case 519:if(o)o.val=G,A=bg(G,o.cell.ixfe,"s"),A.XF=j[A.ixfe],t.cellFormula&&(A.f=""+Xn(o.formula,s,o.cell,W,F)),L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q(o.cell,A,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(G);var Oe=gt(G[0].s);if(x=t.dense?(a[G[0].s.r]||[])[G[0].s.c]:a[Oe],t.cellFormula&&x){if(!o||!Oe||!x)break;x.f=""+Xn(G[1],s,G[0],W,F),x.F=wt(G[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;N[gt(o.cell)]=G[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[gt(o.cell)],(x||{}).f=""+Xn(G[0],s,m,W,F)}}break;case 253:A=bg(u[G.isst].t,G.ixfe,"s"),u[G.isst].h&&(A.h=u[G.isst].h),A.XF=j[A.ixfe],L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:G.ixfe,XF:j[G.ixfe],t:"z"},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t));break;case 190:if(t.sheetStubs)for(var ut=G.c;ut<=G.C;++ut){var ot=G.ixfe[ut-G.c];A={ixfe:ot,XF:j[ot],t:"z"},L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:ut,r:G.r},A,t)}break;case 214:case 516:case 4:A=bg(G.val,G.ixfe,"s"),A.XF=j[A.ixfe],L>0&&(A.z=J[A.ixfe>>8&63]),bs(A,t,r.opts.Date1904),q({c:G.c,r:G.r},A,t);break;case 0:case 512:H===1&&(s=G);break;case 252:u=G;break;case 1054:if(F.biff==4){J[L++]=G[1];for(var Rt=0;Rt<L+163&&pt[Rt]!=G[1];++Rt);Rt>=163&&xo(G[1],L+163)}else xo(G[1],G[0]);break;case 30:{J[L++]=G;for(var pn=0;pn<L+163&&pt[pn]!=G;++pn);pn>=163&&xo(G,L+163)}break;case 229:de=de.concat(G);break;case 93:ce[G.cmo[0]]=F.lastobj=G;break;case 438:F.lastobj.TxO=G;break;case 127:F.lastobj.ImData=G;break;case 440:for(_=G[0].s.r;_<=G[0].e.r;++_)for(y=G[0].s.c;y<=G[0].e.c;++y)x=t.dense?(a[_]||[])[y]:a[gt({c:y,r:_})],x&&(x.l=G[1]);break;case 2048:for(_=G[0].s.r;_<=G[0].e.r;++_)for(y=G[0].s.c;y<=G[0].e.c;++y)x=t.dense?(a[_]||[])[y]:a[gt({c:y,r:_})],x&&x.l&&(x.l.Tooltip=G[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;x=t.dense?(a[G[0].r]||[])[G[0].c]:a[gt(G[0])];var kn=ce[G[2]];x||(t.dense?(a[G[0].r]||(a[G[0].r]=[]),x=a[G[0].r][G[0].c]={t:"z"}):x=a[gt(G[0])]={t:"z"},s.e.r=Math.max(s.e.r,G[0].r),s.s.r=Math.min(s.s.r,G[0].r),s.e.c=Math.max(s.e.c,G[0].c),s.s.c=Math.min(s.s.c,G[0].c)),x.c||(x.c=[]),b={a:G[1],t:kn.TxO.t},x.c.push(b)}break;case 2173:vTe(j[G.ixfe],G.ext);break;case 125:{if(!F.cellStyles)break;for(;G.e>=G.s;)K[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},Z||(Z=!0,CN(G.w/256)),Fl(K[G.e+1])}break;case 520:{var qt={};G.level!=null&&(ae[G.r]=qt,qt.level=G.level),G.hidden&&(ae[G.r]=qt,qt.hidden=!0),G.hpt&&(ae[G.r]=qt,qt.hpt=G.hpt,qt.hpx=uf(G.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||qc(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Te]]=G;break;case 161:a["!margins"]||qc(a["!margins"]={}),a["!margins"].header=G.header,a["!margins"].footer=G.footer;break;case 574:G.RTL&&(I.Views[0].RTL=!0);break;case 146:O=G;break;case 2198:Y=G;break;case 140:D=G;break;case 442:d?M.CodeName=G||M.name:I.WBProps.CodeName=G||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+Te.toString(16)),e.l+=te}return r.SheetNames=Lr(i).sort(function(kr,ft){return Number(kr)-Number(ft)}).map(function(kr){return i[kr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&U.forEach(function(kr,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=kr}),r.Strings=u,r.SSF=yr(pt),F.enc&&(r.Encryption=F.enc),Y&&(r.Themes=Y),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),W.names.length>0&&(I.Names=W.names),r.Workbook=I,r}var Q0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function RIe(e,t,r){var n=ct.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=N3(n,O2,Q0.DSI);for(var i in a)t[i]=a[i]}catch(d){if(r.WTF)throw d}var s=ct.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=N3(s,D2,Q0.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(oz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function OIe(e,t){var r=[],n=[],a=[],i=0,s,o=r3(O2,"n"),u=r3(D2,"n");if(e.Props)for(s=Lr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Lr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var d=[];for(i=0;i<a.length;++i)mz.indexOf(a[i][0])>-1||sz.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);n.length&&ct.utils.cfb_add(t,"/SummaryInformation",A3(n,Q0.SI,u,D2)),(r.length||d.length)&&ct.utils.cfb_add(t,"/DocumentSummaryInformation",A3(r,Q0.DSI,o,O2,d.length?d:null,Q0.UDI))}function c9(e,t){t||(t={}),LN(t),aN(),t.codepage&&nN(t.codepage);var r,n;if(e.FullPaths){if(ct.find(e,"/encryption"))throw new Error("File is password-protected");r=ct.find(e,"!CompObj"),n=ct.find(e,"/Workbook")||ct.find(e,"/Book")}else{switch(t.type){case"base64":e=Ja(ii(e));break;case"binary":e=Ja(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}zn(e,0),n={content:e}}var a,i;if(r&&CIe(r),t.bookProps&&!t.bookSheets)a={};else{var s=St?"buffer":"array";if(n&&n.content)a=jIe(n.content,t);else if((i=ct.find(e,"PerfectOffice_MAIN"))&&i.content)a=Gc.to_workbook(i.content,(t.type=s,t));else if((i=ct.find(e,"NativeContent_MAIN"))&&i.content)a=Gc.to_workbook(i.content,(t.type=s,t));else throw(i=ct.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ct.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=qTe(e))}var o={};return e.FullPaths&&RIe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function DIe(e,t){var r=t||{},n=ct.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ct.utils.cfb_add(n,a,u9(e,r)),r.biff==8&&(e.Props||e.Custprops)&&OIe(e,n),r.biff==8&&e.vbaraw&&WTe(n,ct.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Mh={0:{f:aCe},1:{f:fCe},2:{f:jCe},3:{f:bCe},4:{f:gCe},5:{f:CCe},6:{f:PCe},7:{f:SCe},8:{f:VCe},9:{f:$Ce},10:{f:UCe},11:{f:zCe},12:{f:mCe},13:{f:OCe},14:{f:_Ce},15:{f:vCe},16:{f:t9},17:{f:FCe},18:{f:NCe},19:{f:vN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Fke},40:{},42:{},43:{f:PSe},44:{f:DSe},45:{f:BSe},46:{f:zSe},47:{f:USe},48:{},49:{f:o_e},50:{},51:{f:wTe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tz},62:{f:MCe},63:{f:ITe},64:{f:ike},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:aa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:uCe},148:{f:oCe,p:16},151:{f:YCe},152:{},153:{f:Mke},154:{},155:{},156:{f:Oke},157:{},158:{},159:{T:1,f:J2e},160:{T:-1},161:{T:1,f:wu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:HCe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:yTe},336:{T:-1},337:{f:STe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:R2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Sz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XCe},427:{f:JCe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:QCe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cCe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:WCe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:R2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zTe},633:{T:1},634:{T:-1},635:{T:1,f:BTe},636:{T:-1},637:{f:d_e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_ke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ske},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},U2={6:{f:W_},10:{f:bl},12:{f:Xr},13:{f:Xr},14:{f:Ur},15:{f:Ur},16:{f:Qn},17:{f:Ur},18:{f:Ur},19:{f:Xr},20:{f:O3},21:{f:O3},23:{f:Sz},24:{f:M3},25:{f:Ur},26:{},27:{},28:{f:s2e},29:{},34:{f:Ur},35:{f:D3},38:{f:Qn},39:{f:Qn},40:{f:Qn},41:{f:Qn},42:{f:Ur},43:{f:Ur},47:{f:vSe},49:{f:OEe},51:{f:Xr},60:{},61:{f:CEe},64:{f:Ur},65:{f:REe},66:{f:Xr},77:{},80:{},81:{},82:{},85:{f:Xr},89:{},90:{},91:{},92:{f:xEe},93:{f:c2e},94:{},95:{f:Ur},96:{},97:{},99:{f:Ur},125:{f:Tz},128:{f:KEe},129:{f:yEe},130:{f:Xr},131:{f:Ur},132:{f:Ur},133:{f:bEe},134:{},140:{f:x2e},141:{f:Xr},144:{},146:{f:b2e},151:{},152:{},153:{},154:{},155:{},156:{f:Xr},157:{},158:{},160:{f:A2e},161:{f:E2e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:HEe},190:{f:GEe},193:{f:bl},197:{},198:{},199:{},200:{},201:{},202:{f:Ur},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xr},220:{},221:{f:Ur},222:{},224:{f:WEe},225:{f:gEe},226:{f:bl},227:{},229:{f:o2e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:_Ee},253:{f:MEe},255:{f:SEe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ur},353:{f:bl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:QEe},431:{f:Ur},432:{},433:{},434:{},437:{},438:{f:f2e},439:{f:Ur},440:{f:h2e},441:{},442:{f:vm},443:{},444:{f:Xr},445:{},446:{},448:{f:bl},449:{f:AEe,r:2},450:{f:bl},512:{f:I3},513:{f:N2e},515:{f:JEe},516:{f:LEe},517:{f:R3},519:{f:C2e},520:{f:TEe},523:{},545:{f:P3},549:{f:k3},566:{},574:{f:IEe},638:{f:VEe},659:{},1048:{},1054:{f:BEe},1084:{},1212:{f:n2e},2048:{f:p2e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:w2e,r:12},2173:{f:xTe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ur,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:r2e,r:12},2197:{},2198:{f:dTe,r:12},2199:{},2200:{},2201:{},2202:{f:a2e,r:12},2203:{f:bl},2204:{},2205:{},2206:{},2207:{},2211:{f:NEe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:S2e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:y2e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:I3},1:{},2:{f:O2e},3:{f:j2e},4:{f:I2e},5:{f:R3},7:{f:M2e},8:{},9:{f:xg},11:{},22:{f:Xr},30:{f:zEe},31:{},32:{},33:{f:P3},36:{},37:{f:k3},50:{f:P2e},62:{},52:{},67:{},68:{f:Xr},69:{},86:{},126:{},127:{f:k2e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:L2e},223:{},234:{},354:{},421:{},518:{f:W_},521:{f:xg},536:{f:M3},547:{f:D3},561:{},579:{},1030:{f:W_},1033:{f:xg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ye(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&pN(r)&&e.push(r)}}function MIe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ye(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,u=0,d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d;u<a;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d}}}function _m(e,t,r){return e||(e=De(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function PIe(e,t,r,n){var a=De(9);return _m(a,e,t),gz(r,n||"b",a),a}function LIe(e,t,r){var n=De(8+2*r.length);return _m(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function FIe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?cn(vr(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ye(e,2,D2e(r,n,a)):Ye(e,3,R2e(r,n,a));return;case"b":case"e":Ye(e,5,PIe(r,n,t.v,t.t));return;case"s":case"str":Ye(e,4,LIe(r,n,(t.v||"").slice(0,255)));return}Ye(e,1,_m(null,r,n))}function BIe(e,t,r,n){var a=Array.isArray(t),i=Dt(t["!ref"]||"A1"),s,o="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=wt(i)}for(var d=i.s.r;d<=i.e.r;++d){o=$r(d);for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(u[h]=Nr(h)),s=u[h]+o;var m=a?(t[d]||[])[h]:t[s];m&&FIe(e,m,d,h)}}}function UIe(e,t){for(var r=t||{},n=Oa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ye(n,r.biff==4?1033:r.biff==3?521:9,TN(e,16,r)),BIe(n,e.Sheets[e.SheetNames[a]],a,r),Ye(n,10),n.end()}function zIe(e,t,r){Ye(e,49,DEe({sz:12,name:"Arial"},r))}function $Ie(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ye(e,1054,UEe(a,t[a],r))})}function VIe(e,t){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ye(e,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),wz(Dt(t["!ref"]||"A1"),r),r.write_shift(4,4),Ye(e,2152,r)}function HIe(e,t){for(var r=0;r<16;++r)Ye(e,224,j3({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ye(e,224,j3(n,0,t))})}function GIe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ye(e,440,m2e(n)),n[1].Tooltip&&Ye(e,2048,g2e(n))}delete t["!links"]}function qIe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ye(e,125,_2e(Ty(a,n),a))})}}function WIe(e,t,r,n,a){var i=16+Kl(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ye(e,513,cu(r,n,i));return}if(t.bf)Ye(e,6,yAe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?cn(vr(t.v)):t.v;Ye(e,515,ZEe(r,n,s,i));break;case"b":case"e":Ye(e,517,XEe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=ON(a.Strings,t.v,a.revStrings);Ye(e,253,PEe(r,n,o,i))}else Ye(e,516,FEe(r,n,(t.v||"").slice(0,255),i,a));break;default:Ye(e,513,cu(r,n,i))}}function KIe(e,t,r){var n=Oa(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},u=Array.isArray(i),d=t.biff==8,h,m="",g=[],x=Dt(i["!ref"]||"A1"),b=d?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}Ye(n,2057,TN(r,16,t)),Ye(n,13,Ci(1)),Ye(n,12,Ci(100)),Ye(n,15,ca(!0)),Ye(n,17,ca(!1)),Ye(n,16,ou(.001)),Ye(n,95,ca(!0)),Ye(n,42,ca(!1)),Ye(n,43,ca(!1)),Ye(n,130,Ci(1)),Ye(n,128,YEe()),Ye(n,131,ca(!1)),Ye(n,132,ca(!1)),d&&qIe(n,i["!cols"]),Ye(n,512,$Ee(x,t)),d&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){m=$r(y);for(var _=x.s.c;_<=x.e.c;++_){y===x.s.r&&(g[_]=Nr(_)),h=g[_]+m;var N=u?(i[y]||[])[_]:i[h];N&&(WIe(n,N,y,_,t),d&&N.l&&i["!links"].push([h,N.l]))}}var k=o.CodeName||o.name||a;return d&&Ye(n,574,jEe((s.Views||[])[0])),d&&(i["!merges"]||[]).length&&Ye(n,229,l2e(i["!merges"])),d&&GIe(n,i),Ye(n,442,xz(k)),d&&VIe(n,i),Ye(n,10),n.end()}function YIe(e,t,r){var n=Oa(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(Ye(n,2057,TN(e,5,r)),r.bookType=="xla"&&Ye(n,135),Ye(n,225,o?Ci(1200):null),Ye(n,193,X_e(2)),u&&Ye(n,191),u&&Ye(n,192),Ye(n,226),Ye(n,92,vEe("SheetJS",r)),Ye(n,66,Ci(o?1200:1252)),o&&Ye(n,353,Ci(0)),o&&Ye(n,448),Ye(n,317,T2e(e.SheetNames.length)),o&&e.vbaraw&&Ye(n,211),o&&e.vbaraw){var d=s.CodeName||"ThisWorkbook";Ye(n,442,xz(d))}Ye(n,156,Ci(17)),Ye(n,25,ca(!1)),Ye(n,18,ca(!1)),Ye(n,19,Ci(0)),o&&Ye(n,431,ca(!1)),o&&Ye(n,444,Ci(0)),Ye(n,61,kEe()),Ye(n,64,ca(!1)),Ye(n,141,Ci(0)),Ye(n,34,ca(Ake(e)=="true")),Ye(n,14,ca(!0)),o&&Ye(n,439,ca(!1)),Ye(n,218,Ci(0)),zIe(n,e,r),$Ie(n,e.SSF,r),HIe(n,r),o&&Ye(n,352,ca(!1));var h=n.end(),m=Oa();o&&Ye(m,140,v2e()),o&&r.Strings&&MIe(m,252,EEe(r.Strings)),Ye(m,10);var g=m.end(),x=Oa(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var _=h.length+b+g.length;for(y=0;y<e.SheetNames.length;++y){var N=i[y]||{};Ye(x,133,wEe({pos:_,hs:N.Hidden||0,dt:0,name:e.SheetNames[y]},r)),_+=t[y].length}var k=x.end();if(b!=k.length)throw new Error("BS8 "+b+" != "+k.length);var A=[];return h.length&&A.push(h),k.length&&A.push(k),g.length&&A.push(g),En(A)}function XIe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=yr(pt)),e&&e.SSF&&(Tf(),vy(e.SSF),r.revssf=by(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,FN(r),r.cellXfs=[],Kl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=KIe(a,r,e);return n.unshift(YIe(e,n,r)),En(n)}function u9(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Da(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return XIe(e,t);case 4:case 3:case 2:return UIe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function q3(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,u=Dwe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,m=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(s=0;s<u.length;++s){var y=u[s].trim(),_=y.slice(0,3).toLowerCase();if(_=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}h=0;continue}if(!(_!="<td"&&_!="<th")){var N=y.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var k=N[o].trim();if(k.match(/<t[dh]/i)){for(var A=k,D=0;A.charAt(0)=="<"&&(D=A.indexOf(">"))>-1;)A=A.slice(D+1);for(var j=0;j<b.length;++j){var O=b[j];O.s.c==h&&O.s.r<d&&d<=O.e.r&&(h=O.e.c+1,j=-1)}var I=xt(k.slice(0,k.indexOf(">")));g=I.colspan?+I.colspan:1,((m=+I.rowspan)>1||g>1)&&b.push({s:{r:d,c:h},e:{r:d+(m||1)-1,c:h+g-1}});var M=I.t||I["data-t"]||"";if(!A.length){h+=g;continue}if(A=D7(A),x.s.r>d&&(x.s.r=d),x.e.r<d&&(x.e.r=d),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!A.length){h+=g;continue}var R={t:"s",v:A};r.raw||!A.trim().length||M=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(is(A))?isNaN(lf(A).getDate())||(R={t:"d",v:vr(A)},r.cellDates||(R={t:"n",v:cn(R.v)}),R.z=r.dateNF||pt[14]):R={t:"n",v:is(A)}),r.dense?(n[d]||(n[d]=[]),n[d][h]=R):n[gt({r:d,c:h})]=R,h+=g}}}}return n["!ref"]=wt(x),b.length&&(n["!merges"]=b),n}function JIe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,u=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>s)&&!(a[d].e.r<r||a[d].e.c<s)){if(a[d].s.r<r||a[d].s.c<s){o=-1;break}o=a[d].e.r-a[d].s.r+1,u=a[d].e.c-a[d].s.c+1;break}if(!(o<0)){var h=gt({r,c:s}),m=n.dense?(e[r]||[])[s]:e[h],g=m&&m.v!=null&&(m.h||fN(m.w||(Io(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(Ke("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var ZIe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',QIe="</body></html>";function eje(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Wl(q3(r[0],t),t);var n=$N();return r.forEach(function(a,i){VN(n,q3(a,t),"Sheet"+(i+1))}),n}function tje(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function d9(e,t){var r=t||{},n=r.header!=null?r.header:ZIe,a=r.footer!=null?r.footer:QIe,i=[n],s=Da(e["!ref"]);r.dense=Array.isArray(e),i.push(tje(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(JIe(e,s,o,r));return i.push("</table>"+a),i.join("")}function f9(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Ar(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Da(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),a==-1&&(d.e.r=a=h.e.r+1)}var m=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,y=0,_=0,N=0,k=0,A=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&y<u;++b){var D=o[b];if(W3(D)){if(n.display)continue;x[y]={hidden:!0}}var j=D.children;for(_=N=0;_<j.length;++_){var O=j[_];if(!(n.display&&W3(O))){var I=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):D7(O.innerHTML),M=O.getAttribute("data-z")||O.getAttribute("z");for(g=0;g<m.length;++g){var R=m[g];R.s.c==N+i&&R.s.r<y+a&&y+a<=R.e.r&&(N=R.e.c+1-i,g=-1)}A=+O.getAttribute("colspan")||1,((k=+O.getAttribute("rowspan")||1)>1||A>1)&&m.push({s:{r:y+a,c:N+i},e:{r:y+a+(k||1)-1,c:N+i+(A||1)-1}});var z={t:"s",v:I},q=O.getAttribute("data-t")||O.getAttribute("t")||"";I!=null&&(I.length==0?z.t=q||"z":n.raw||I.trim().length==0||q=="s"||(I==="TRUE"?z={t:"b",v:!0}:I==="FALSE"?z={t:"b",v:!1}:isNaN(is(I))?isNaN(lf(I).getDate())||(z={t:"d",v:vr(I)},n.cellDates||(z={t:"n",v:cn(z.v)}),z.z=n.dateNF||pt[14]):z={t:"n",v:is(I)})),z.z===void 0&&M!=null&&(z.z=M);var F="",Y=O.getElementsByTagName("A");if(Y&&Y.length)for(var de=0;de<Y.length&&!(Y[de].hasAttribute("href")&&(F=Y[de].getAttribute("href"),F.charAt(0)!="#"));++de);F&&F.charAt(0)!="#"&&(z.l={Target:F}),n.dense?(e[y+a]||(e[y+a]=[]),e[y+a][N+i]=z):e[gt({c:N+i,r:y+a})]=z,d.e.c<N+i&&(d.e.c=N+i),N+=A}}++y}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,y-1+a),e["!ref"]=wt(d),y>=u&&(e["!fullref"]=wt((d.e.r=o.length-b+y-1+a,d))),e}function h9(e,t){var r=t||{},n=r.dense?[]:{};return f9(n,e,t)}function rje(e,t){return Wl(h9(e,t),t)}function W3(e){var t="",r=nje(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function nje(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function aje(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ot(t.replace(/<[^>]*>/g,""));return[r]}var K3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function m9(e,t){var r=t||{},n=hN(e),a=[],i,s,o={name:""},u="",d=0,h,m,g={},x=[],b=r.dense?[]:{},y,_,N={value:""},k="",A=0,D=[],j=-1,O=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,R={},z=[],q={},F=0,Y=0,de=[],ce=1,K=1,ae=[],Z={Names:[]},W={},ee=["",""],H=[],L={},J="",U=0,B=!1,se=!1,fe=0;for(kh.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=kh.exec(n);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?b["!ref"]=wt(I):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=I.e.r&&(b["!fullref"]=b["!ref"],I.e.r=r.sheetRows-1,b["!ref"]=wt(I)),z.length&&(b["!merges"]=z),de.length&&(b["!rows"]=de),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,se=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=xt(y[0],!1),j=O=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,b=r.dense?[]:{},z=[],de=[],se=!0);break;case"table-row-group":y[1]==="/"?--M:++M;break;case"table-row":case"":if(y[1]==="/"){j+=ce,ce=1;break}if(m=xt(y[0],!1),m.?j=m.-1:j==-1&&(j=0),ce=+m["number-rows-repeated"]||1,ce<10)for(fe=0;fe<ce;++fe)M>0&&(de[j+fe]={level:M});O=-1;break;case"covered-table-cell":y[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(b[j]||(b[j]=[]),b[j][O]={t:"z"}):b[gt({r:j,c:O})]={t:"z"}),k="",D=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++O,N=xt(y[0],!1),K=parseInt(N["number-columns-repeated"]||"1",10),_={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(_.f=V3(Ot(N.formula))),(N.||N["value-type"])=="string"&&(_.t="s",_.v=Ot(N["string-value"]||""),r.dense?(b[j]||(b[j]=[]),b[j][O]=_):b[gt({r:j,c:O})]=_),O+=K-1;else if(y[1]!=="/"){++O,k="",A=0,D=[],K=1;var Te=ce?j+ce-1:j;if(O>I.e.c&&(I.e.c=O),O<I.s.c&&(I.s.c=O),j<I.s.r&&(I.s.r=j),Te>I.e.r&&(I.e.r=Te),N=xt(y[0],!1),H=[],L={},_={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=Ot(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(F=parseInt(N["number-matrix-rows-spanned"],10)||0,Y=parseInt(N["number-matrix-columns-spanned"],10)||0,q={s:{r:j,c:O},e:{r:j+F-1,c:O+Y-1}},_.F=wt(q),ae.push([q,_.F])),N.formula)_.f=V3(N.formula);else for(fe=0;fe<ae.length;++fe)j>=ae[fe][0].s.r&&j<=ae[fe][0].e.r&&O>=ae[fe][0].s.c&&O<=ae[fe][0].e.c&&(_.F=ae[fe][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(F=parseInt(N["number-rows-spanned"],10)||0,Y=parseInt(N["number-columns-spanned"],10)||0,q={s:{r:j,c:O},e:{r:j+F-1,c:O+Y-1}},z.push(q)),N["number-columns-repeated"]&&(K=parseInt(N["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=gr(N["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(N.value);break;case"percentage":_.t="n",_.v=parseFloat(N.value);break;case"currency":_.t="n",_.v=parseFloat(N.value);break;case"date":_.t="d",_.v=vr(N["date-value"]),r.cellDates||(_.t="n",_.v=cn(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=jwe(N["time-value"])/86400,r.cellDates&&(_.t="d",_.v=wy(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(N.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",N["string-value"]!=null&&(k=Ot(N["string-value"]),D=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(B=!1,_.t==="s"&&(_.v=k||"",D.length&&(_.R=D),B=A==0),W.Target&&(_.l=W),H.length>0&&(_.c=H,H=[]),k&&r.cellText!==!1&&(_.w=k),B&&(_.t="z",delete _.v),(!B||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var te=0;te<ce;++te){if(K=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(b[j+te]||(b[j+te]=[]),b[j+te][O]=te==0?_:yr(_);--K>0;)b[j+te][O+K]=yr(_);else for(b[gt({r:j+te,c:O})]=_;--K>0;)b[gt({r:j+te,c:O+K})]=yr(_);I.e.c<=O&&(I.e.c=O)}K=parseInt(N["number-columns-repeated"]||"1",10),O+=K-1,K=0,_={},k="",D=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i;L.t=k,D.length&&(L.R=D),L.a=J,H.push(L)}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);J="",U=0,k="",A=0,D=[];break;case"creator":y[1]==="/"?J=n.slice(U,y.index):U=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);k="",A=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(R[o.name]=u,(i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(u="",o=xt(y[0],!1),a.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=xt(y[0],!1),u+=K3[y[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=xt(y[0],!1),u+=K3[y[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(d,y.index);break}else d=y.index+y[0].length;break;case"named-range":s=xt(y[0],!1),ee=K_(s["cell-range-address"]);var ge={Name:s.name,Ref:ee[0]+"!"+ee[1]};se&&(ge.Sheet=x.length),Z.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(y[1]==="/"&&(!N||!N["string-value"])){var Se=aje(n.slice(A,y.index));k=(k.length>0?k+`
`:"")+Se[0]}else xt(y[0],!1),A=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{ee=K_(xt(y[0])["target-range-address"]),g[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(W=xt(y[0],!1),!W.href)break;W.Target=Ot(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(ee=K_(W.Target.slice(1)),W.Target="#"+ee[0]+"!"+ee[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(y)}}var G={Sheets:g,SheetNames:x,Workbook:Z};return r.bookSheets&&delete G.Sheets,G}function Y3(e,t){t=t||{},Ai(e,"META-INF/manifest.xml")&&j_e(Yr(e,"META-INF/manifest.xml"),t);var r=Za(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=m9(ir(r),t);return Ai(e,"meta.xml")&&(n.Props=az(Yr(e,"meta.xml"))),n}function X3(e,t){return m9(e,t)}var ije=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ch({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Vr+t}})(),J3=(function(){var e=function(i){return Qt(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var u=[];u.push('      <table:table table:name="'+Qt(s.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,h=0,m=Da(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",_=i["!rows"]||[];for(d=0;d<m.s.r;++d)y=_[d]?' table:style-name="ro'+_[d].ods+'"':"",u.push("        <table:table-row"+y+`></table:table-row>
`);for(;d<=m.e.r;++d){for(y=_[d]?' table:style-name="ro'+_[d].ods+'"':"",u.push("        <table:table-row"+y+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var N=!1,k={},A="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>d)&&!(g[x].e.c<h)&&!(g[x].e.r<d)){(g[x].s.c!=h||g[x].s.r!=d)&&(N=!0),k["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,k["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var D=gt({r:d,c:h}),j=b?(i[d]||[])[h]:i[D];if(j&&j.f&&(k["table:formula"]=Qt(TAe(j.f)),j.F&&j.F.slice(0,D.length)==D)){var O=Da(j.F);k["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,k["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!j){u.push(t);continue}switch(j.t){case"b":A=j.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=j.v?"true":"false";break;case"n":A=j.w||String(j.v||0),k["office:value-type"]="float",k["office:value"]=j.v||0;break;case"s":case"str":A=j.v==null?"":j.v,k["office:value-type"]="string";break;case"d":A=j.w||vr(j.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=vr(j.v).toISOString(),k["table:style-name"]="ce1";break;default:u.push(t);continue}var I=e(A);if(j.l&&j.l.Target){var M=j.l.Target;M=M.charAt(0)=="#"?"#"+NAe(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),I=Ke("text:a",I,{"xlink:href":M.replace(/&/g,"&amp;")})}u.push("          "+Ke("table:table-cell",Ke("text:p",I,{}),k)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;Fl(m),m.ods=o;var g=d["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=u;var m=d["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var u=[Vr],d=Ch({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Ch({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+d+h+`>
`),u.push(nz().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),a(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=s.SheetNames.length;++m)u.push(n(s.Sheets[s.SheetNames[m]],s,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function p9(e,t){if(t.bookType=="fods")return J3(e,t);var r=cN(),n="",a=[],i=[];return n="mimetype",Et(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Et(r,n,J3(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Et(r,n,ije(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Et(r,n,Vr+nz()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Et(r,n,D_e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Et(r,n,R_e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function uu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function z2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ir(ql(e))}function sje(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ja(Ts(e))}function oje(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ul(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Z3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function lje(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function cje(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Ph(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Xt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Pr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Lt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ph(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Ph(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:o,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Ln(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Xt(n*8+a.type)),a.type==2&&t.push(Xt(a.data.length)),t.push(a.data))})}),Ul(t)}function PN(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Si(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ph(e,n),i=Lt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Pr(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=Lt(o.data),d=Pr(u[3][0].data);s.messages.push({meta:u,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=i[3])!=null&&t[0]&&(s.merge=Pr(i[3][0].data)>>>0>0),r.push(s)}return r}function Ed(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Xt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Xt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Xt(s.data.length)}],n[2].push({data:Ln(s.meta),type:2})});var i=Ln(n);t.push(Xt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Ul(t)}function uje(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ph(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var u=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ul(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(a.push(a[0].slice(-u)),d-=u;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-u,-u+d))}}var h=Ul(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Ti(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(uje(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ul(t)}function Sd(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Xt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Ul(t)}function dje(e,t,r,n){var a=uu(e),i=a.getUint32(4,!0),s=(n>1?12:8)+Z3(i&(n>1?3470:398))*4,o=-1,u=-1,d=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=Z3(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(s,!0),s+=4),i&32&&(d=a.getFloat64(s,!0),s+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function fje(e,t,r){var n=uu(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,u=NaN,d=NaN,h=new Date(2001,0,1);a&1&&(u=lje(e,i),i+=16),a&2&&(d=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(s>-1)m={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return m}function X_(e,t){var r=new Uint8Array(32),n=uu(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,cje(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function J_(e,t){var r=new Uint8Array(32),n=uu(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function hje(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return dje(e,t,r,e[0]);case 5:return fje(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Yn(e){var t=Lt(e);return Ph(t[1][0].data)}function Q3(e,t){var r=Lt(t.data),n=Pr(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Lt(s.data),u=Pr(o[1][0].data)>>>0;switch(n){case 1:i[u]=z2(o[3][0].data);break;case 8:{var d=e[Yn(o[9][0].data)][0],h=Lt(d.data),m=e[Yn(h[1][0].data)][0],g=Pr(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=Lt(m.data);i[u]=x[3].map(function(b){return z2(b.data)}).join("")}break}}),i}function mje(e,t){var r,n,a,i,s,o,u,d,h,m,g,x,b,y,_=Lt(e),N=Pr(_[1][0].data)>>>0,k=Pr(_[2][0].data)>>>0,A=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&Pr(_[8][0].data)>0||!1,D,j;if((i=(a=_[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=_[7])==null?void 0:s[0])==null?void 0:o.data,j=(d=(u=_[6])==null?void 0:u[0])==null?void 0:d.data;else if((m=(h=_[4])==null?void 0:h[0])!=null&&m.data&&t!=1)D=(x=(g=_[4])==null?void 0:g[0])==null?void 0:x.data,j=(y=(b=_[3])==null?void 0:b[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=A?4:1,I=uu(D),M=[],R=0;R<D.length/2;++R){var z=I.getUint16(R*2,!0);z<65535&&M.push([R,z])}if(M.length!=k)throw"Expected ".concat(k," cells, found ").concat(M.length);var q=[];for(R=0;R<M.length-1;++R)q[M[R][0]]=j.subarray(M[R][1]*O,M[R+1][1]*O);return M.length>=1&&(q[M[M.length-1][0]]=j.subarray(M[M.length-1][1]*O)),{R:N,cells:q}}function pje(e,t){var r,n=Lt(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Pr(n[7][0].data)>>>0>0?1:0:-1,i=PN(n[5],function(s){return mje(s,a)});return{nrows:Pr(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(u,d){if(s[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));s[o.R][d]=u}),s},[])}}function gje(e,t,r){var n,a=Lt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pr(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Pr(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=wt(i);var s=Lt(a[4][0].data),o=Q3(e,e[Yn(s[4][0].data)][0]),u=(n=s[17])!=null&&n[0]?Q3(e,e[Yn(s[17][0].data)][0]):[],d=Lt(s[3][0].data),h=0;d[1].forEach(function(m){var g=Lt(m.data),x=e[Yn(g[2][0].data)][0],b=Pr(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var y=pje(e,x);y.data.forEach(function(_,N){_.forEach(function(k,A){var D=gt({r:h+N,c:A}),j=hje(k,o,u);j&&(r[D]=j)})}),h+=y.nrows})}function xje(e,t){var r=Lt(t.data),n={"!ref":"A1"},a=e[Yn(r[2][0].data)],i=Pr(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return gje(e,a[0],n),n}function vje(e,t){var r,n=Lt(t.data),a={name:(r=n[1])!=null&&r[0]?z2(n[1][0].data):"",sheets:[]},i=PN(n[2],Yn);return i.forEach(function(s){e[s].forEach(function(o){var u=Pr(o.meta[1][0].data);u==6e3&&a.sheets.push(xje(e,o))})}),a}function yje(e,t){var r=$N(),n=Lt(t.data),a=PN(n[1],Yn);if(a.forEach(function(i){e[i].forEach(function(s){var o=Pr(s.meta[1][0].data);if(o==2){var u=vje(e,s);u.sheets.forEach(function(d,h){VN(r,d,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Z_(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=Ti(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=Si(d)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,s.push(m.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Pr(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(u){i[u].forEach(function(d){var h=Pr(d.meta[1][0].data)>>>0;if(h==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return yje(i,o)}function bje(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Pr(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,d=uu(e[7][0].data),h=0,m=[],g=uu(e[4][0].data),x=0,b=[],y=0;y<t.length;++y){if(t[y]==null){d.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}d.setUint16(y*2,h,!0),g.setUint16(y*2,x,!0);var _,N;switch(typeof t[y]){case"string":_=X_({t:"s",v:t[y]},r),N=J_({t:"s",v:t[y]},r);break;case"number":_=X_({t:"n",v:t[y]},r),N=J_({t:"n",v:t[y]},r);break;case"boolean":_=X_({t:"b",v:t[y]},r),N=J_({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}m.push(_),h+=_.length,b.push(N),x+=N.length,++u}for(e[2][0].data=Xt(u);y<e[7][0].data.length/2;++y)d.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=Ul(m),e[3][0].data=Ul(b),u}function wje(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Da(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(wt(n)));var i=cv(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(J){return J.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},u=[],d=ct.read(t.numbers,{type:"base64"});d.FileIndex.map(function(J,U){return[J,d.FullPaths[U]]}).forEach(function(J){var U=J[0],B=J[1];if(U.type==2&&U.name.match(/\.iwa/)){var se=U.content,fe=Ti(se),Te=Si(fe);Te.forEach(function(te){u.push(te.id),o[te.id]={deps:[],location:B,type:Pr(te.messages[0].meta[1][0].data)}})}}),u.sort(function(J,U){return J-U});var h=u.filter(function(J){return J>1}).map(function(J){return[J,Xt(J)]});d.FileIndex.map(function(J,U){return[J,d.FullPaths[U]]}).forEach(function(J){var U=J[0];if(J[1],!!U.name.match(/\.iwa/)){var B=Si(Ti(U.content));B.forEach(function(se){se.messages.forEach(function(fe){h.forEach(function(Te){se.messages.some(function(te){return Pr(te.meta[1][0].data)!=11006&&oje(te.data,Te[1])})&&o[Te[0]].deps.push(se.id)})})})}});for(var m=ct.find(d,o[1].location),g=Si(Ti(m.content)),x,b=0;b<g.length;++b){var y=g[b];y.id==1&&(x=y)}var _=Yn(Lt(x.messages[0].data)[1][0].data);for(m=ct.find(d,o[_].location),g=Si(Ti(m.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);for(_=Yn(Lt(x.messages[0].data)[2][0].data),m=ct.find(d,o[_].location),g=Si(Ti(m.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);for(_=Yn(Lt(x.messages[0].data)[2][0].data),m=ct.find(d,o[_].location),g=Si(Ti(m.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);var N=Lt(x.messages[0].data);{N[6][0].data=Xt(n.e.r+1),N[7][0].data=Xt(n.e.c+1);var k=Yn(N[46][0].data),A=ct.find(d,o[k].location),D=Si(Ti(A.content));{for(var j=0;j<D.length&&D[j].id!=k;++j);if(D[j].id!=k)throw"Bad ColumnRowUIDMapArchive";var O=Lt(D[j].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var I=0;I<=n.e.c;++I){var M=[];M[1]=M[2]=[{type:0,data:Xt(I+420690)}],O[1].push({type:2,data:Ln(M)}),O[2].push({type:0,data:Xt(I)}),O[3].push({type:0,data:Xt(I)})}O[4]=[],O[5]=[],O[6]=[];for(var R=0;R<=n.e.r;++R)M=[],M[1]=M[2]=[{type:0,data:Xt(R+726270)}],O[4].push({type:2,data:Ln(M)}),O[5].push({type:0,data:Xt(R)}),O[6].push({type:0,data:Xt(R)});D[j].messages[0].data=Ln(O)}A.content=Sd(Ed(D)),A.size=A.content.length,delete N[46];var z=Lt(N[4][0].data);{z[7][0].data=Xt(n.e.r+1);var q=Lt(z[1][0].data),F=Yn(q[2][0].data);A=ct.find(d,o[F].location),D=Si(Ti(A.content));{if(D[0].id!=F)throw"Bad HeaderStorageBucket";var Y=Lt(D[0].messages[0].data);for(R=0;R<i.length;++R){var de=Lt(Y[2][0].data);de[1][0].data=Xt(R),de[4][0].data=Xt(i[R].length),Y[2][R]={type:Y[2][0].type,data:Ln(de)}}D[0].messages[0].data=Ln(Y)}A.content=Sd(Ed(D)),A.size=A.content.length;var ce=Yn(z[2][0].data);A=ct.find(d,o[ce].location),D=Si(Ti(A.content));{if(D[0].id!=ce)throw"Bad HeaderStorageBucket";for(Y=Lt(D[0].messages[0].data),I=0;I<=n.e.c;++I)de=Lt(Y[2][0].data),de[1][0].data=Xt(I),de[4][0].data=Xt(n.e.r+1),Y[2][I]={type:Y[2][0].type,data:Ln(de)};D[0].messages[0].data=Ln(Y)}A.content=Sd(Ed(D)),A.size=A.content.length;var K=Yn(z[4][0].data);(function(){for(var J=ct.find(d,o[K].location),U=Si(Ti(J.content)),B,se=0;se<U.length;++se){var fe=U[se];fe.id==K&&(B=fe)}var Te=Lt(B.messages[0].data);{Te[3]=[];var te=[];s.forEach(function(G,_e){te[1]=[{type:0,data:Xt(_e)}],te[2]=[{type:0,data:Xt(1)}],te[3]=[{type:2,data:sje(G)}],Te[3].push({type:2,data:Ln(te)})})}B.messages[0].data=Ln(Te);var ge=Ed(U),Se=Sd(ge);J.content=Se,J.size=J.content.length})();var ae=Lt(z[3][0].data);{var Z=ae[1][0];delete ae[2];var W=Lt(Z.data);{var ee=Yn(W[2][0].data);(function(){for(var J=ct.find(d,o[ee].location),U=Si(Ti(J.content)),B,se=0;se<U.length;++se){var fe=U[se];fe.id==ee&&(B=fe)}var Te=Lt(B.messages[0].data);{delete Te[6],delete ae[7];var te=new Uint8Array(Te[5][0].data);Te[5]=[];for(var ge=0,Se=0;Se<=n.e.r;++Se){var G=Lt(te);ge+=bje(G,i[Se],s),G[1][0].data=Xt(Se),Te[5].push({data:Ln(G),type:2})}Te[1]=[{type:0,data:Xt(n.e.c+1)}],Te[2]=[{type:0,data:Xt(n.e.r+1)}],Te[3]=[{type:0,data:Xt(ge)}],Te[4]=[{type:0,data:Xt(n.e.r+1)}]}B.messages[0].data=Ln(Te);var _e=Ed(U),ue=Sd(_e);J.content=ue,J.size=J.content.length})()}Z.data=Ln(W)}z[3][0].data=Ln(ae)}N[4][0].data=Ln(z)}x.messages[0].data=Ln(N);var H=Ed(g),L=Sd(H);return m.content=L,m.size=m.content.length,d}function g9(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function LN(e){g9([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function FN(e){g9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function _je(e){return Tt.WS.indexOf(e)>-1?"sheet":e==Tt.CS?"chart":e==Tt.DS?"dialog":e==Tt.MS?"macro":e&&e.length?e:"sheet"}function Eje(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,_je(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Sje(e,t,r,n,a,i,s,o,u,d,h,m){try{i[n]=Y0(Za(e,r,!0),t);var g=Yr(e,t),x;switch(o){case"sheet":x=qke(g,t,a,u,i[n],d,h,m);break;case"chart":if(x=Wke(g,t,a,u,i[n],d,h,m),!x||!x["!drawel"])break;var b=U0(x["!drawel"].Target,t),y=Ih(b),_=OTe(Za(e,b,!0),Y0(Za(e,y,!0),b)),N=U0(_,b),k=Ih(N);x=bke(Za(e,N,!0),N,u,Y0(Za(e,k,!0),N),d,x);break;case"macro":x=Kke(g,t,a,u,i[n],d,h,m);break;case"dialog":x=Yke(g,t,a,u,i[n],d,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=x;var A=[];i&&i[n]&&Lr(i[n]).forEach(function(D){var j="";if(i[n][D].Type==Tt.CMNT){j=U0(i[n][D].Target,t);var O=Qke(Yr(e,j,!0),j,u);if(!O||!O.length)return;F3(x,O,!1)}i[n][D].Type==Tt.TCMNT&&(j=U0(i[n][D].Target,t),A=A.concat(MTe(Yr(e,j,!0),u)))}),A&&A.length&&F3(x,A,!0,u.people||[])}catch(D){if(u.WTF)throw D}}function bi(e){return e.charAt(0)=="/"?e.slice(1):e}function Tje(e,t){if(Tf(),t=t||{},LN(t),Ai(e,"META-INF/manifest.xml")||Ai(e,"objectdata.xml"))return Y3(e,t);if(Ai(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Z_<"u"){if(e.FileIndex)return Z_(e);var r=ct.utils.cfb_new();return i3(e).forEach(function(de){Et(r,de,Pwe(e,de))}),Z_(r)}throw new Error("Unsupported NUMBERS file")}if(!Ai(e,"[Content_Types].xml"))throw Ai(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ai(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=i3(e),a=k_e(Za(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Yr(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Yr(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},d={};if(!t.bookSheets&&!t.bookProps){if(X0=[],a.sst)try{X0=Zke(Yr(e,bi(a.sst)),a.sst,t)}catch(de){if(t.WTF)throw de}t.cellStyles&&a.themes.length&&(u=Jke(Za(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(d=Xke(Yr(e,bi(a.style)),a.style,u,t))}a.links.map(function(de){try{var ce=Y0(Za(e,Ih(bi(de))),de);return tIe(Yr(e,bi(de)),ce,de,t)}catch{}});var h=Gke(Yr(e,bi(a.workbooks[0])),a.workbooks[0],t),m={},g="";a.coreprops.length&&(g=Yr(e,bi(a.coreprops[0]),!0),g&&(m=az(g)),a.extprops.length!==0&&(g=Yr(e,bi(a.extprops[0]),!0),g&&P_e(g,m,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Za(e,bi(a.custprops[0]),!0),g&&(x=F_e(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?s=h.Sheets.map(function(ce){return ce.name}):m.Worksheets&&m.SheetNames.length>0&&(s=m.SheetNames),t.bookProps&&(b.Props=m,b.Custprops=x),t.bookSheets&&typeof s<"u"&&(b.SheetNames=s),t.bookSheets?b.SheetNames:t.bookProps))return b;s={};var y={};t.bookDeps&&a.calcchain&&(y=eIe(Yr(e,bi(a.calcchain)),a.calcchain));var _=0,N={},k,A;{var D=h.Sheets;m.Worksheets=D.length,m.SheetNames=[];for(var j=0;j!=D.length;++j)m.SheetNames[j]=D[j].name}var O=i?"bin":"xml",I=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,I+1)+"_rels/"+a.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");Ai(e,M)||(M="xl/_rels/workbook."+O+".rels");var R=Y0(Za(e,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=rIe(Yr(e,bi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=LTe(Yr(e,bi(a.people[0])),t)),R&&(R=Eje(R,h.Sheets));var z=Yr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=m.Worksheets;++_){var q="sheet";if(R&&R[_]?(k="xl/"+R[_][1].replace(/[\/]?xl\//,""),Ai(e,k)||(k=R[_][1]),Ai(e,k)||(k=M.replace(/_rels\/.*$/,"")+R[_][1]),q=R[_][2]):(k="xl/worksheets/sheet"+(_+1-z)+"."+O,k=k.replace(/sheet0\./,"sheet.")),A=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(_!=t.sheets)continue e;break;case"string":if(m.SheetNames[_].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,Y=0;Y!=t.sheets.length;++Y)typeof t.sheets[Y]=="number"&&t.sheets[Y]==_&&(F=1),typeof t.sheets[Y]=="string"&&t.sheets[Y].toLowerCase()==m.SheetNames[_].toLowerCase()&&(F=1);if(!F)continue e}}Sje(e,k,A,m.SheetNames[_],_,N,s,q,t,h,u,d)}return b={Directory:a,Workbook:h,Props:m,Custprops:x,Deps:y,Sheets:s,SheetNames:m.SheetNames,Strings:X0,Styles:d,Themes:u,SSF:yr(pt)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(de,ce){de=de.replace(/^Root Entry[\/]/,""),b.keys.push(de),b.files[de]=e.FileIndex[ce]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=Yr(e,bi(a.vba[0]),!0):a.defaults&&a.defaults.bin===GTe&&(b.vbaraw=Yr(e,"xl/vbaProject.bin",!0))),b}function Nje(e,t){var r=t||{},n="Workbook",a=ct.find(e,n);try{if(n="/!DataSpaces/Version",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(rSe(a.content),n="/!DataSpaces/DataSpaceMap",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=aSe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=iSe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);oSe(a.content)}catch{}if(n="/EncryptionInfo",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=lSe(a.content);if(n="/EncryptedPackage",a=ct.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Aje(e,t){return t.bookType=="ods"?p9(e,t):t.bookType=="numbers"?wje(e,t):t.bookType=="xlsb"?Cje(e,t):kje(e,t)}function Cje(e,t){Ld=1024,e&&!e.SSF&&(e.SSF=yr(pt)),e&&e.SSF&&(Tf(),vy(e.SSF),t.revssf=by(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Vz.indexOf(t.bookType)>-1,a=EN();FN(t=t||{});var i=cN(),s="",o=0;if(t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Et(i,s,iz(e.Props,t)),a.coreprops.push(s),Jt(t.rels,2,s,Tt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Et(i,s,lz(e.Props)),a.extprops.push(s),Jt(t.rels,3,s,Tt.EXT_PROPS),e.Custprops!==e.Props&&Lr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Et(i,s,cz(e.Custprops)),a.custprops.push(s),Jt(t.rels,4,s,Tt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Et(i,s,aIe(o-1,s,t,e,h)),a.sheets.push(s),Jt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(m){var x=m["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+o+"."+r,Et(i,y,oIe(x,y)),a.comments.push(y),Jt(h,-1,"../comments"+o+"."+r,Tt.CMNT),b=!0),m["!legacy"]&&b&&Et(i,"xl/drawings/vmlDrawing"+o+".vml",zz(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Et(i,Ih(s),Gd(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Et(i,s,sIe(t.Strings,s,t)),a.strs.push(s),Jt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),s="xl/workbook."+r,Et(i,s,nIe(e,s)),a.workbooks.push(s),Jt(t.rels,1,s,Tt.WB),s="xl/theme/theme1.xml",Et(i,s,kN(e.Themes,t)),a.themes.push(s),Jt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),s="xl/styles."+r,Et(i,s,iIe(e,s,t)),a.styles.push(s),Jt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Et(i,s,e.vbaraw),a.vba.push(s),Jt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),s="xl/metadata."+r,Et(i,s,lIe(s)),a.metadata.push(s),Jt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),Et(i,"[Content_Types].xml",rz(a,t)),Et(i,"_rels/.rels",Gd(t.rels)),Et(i,"xl/_rels/workbook."+r+".rels",Gd(t.wbrels)),delete t.revssf,delete t.ssf,i}function kje(e,t){Ld=1024,e&&!e.SSF&&(e.SSF=yr(pt)),e&&e.SSF&&(Tf(),vy(e.SSF),t.revssf=by(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Vz.indexOf(t.bookType)>-1,a=EN();FN(t=t||{});var i=cN(),s="",o=0;if(t.cellXfs=[],Kl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Et(i,s,iz(e.Props,t)),a.coreprops.push(s),Jt(t.rels,2,s,Tt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Et(i,s,lz(e.Props)),a.extprops.push(s),Jt(t.rels,3,s,Tt.EXT_PROPS),e.Custprops!==e.Props&&Lr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Et(i,s,cz(e.Custprops)),a.custprops.push(s),Jt(t.rels,4,s,Tt.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Et(i,s,e9(o-1,t,e,m)),a.sheets.push(s),Jt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(g){var b=g["!comments"],y=!1,_="";if(b&&b.length>0){var N=!1;b.forEach(function(k){k[1].forEach(function(A){A.T==!0&&(N=!0)})}),N&&(_="xl/threadedComments/threadedComment"+o+"."+r,Et(i,_,PTe(b,h,t)),a.threadedcomments.push(_),Jt(m,-1,"../threadedComments/threadedComment"+o+"."+r,Tt.TCMNT)),_="xl/comments"+o+"."+r,Et(i,_,$z(b)),a.comments.push(_),Jt(m,-1,"../comments"+o+"."+r,Tt.CMNT),y=!0}g["!legacy"]&&y&&Et(i,"xl/drawings/vmlDrawing"+o+".vml",zz(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Et(i,Ih(s),Gd(m))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Et(i,s,kz(t.Strings,t)),a.strs.push(s),Jt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),s="xl/workbook."+r,Et(i,s,i9(e)),a.workbooks.push(s),Jt(t.rels,1,s,Tt.WB),s="xl/theme/theme1.xml",Et(i,s,kN(e.Themes,t)),a.themes.push(s),Jt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),s="xl/styles."+r,Et(i,s,Lz(e,t)),a.styles.push(s),Jt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Et(i,s,e.vbaraw),a.vba.push(s),Jt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),s="xl/metadata."+r,Et(i,s,Uz()),a.metadata.push(s),Jt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),h.length>1&&(s="xl/persons/person.xml",Et(i,s,FTe(h)),a.people.push(s),Jt(t.wbrels,-1,"persons/person.xml",Tt.PEOPLE)),Et(i,"[Content_Types].xml",rz(a,t)),Et(i,"_rels/.rels",Gd(t.rels)),Et(i,"xl/_rels/workbook."+r+".rels",Gd(t.wbrels)),delete t.revssf,delete t.ssf,i}function BN(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ii(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Ije(e,t){return ct.find(e,"EncryptedPackage")?Nje(e,t):c9(e,t)}function jje(e,t){var r,n=e,a=t||{};return a.type||(a.type=St&&Buffer.isBuffer(e)?"buffer":"base64"),r=j7(n,a),Tje(r,a)}function x9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return B2(e.slice(r),t);default:break e}return cf.to_workbook(e,t)}function Rje(e,t){var r="",n=BN(e,t);switch(t.type){case"base64":r=ii(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=su(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ir(r)),t.type="binary",x9(r,t)}function Oje(e,t){var r=e;return t.type=="base64"&&(r=ii(r)),r=Sh.utils.decode(1200,r.slice(2),"str"),t.type="binary",x9(r,t)}function Dje(e){return e.match(/[^\x00-\x7F]/)?Ts(e):e}function Q_(e,t,r,n){return n?(r.type="string",cf.to_workbook(e,r)):cf.to_workbook(t,r)}function $2(e,t){aN();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return $2(new Uint8Array(e),(r=yr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Wd={},r.dateNF&&(Wd.dateNF=r.dateNF),r.type||(r.type=St&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=St?"buffer":"binary",n=Cwe(e),typeof Uint8Array<"u"&&!St&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Dje(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=yr(r),r.type="array",$2(iN(n),r)}switch((a=BN(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Ije(ct.read(n,r),r);break;case 9:if(a[1]<=8)return c9(n,r);break;case 60:return B2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return B2e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Az.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?jje(n,r):Q_(e,n,r,i);case 239:return a[3]===60?B2(n,r):Q_(e,n,r,i);case 255:if(a[1]===254)return Oje(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Gc.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Gc.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return F2.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Dz.to_workbook(n,r);break;case 10:case 13:case 32:return Rje(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return F2e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?F2.to_workbook(n,r):Q_(e,n,r,i)}function v9(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return pm(t.file,ct.write(e,{type:St?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ct.write(e,t)}function Mje(e,t){var r=yr(t||{}),n=Aje(e,r);return Pje(n,r)}function Pje(e,t){var r={},n=St?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ct.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(xy(a))}return t.password&&typeof encrypt_agile<"u"?v9(encrypt_agile(a,t.password),t):t.type==="file"?pm(t.file,a):t.type=="string"?ir(a):a}function Lje(e,t){var r=t||{},n=DIe(e,r);return v9(n,r)}function _s(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Th(Ts(n));case"binary":return Ts(n);case"string":return e;case"file":return pm(t.file,n,"utf8");case"buffer":return St?$o(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_s(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Fje(e,t){switch(t.type){case"base64":return Th(e);case"binary":return e;case"string":return e;case"file":return pm(t.file,e,"binary");case"buffer":return St?$o(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function wg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Th(r):t.type=="string"?ir(r):r;case"file":return pm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function y9(e,t){aN(),Ike(e);var r=yr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=y9(e,r);return r.type="array",xy(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _s(AIe(e,r),r);case"slk":case"sylk":return _s(Nz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _s(d9(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Fje(b9(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _s(zN(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return _s(Az.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return wg(F2.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _s(cf.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _s(Dz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _s(Cz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _s(p9(e,r),r);case"wk1":return wg(Gc.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return wg(Gc.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),wg(u9(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Lje(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Mje(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Bje(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function UN(e,t,r){var n={};return n.type="file",n.file=t,Bje(n),y9(e,n)}function Uje(e,t,r,n,a,i,s,o){var u=$r(r),d=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!s||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=s?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(d===void 0)continue;i[x]!=null&&(g[i[x]]=d);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(y==null)if(b.t=="e"&&y===null)g[i[x]]=null;else if(d!==void 0)g[i[x]]=d;else if(h&&y===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?y:Io(b,y,o);y!=null&&(m=!1)}}return{row:g,isempty:m}}function cv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof h){case"string":u=Dt(h);break;case"number":u=Dt(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var m=$r(u.s.r),g=[],x=[],b=0,y=0,_=Array.isArray(e),N=u.s.r,k=0,A={};_&&!e[N]&&(e[N]=[]);var D=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(k=u.s.c;k<=u.e.c;++k)if(!(D[k]||{}).hidden)switch(g[k]=Nr(k),r=_?e[N][k]:e[g[k]+m],n){case 1:i[k]=k-u.s.c;break;case 2:i[k]=g[k];break;case 3:i[k]=d.header[k-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Io(r,null,d),y=A[s]||0,!y)A[s]=1;else{do o=s+"_"+y++;while(A[o]);A[s]=y,A[o]=1}i[k]=o}for(N=u.s.r+a;N<=u.e.r;++N)if(!(j[N]||{}).hidden){var O=Uje(e,u,N,g,n,i,_,d);(O.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(x[b++]=O.row)}return x.length=b,x}var e5=/"/g;function zje(e,t,r,n,a,i,s,o){for(var u=!0,d=[],h="",m=$r(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+m];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:Io(x,null,o));for(var b=0,y=0;b!==h.length;++b)if((y=h.charCodeAt(b))===a||y===i||y===34||o.forceQuotes){h='"'+h.replace(e5,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(e5,'""')+'"')):h="";d.push(h)}return o.blankrows===!1&&u?null:d.join(s)}function zN(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Dt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(m[b]=Nr(b));for(var y=0,_=a.s.r;_<=a.e.r;++_)(x[_]||{}).hidden||(h=zje(e,a,_,m,s,u,i,n),h!=null&&(n.strip&&(h=h.replace(d,"")),(h||n.blankrows!==!1)&&r.push((y++?o:"")+h)));return delete n.dense,r.join("")}function b9(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=zN(e,t);return r}function $je(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Dt(e["!ref"]),i="",s=[],o,u=[],d=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Nr(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=$r(h),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=d?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function w9(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Ar(n.origin):n.origin;s=u.r,o=u.c}var d,h={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var m=Dt(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),s==-1&&(s=m.e.r+1,h.e.r=s+t.length-1+a)}else s==-1&&(s=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(y,_){Lr(y).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var k=y[N],A="z",D="",j=gt({c:o+x,r:s+_+a});d=Lh(i,j),k&&typeof k=="object"&&!(k instanceof Date)?i[j]=k:(typeof k=="number"?A="n":typeof k=="boolean"?A="b":typeof k=="string"?A="s":k instanceof Date?(A="d",n.cellDates||(A="n",k=cn(k)),D=n.dateNF||pt[14]):k===null&&n.nullError&&(A="e",k=0),d?(d.t=A,d.v=k,delete d.w,delete d.R,D&&(d.z=D)):i[j]=d={t:A,v:k},D&&(d.z=D))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=$r(s);if(a)for(x=0;x<g.length;++x)i[Nr(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=wt(h),i}function Vje(e,t){return w9(null,e,t)}function Lh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ar(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Lh(e,gt(t)):Lh(e,gt({r:t,c:r||0}))}function Hje(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function $N(){return{SheetNames:[],Sheets:{}}}function VN(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(a9(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Gje(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Hje(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function qje(e,t){return e.z=t,e}function _9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Wje(e,t,r){return _9(e,"#"+t,r)}function Kje(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Yje(e,t,r,n){for(var a=typeof t!="string"?t:Dt(t),i=typeof t=="string"?t:wt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var u=Lh(e,s,o);u.t="n",u.F=i,delete u.v,s==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var Ca={encode_col:Nr,encode_row:$r,encode_cell:gt,encode_range:wt,decode_col:xN,decode_row:gN,split_cell:s_e,decode_cell:Ar,decode_range:Da,format_cell:Io,sheet_add_aoa:Y7,sheet_add_json:w9,sheet_add_dom:f9,aoa_to_sheet:Nf,json_to_sheet:Vje,table_to_sheet:h9,table_to_book:rje,sheet_to_csv:zN,sheet_to_txt:b9,sheet_to_json:cv,sheet_to_html:d9,sheet_to_formulae:$je,sheet_to_row_object_array:cv,sheet_get_cell:Lh,book_new:$N,book_append_sheet:VN,book_set_sheet_visibility:Gje,cell_set_number_format:qje,cell_set_hyperlink:_9,cell_set_internal_link:Wje,cell_add_comment:Kje,sheet_set_array_formula:Yje,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Xje={RECEITA:et.INCOME,DESPESA:et.EXPENSE,INCOME:et.INCOME,EXPENSE:et.EXPENSE},Jje={REALIZADO:"PAID",PAGO:"PAID",RECEBIDO:"PAID",PENDENTE:"PENDING",PAID:"PAID",PENDING:"PENDING"},Zje={PIX:"PIX",BOLETO:"BOLETO","CARTO DE CRDITO":"CREDIT_CARD","CARTAO DE CREDITO":"CREDIT_CARD","CARTO DE DBITO":"DEBIT_CARD","CARTAO DE DEBITO":"DEBIT_CARD",DINHEIRO:"CASH",TRANSFERNCIA:"TRANSFER",TRANSFERENCIA:"TRANSFER",OUTRO:"OTHER"},Qje={PIX:"Pix",BOLETO:"Boleto",CREDIT_CARD:"Carto de Crdito",DEBIT_CARD:"Carto de Dbito",CASH:"Dinheiro",TRANSFER:"Transferncia",OTHER:"Outro"},eRe=({isOpen:e,onClose:t,onImport:r,categories:n,accounts:a,costCenters:i})=>{const[s,o]=S.useState("IMPORT"),[u,d]=S.useState(null),[h,m]=S.useState([]),[g,x]=S.useState(""),b=S.useRef(null);if(!e)return null;const y=()=>{const I=Ca.book_new(),M=["Receita","Despesa"],R=["Realizado","Pendente"],z=["Pix","Boleto","Carto de Crdito","Carto de Dbito","Dinheiro","Transferncia","Outro"],q=n.filter(ee=>ee.active).map(ee=>ee.name),F=a.filter(ee=>ee.status==="ACTIVE").map(ee=>ee.name),Y=i.filter(ee=>ee.status==="ACTIVE").map(ee=>ee.name),de=Math.max(M.length,R.length,z.length,q.length,F.length,Y.length),ce=[];ce.push(["_Types","_Status","_Methods","_Categories","_Accounts","_CostCenters"]);for(let ee=0;ee<de;ee++)ce.push([M[ee]||"",R[ee]||"",z[ee]||"",q[ee]||"",F[ee]||"",Y[ee]||""]);const K=Ca.aoa_to_sheet(ce);Ca.book_append_sheet(I,K,"Dados");const ae=["Data (AAAA-MM-DD)","Descrio","Valor","Tipo","Categoria","Conta (Opcional)","Centro de Custo (Opcional)","Forma Pagamento","Status"],Z=[new Date().toISOString().split("T")[0],"Ex: Venda de Consultoria",1500,"Receita",q[0]||"Vendas",F[0]||"",Y[0]||"","Pix","Realizado"],W=Ca.aoa_to_sheet([ae,Z]);W["!dataValidation"]||(W["!dataValidation"]=[]),W["!dataValidation"].push({sqref:"D2:D1000",type:"list",operator:"equal",formula1:"'Dados'!$A$2:$A$"+(M.length+1),showDropDown:!0}),W["!dataValidation"].push({sqref:"E2:E1000",type:"list",operator:"equal",formula1:"'Dados'!$D$2:$D$"+(q.length+1),showDropDown:!0}),F.length>0&&W["!dataValidation"].push({sqref:"F2:F1000",type:"list",operator:"equal",formula1:"'Dados'!$E$2:$E$"+(F.length+1),showDropDown:!0}),Y.length>0&&W["!dataValidation"].push({sqref:"G2:G1000",type:"list",operator:"equal",formula1:"'Dados'!$F$2:$F$"+(Y.length+1),showDropDown:!0}),W["!dataValidation"].push({sqref:"H2:H1000",type:"list",operator:"equal",formula1:"'Dados'!$C$2:$C$"+(z.length+1),showDropDown:!0}),W["!dataValidation"].push({sqref:"I2:I1000",type:"list",operator:"equal",formula1:"'Dados'!$B$2:$B$"+(R.length+1),showDropDown:!0}),W["!cols"]=[{wch:15},{wch:30},{wch:15},{wch:15},{wch:25},{wch:25},{wch:25},{wch:20},{wch:15}],Ca.book_append_sheet(I,W,"Modelo Importao"),I.Workbook||(I.Workbook={Sheets:[]}),I.Workbook.Sheets||(I.Workbook.Sheets=[]),I.Workbook.Sheets[0]={Hidden:1},I.Workbook.Sheets[1]={Hidden:0},UN(I,"modelo_importacao_fingestao.xlsx")},_=I=>{if(!I)return new Date().toISOString().split("T")[0];if(typeof I=="number"){const M=new Date(Math.round((I-25569)*86400*1e3));return M.setMinutes(M.getMinutes()+M.getTimezoneOffset()),M.toISOString().split("T")[0]}if(typeof I=="string"){const M=I.trim();if(M.match(/^\d{2}\/\d{2}\/\d{4}$/)){const R=M.split("/");return`${R[2]}-${R[1]}-${R[0]}`}if(M.match(/^\d{4}-\d{2}-\d{2}$/))return M}return new Date().toISOString().split("T")[0]},N=I=>{try{const M=$2(I,{type:"array"});let R=M.Sheets[M.SheetNames[0]];M.SheetNames[0]==="Dados"&&M.SheetNames.length>1&&(R=M.Sheets[M.SheetNames[1]]);const z=Ca.sheet_to_json(R,{header:1}),q=[];let F=!1;for(let Y=1;Y<z.length;Y++){const de=z[Y];if(!de||de.length===0)continue;const ce=de[0],K=de[1],ae=de[2],Z=de[3],W=de[4],ee=de[5],H=de[6],L=de[7],J=de[8];if(!K||ae===void 0||ae===null)continue;const U=_(ce),B=typeof Z=="string"?Z.toUpperCase().trim():"",se=typeof J=="string"?J.toUpperCase().trim():"",fe=typeof L=="string"?L.toUpperCase().trim():"",Te=Xje[B]||et.EXPENSE,te=Jje[se]||"PAID";let ge=Zje[fe]||"OTHER",Se="";if(ee){const ue=a.find(be=>be.name.trim().toLowerCase()===String(ee).trim().toLowerCase());ue&&(Se=ue.id)}let G="";if(H){const ue=i.find(be=>be.name.trim().toLowerCase()===String(H).trim().toLowerCase());ue&&(G=ue.id)}const _e=String(W||"").trim();q.push({_tempId:Math.random().toString(36).substr(2,9),date:U,description:String(K),amount:Number(ae),type:Te,category:_e||"Geral",accountId:Se,costCenterId:G,paymentMethod:ge,status:te})}q.length===0?x("Nenhum dado vlido encontrado na planilha."):(x(""),m(q))}catch(M){console.error(M),x("Erro ao processar o arquivo. Verifique se  um Excel vlido.")}},k=I=>{var R;const M=(R=I.target.files)==null?void 0:R[0];if(M){d(M);const z=new FileReader;z.onload=q=>{var Y;const F=(Y=q.target)==null?void 0:Y.result;N(F)},z.readAsArrayBuffer(M)}},A=(I,M,R)=>{const z=[...h];z[I]={...z[I],[M]:R},m(z)},D=I=>{const M=h.filter((R,z)=>z!==I);m(M)},j=()=>{var M;const I={_tempId:Math.random().toString(36).substr(2,9),date:new Date().toISOString().split("T")[0],description:"",amount:0,type:et.EXPENSE,category:"Geral",accountId:((M=a[0])==null?void 0:M.id)||"",costCenterId:"",paymentMethod:"PIX",status:"PAID"};m([...h,I]),x("")},O=()=>{if(h.length>0){const I=h.map(M=>{var R;return{date:M.date,description:M.description||"Sem descrio",amount:Number(M.amount),type:M.type,category:M.category,accountId:M.accountId||((R=a[0])==null?void 0:R.id),costCenterId:M.costCenterId,status:M.status,payments:[{method:M.paymentMethod||"OTHER",amount:Number(M.amount),date:M.date,status:M.status}]}});r(I),t()}};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Gg,{className:"text-green-600",size:24})," Importao em Lote"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Carregue, corrija e confirme seus lanamentos."})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsx("button",{onClick:()=>o("IMPORT"),className:`flex-1 py-3 text-sm font-medium transition-colors ${s==="IMPORT"?"border-b-2 border-green-600 text-green-700 bg-green-50/50":"text-gray-500 hover:bg-gray-50"}`,children:"1. Carregar e Corrigir"}),l.jsx("button",{onClick:()=>o("TEMPLATE"),className:`flex-1 py-3 text-sm font-medium transition-colors ${s==="TEMPLATE"?"border-b-2 border-indigo-600 text-indigo-700 bg-indigo-50/50":"text-gray-500 hover:bg-gray-50"}`,children:"2. Baixar Modelo"})]}),l.jsx("div",{className:"p-6 overflow-hidden flex flex-col flex-1",children:s==="IMPORT"?l.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[h.length?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-4 rounded-lg border border-green-100 mb-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fu,{className:"text-green-600",size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-green-800",children:u?u.name:"Entrada Manual"}),l.jsxs("p",{className:"text-xs text-green-600",children:[h.length," registros encontrados. ",l.jsx("span",{className:"font-bold",children:"Verifique e corrija os dados abaixo."})]})]})]}),l.jsx("button",{onClick:()=>{d(null),m([])},className:"text-xs text-red-500 hover:underline font-semibold bg-white px-3 py-1.5 rounded border border-red-100",children:"Descartar e Recomear"})]}),l.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg shadow-sm bg-white custom-scrollbar relative",children:l.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-100 text-gray-600 font-bold sticky top-0 z-20 shadow-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 border-b border-gray-200 w-10 text-center",children:"#"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[110px]",children:"Data"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[200px]",children:"Descrio"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[100px]",children:"Valor"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[100px]",children:"Tipo"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[120px]",children:"Forma Pag."}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[100px]",children:"Status"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[150px]",children:"Categoria"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[150px]",children:"Conta Destino"}),l.jsx("th",{className:"p-3 border-b border-gray-200 min-w-[150px]",children:"C. Custo"}),l.jsx("th",{className:"p-3 border-b border-gray-200 w-10 text-center",children:"Excluir"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map((I,M)=>l.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors group",children:[l.jsx("td",{className:"p-2 text-center text-gray-400 font-mono",children:M+1}),l.jsx("td",{className:"p-2",children:l.jsx("input",{type:"date",value:I.date,onChange:R=>A(M,"date",R.target.value),className:"w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none transition-all text-black"})}),l.jsx("td",{className:"p-2",children:l.jsx("input",{type:"text",value:I.description,onChange:R=>A(M,"description",R.target.value),className:`w-full bg-transparent border hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none transition-all text-black ${I.description?"border-transparent":"border-red-300 bg-red-50"}`,placeholder:"Descrio obrigatria"})}),l.jsx("td",{className:"p-2",children:l.jsx("input",{type:"number",step:"0.01",value:I.amount,onChange:R=>A(M,"amount",R.target.value),className:"w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none transition-all font-mono text-black"})}),l.jsx("td",{className:"p-2",children:l.jsxs("select",{value:I.type,onChange:R=>A(M,"type",R.target.value),className:`w-full text-xs font-bold rounded px-1 py-1 outline-none border border-transparent hover:border-gray-300 focus:border-indigo-500 cursor-pointer ${I.type==="INCOME"?"text-emerald-700 bg-emerald-50":"text-red-700 bg-red-50"}`,children:[l.jsx("option",{value:"INCOME",children:"Receita"}),l.jsx("option",{value:"EXPENSE",children:"Despesa"})]})}),l.jsx("td",{className:"p-2",children:l.jsx("select",{value:I.paymentMethod,onChange:R=>A(M,"paymentMethod",R.target.value),className:"w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none cursor-pointer text-xs text-black",children:Object.entries(Qje).map(([R,z])=>l.jsx("option",{value:R,children:z},R))})}),l.jsx("td",{className:"p-2",children:l.jsxs("select",{value:I.status,onChange:R=>A(M,"status",R.target.value),className:`w-full text-xs font-bold rounded px-1 py-1 outline-none border border-transparent hover:border-gray-300 focus:border-indigo-500 cursor-pointer ${I.status==="PAID"?"text-green-700 bg-green-50":"text-orange-700 bg-orange-50"}`,children:[l.jsx("option",{value:"PAID",children:"Realizado"}),l.jsx("option",{value:"PENDING",children:"Pendente"})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("select",{value:I.category,onChange:R=>A(M,"category",R.target.value),className:"w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none cursor-pointer text-black",children:[n.filter(R=>R.type===I.type).map(R=>l.jsx("option",{value:R.name,children:R.name},R.id)),l.jsx("option",{value:"Geral",children:"Geral (Padro)"})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("select",{value:I.accountId||"",onChange:R=>A(M,"accountId",R.target.value),className:`w-full border rounded px-2 py-1 outline-none cursor-pointer text-xs ${I.accountId?"border-transparent bg-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white text-black":"border-orange-300 bg-orange-50 text-orange-800"}`,children:[l.jsx("option",{value:"",children:"Selecione..."}),a.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})}),l.jsx("td",{className:"p-2",children:l.jsxs("select",{value:I.costCenterId||"",onChange:R=>A(M,"costCenterId",R.target.value),className:"w-full bg-transparent border border-transparent hover:border-gray-300 focus:border-indigo-500 focus:bg-white rounded px-2 py-1 outline-none cursor-pointer text-black",children:[l.jsx("option",{value:"",children:"-"}),i.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})}),l.jsx("td",{className:"p-2 text-center",children:l.jsx("button",{onClick:()=>D(M),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover linha",children:l.jsx(Bt,{size:16})})})]},I._tempId||M))})]})}),l.jsxs("button",{onClick:j,className:"w-full py-3 bg-gray-50 border-t border-gray-200 text-gray-600 font-bold hover:bg-gray-100 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Ft,{size:16})," Adicionar Linha"]})]}):l.jsxs("div",{className:"flex flex-col flex-1 gap-6",children:[l.jsxs("div",{onClick:()=>{var I;return(I=b.current)==null?void 0:I.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-10 flex flex-col items-center justify-center cursor-pointer hover:border-green-500 hover:bg-green-50 transition-all group flex-1",children:[l.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4 group-hover:bg-white text-gray-400 group-hover:text-green-600 transition-colors",children:l.jsx(oh,{size:36})}),l.jsx("h4",{className:"font-semibold text-gray-700 mb-1 text-lg",children:"Clique para carregar planilha"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Suporta arquivos .XLSX (Excel)"}),l.jsx("input",{type:"file",ref:b,onChange:k,accept:".xlsx, .xls, .csv",className:"hidden"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-px bg-gray-200 flex-1"}),l.jsx("span",{className:"text-sm text-gray-400 font-medium uppercase",children:"Ou"}),l.jsx("div",{className:"h-px bg-gray-200 flex-1"})]}),l.jsxs("button",{onClick:j,className:"w-full py-4 rounded-xl border border-gray-300 text-gray-600 hover:bg-gray-50 hover:text-gray-900 font-bold transition-all flex items-center justify-center gap-2",children:[l.jsx(Ft,{size:20})," Preencher Manualmente"]})]}),g&&l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-4 rounded-lg border border-red-100",children:[l.jsx($g,{size:20})," ",g]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[l.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2 text-lg",children:[l.jsx(Hg,{size:20})," Baixe o modelo padro"]}),l.jsxs("p",{className:"text-sm text-blue-700 mb-6 leading-relaxed",children:["Utilize nosso arquivo Excel com ",l.jsx("b",{children:"menus suspensos inteligentes"}),". Ele j vem configurado com suas categorias, contas bancrias e centros de custo atuais para evitar erros de digitao."]}),l.jsxs("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-lg font-bold text-sm transition-colors shadow-md flex items-center gap-2",children:[l.jsx(Hg,{size:18})," Download Modelo .XLSX"]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 text-sm flex items-center gap-2",children:[l.jsx(PK,{size:16})," Como funciona?"]}),l.jsxs("ul",{className:"space-y-3 text-xs text-gray-600",children:[l.jsxs("li",{className:"flex gap-3 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[l.jsx("div",{className:"bg-white p-1.5 rounded shadow-sm h-fit",children:l.jsx(Vn,{size:16,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("strong",{className:"block text-gray-800 mb-1",children:"Listas de Seleo"}),"Selecione Categorias, Contas e Centros de Custo diretamente das listas no Excel. O sistema reconhecer os nomes automaticamente."]})]}),l.jsxs("li",{className:"flex gap-3 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[l.jsx("div",{className:"bg-white p-1.5 rounded shadow-sm h-fit",children:l.jsx(Vn,{size:16,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("strong",{className:"block text-gray-800 mb-1",children:"Correo Online"}),"Aps o upload, voc poder editar todos os dados em uma tabela antes de salvar, garantindo que nada entre errado no sistema."]})]})]})]})]})}),l.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex gap-3 justify-end",children:[l.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),s==="IMPORT"&&l.jsxs("button",{type:"button",onClick:O,disabled:h.length===0,className:`px-6 py-2.5 text-white font-bold rounded-lg transition-colors shadow-sm flex items-center gap-2 ${h.length===0?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700 shadow-md transform hover:-translate-y-0.5"}`,children:[l.jsx(Yc,{size:18})," Salvar ",h.length>0?`${h.length} Lanamentos`:""]}),s==="TEMPLATE"&&l.jsxs("button",{type:"button",onClick:()=>o("IMPORT"),className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center gap-2",children:["Ir para Importao ",l.jsx(Oi,{size:18})]})]})]})})},tRe={PIX:"Pix",BOLETO:"Boleto",CREDIT_CARD:"Carto de Crdito",DEBIT_CARD:"Carto de Dbito",CASH:"Dinheiro",TRANSFER:"Transferncia",OTHER:"Outro"},rRe=({company:e,transactions:t,currentUser:r,onRefresh:n,viewParams:a,onClearParams:i,categories:s,accounts:o,costCenters:u})=>{const[d,h]=S.useState(!1),[m,g]=S.useState(!1),[x,b]=S.useState(null),[y,_]=S.useState(et.INCOME),[N,k]=S.useState("ALL"),[A,D]=S.useState("ALL"),[j,O]=S.useState(""),[I,M]=S.useState("MONTH"),[R,z]=S.useState(new Date),q=[Xe.ADMIN,Xe.BPO,Xe.CONSULTANT,Xe.SUPER_ADMIN].includes(r.role)||r.permissions&&r.permissions.includes("EDIT_TRANSACTIONS");S.useEffect(()=>{if(a&&a.openModal){if(a.prefillData){const U={...a.prefillData,payments:[],date:new Date().toISOString().split("T")[0],status:"PAID"};b(U),_(a.prefillData.type||et.INCOME)}else b(null),_(a.defaultType||et.INCOME);h(!0),i&&i()}},[a]);const F=(U,B)=>{const se=new Date(U),fe=new Date(U);if(se.setHours(0,0,0,0),fe.setHours(23,59,59,999),B==="WEEK"){const Te=se.getDay(),te=se.getDate()-Te;se.setDate(te),fe.setDate(te+6)}else if(B==="MONTH")se.setDate(1),fe.setMonth(fe.getMonth()+1,0);else if(B==="SEMESTER"){const te=se.getMonth()<6?0:6;se.setMonth(te,1),fe.setMonth(te+6,0)}else if(B==="YEAR")se.setMonth(0,1),fe.setMonth(11,31);else if(B==="ALL")return{start:new Date("2000-01-01"),end:new Date("2100-12-31")};return{start:se,end:fe}},Y=U=>{if(I==="ALL")return;const B=new Date(R),se=U==="next"?1:-1;I==="WEEK"?B.setDate(B.getDate()+se*7):I==="MONTH"?B.setMonth(B.getMonth()+se):I==="SEMESTER"?B.setMonth(B.getMonth()+se*6):I==="YEAR"&&B.setFullYear(B.getFullYear()+se),z(B)},de=()=>{if(I==="ALL")return"Todo o Perodo";const{start:U,end:B}=F(R,I),se={year:"numeric",month:"long"};return I==="WEEK"?`${U.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${B.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`:I==="MONTH"?U.toLocaleDateString("pt-BR",se):I==="SEMESTER"?`${U.getMonth()<6?"1 Semestre":"2 Semestre"} de ${U.getFullYear()}`:U.getFullYear().toString()},{start:ce,end:K}=S.useMemo(()=>F(R,I),[R,I]),ae=t.filter(U=>{const B=U.description.toLowerCase().includes(j.toLowerCase())||U.category.toLowerCase().includes(j.toLowerCase()),se=N==="ALL"||U.type===N,fe=A==="ALL"||U.status===A;let Te=!0;if(I!=="ALL"){const te=U.date.split("-");if(te.length===3){const ge=new Date(parseInt(te[0]),parseInt(te[1])-1,parseInt(te[2]));Te=ge>=ce&&ge<=K}else Te=!1}return B&&se&&fe&&Te}),Z=U=>{b(null),_(U),h(!0)},W=U=>{q&&(b(U),_(U.type),h(!0))},ee=async U=>{let B=!1;U.id?B=await Qr.updateTransaction(U.id,U):B=!!await Qr.createTransaction({...U,companyId:e.id,createdBy:r.id}),B&&(h(!1),n())},H=async U=>{for(const B of U){let se=B.accountId;!se&&o.length>0&&(se=o[0].id),await Qr.createTransaction({companyId:e.id,description:B.description,amount:B.amount,type:B.type,category:B.category,date:B.date,status:B.status,accountId:se,costCenterId:B.costCenterId})}n(),alert(`${U.length} lanamentos importados com sucesso!`)},L=()=>{const U=Ca.book_new(),B=["Receita","Despesa"],se=["Realizado","Pendente"],fe=["Pix","Boleto","Carto de Crdito","Carto de Dbito","Dinheiro","Transferncia","Outro"],Te=s.filter(je=>je.active).map(je=>je.name),te=o.filter(je=>je.status==="ACTIVE").map(je=>je.name),ge=u.filter(je=>je.status==="ACTIVE").map(je=>je.name),Se=Math.max(B.length,se.length,fe.length,Te.length,te.length,ge.length),G=[];G.push(["_Types","_Status","_Methods","_Categories","_Accounts","_CostCenters"]);for(let je=0;je<Se;je++)G.push([B[je]||"",se[je]||"",fe[je]||"",Te[je]||"",te[je]||"",ge[je]||""]);const _e=Ca.aoa_to_sheet(G);Ca.book_append_sheet(U,_e,"Dados");const ue=ae.map(je=>{var ut,ot;const We=((ut=u.find(Rt=>Rt.id===je.costCenterId))==null?void 0:ut.name)||"-",qe=((ot=o.find(Rt=>Rt.id===je.accountId))==null?void 0:ot.name)||"-",Oe=je.payments.map(Rt=>tRe[Rt.method]||Rt.method).join(", ");return{Data:new Date(je.date).toLocaleDateString("pt-BR"),Descrio:je.description,Categoria:je.category,"Centro de Custo":We,Conta:qe,Tipo:je.type===et.INCOME?"Receita":"Despesa",Valor:je.amount,Status:je.status==="PAID"?"Realizado":je.status==="PENDING"?"Pendente":"Parcial","Forma Pagamento":Oe,Obs:je.observation||""}}),be=Ca.json_to_sheet(ue);be["!dataValidation"]||(be["!dataValidation"]=[]);const Le=(ue.length+100).toString(),me=(je,We,qe)=>{qe>0&&be["!dataValidation"].push({sqref:`${je}2:${je}${Le}`,type:"list",operator:"equal",formula1:`'Dados'!$${We}$2:$${We}$${qe+1}`,showDropDown:!0})};me("C","D",Te.length),me("D","F",ge.length),me("E","E",te.length),me("F","A",B.length),me("H","B",se.length),me("I","C",fe.length);const Re=[{wch:12},{wch:30},{wch:25},{wch:20},{wch:20},{wch:12},{wch:15},{wch:15},{wch:20},{wch:20}];be["!cols"]=Re,Ca.book_append_sheet(U,be,"Extrato"),U.Workbook||(U.Workbook={Sheets:[]}),U.Workbook.Sheets||(U.Workbook.Sheets=[]),U.Workbook.Sheets[0]={Hidden:1},UN(U,`FinGestao_Extrato_${new Date().toISOString().split("T")[0]}.xlsx`)},J=U=>{var B;return U?(B=u.find(se=>se.id===U))==null?void 0:B.name:null};return l.jsxs("div",{className:"space-y-6",children:[d&&l.jsx(h7,{isOpen:d,onClose:()=>h(!1),onSave:ee,categories:s,accounts:o,costCenters:u,transactions:t,initialData:x,defaultType:y}),m&&l.jsx(eRe,{isOpen:m,onClose:()=>g(!1),onImport:H,categories:s,accounts:o,costCenters:u}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Lanamentos"}),l.jsx("p",{className:"text-gray-500",children:"Gerencie todas as entradas e sadas de caixa."})]}),q&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>g(!0),className:"flex items-center bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm mr-2",children:[l.jsx(Gg,{size:18,className:"mr-2 text-green-600"})," Importao"]}),l.jsxs("button",{onClick:()=>Z(et.INCOME),className:"flex items-center bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm",children:[l.jsx(ri,{size:18,className:"mr-2"})," Nova Receita"]}),l.jsxs("button",{onClick:()=>Z(et.EXPENSE),className:"flex items-center bg-red-600 hover:bg-red-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm",children:[l.jsx(ti,{size:18,className:"mr-2"})," Nova Despesa"]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 overflow-x-auto",children:[l.jsx("button",{onClick:()=>M("WEEK"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="WEEK"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),l.jsx("button",{onClick:()=>M("MONTH"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="MONTH"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),l.jsx("button",{onClick:()=>M("SEMESTER"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="SEMESTER"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semestre"}),l.jsx("button",{onClick:()=>M("YEAR"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="YEAR"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ano"}),l.jsxs("button",{onClick:()=>M("ALL"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors flex items-center gap-1 ${I==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:[l.jsx(rS,{size:14})," Geral"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>Y("prev"),disabled:I==="ALL",className:`p-2 rounded-full text-gray-600 ${I==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),de()]}),l.jsx("button",{onClick:()=>Y("next"),disabled:I==="ALL",className:`p-2 rounded-full text-gray-600 ${I==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col xl:flex-row gap-4 justify-between items-center",children:[l.jsx("div",{className:"flex items-center gap-2 w-full xl:w-auto flex-1",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por descrio ou categoria...",value:j,onChange:U=>O(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black"})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full xl:w-auto",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>D("ALL"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${A==="ALL"?"bg-white shadow-sm text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsxs("button",{onClick:()=>D("PAID"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap flex items-center justify-center gap-1 ${A==="PAID"?"bg-white shadow-sm text-green-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Vn,{size:14})," Recebido/Pago"]}),l.jsxs("button",{onClick:()=>D("PENDING"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap flex items-center justify-center gap-1 ${A==="PENDING"?"bg-white shadow-sm text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(gv,{size:14})," Pendente"]})]}),l.jsx("div",{className:"w-px h-8 bg-gray-300 hidden sm:block"}),l.jsxs("div",{className:"flex items-center bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>k("ALL"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all ${N==="ALL"?"bg-white shadow-sm text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsx("button",{onClick:()=>k("INCOME"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all ${N==="INCOME"?"bg-white shadow-sm text-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:"Receitas"}),l.jsx("button",{onClick:()=>k("EXPENSE"),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-all ${N==="EXPENSE"?"bg-white shadow-sm text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Despesas"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Data"}),l.jsx("th",{className:"px-6 py-4",children:"Descrio"}),l.jsx("th",{className:"px-6 py-4",children:"Categoria"}),l.jsx("th",{className:"px-6 py-4",children:"C. Custo"}),l.jsx("th",{className:"px-6 py-4",children:"Tipo"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ae.map(U=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-gray-500 whitespace-nowrap",children:new Date(U.date).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:U.description}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:U.category})}),l.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs",children:J(U.costCenterId)||"-"}),l.jsx("td",{className:"px-6 py-4",children:U.type===et.INCOME?l.jsxs("span",{className:"flex items-center text-emerald-600 text-xs font-bold uppercase gap-1",children:[l.jsx(ri,{size:14})," Receita"]}):l.jsxs("span",{className:"flex items-center text-red-600 text-xs font-bold uppercase gap-1",children:[l.jsx(ti,{size:14})," Despesa"]})}),l.jsxs("td",{className:`px-6 py-4 text-right font-medium text-base ${U.type===et.INCOME?"text-emerald-600":"text-red-600"}`,children:[U.type===et.INCOME?"+":"-"," R$ ",U.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${U.status==="PAID"?"bg-green-100 text-green-800":U.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:U.status==="PAID"?U.type===et.INCOME?"Recebido":"Pago":U.status==="PENDING"?"Pendente":"Parcial"})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("button",{onClick:()=>W(U),className:`transition-colors ${q?"text-gray-400 hover:text-indigo-600":"text-gray-200 cursor-not-allowed"}`,children:l.jsx(_n,{size:18})})})]},U.id)),ae.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(hu,{size:32,className:"text-gray-300 mb-2"}),l.jsx("p",{children:"Nenhum lanamento encontrado para o perodo e filtros selecionados."}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Tente mudar o perodo para "Geral" para ver todo o histrico.'})]})})})]})]})}),l.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200 flex justify-between items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Mostrando ",ae.length," registros"]}),l.jsxs("button",{onClick:L,className:"flex items-center hover:text-indigo-600 transition-colors",children:[l.jsx(Hg,{size:14,className:"mr-1"})," Exportar Excel"]})]})]})]})},nRe=({isOpen:e,onClose:t,categories:r,onEdit:n,onDelete:a,onCreate:i})=>e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Categorias Pessoais"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-all shadow-sm mb-6",children:[l.jsx(Ft,{size:20})," Nova Categoria"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide mb-3 flex items-center gap-2",children:[l.jsx(ri,{size:16,className:"text-emerald-500"})," Receitas"]}),l.jsx("div",{className:"space-y-2",children:r.filter(s=>s.type===et.INCOME).map(s=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:border-gray-200 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color||"#cbd5e1"}}),l.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.name})]}),l.jsxs("div",{className:"flex gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>n(s),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),!s.isSystemDefault&&l.jsx("button",{onClick:()=>a(s.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})]},s.id))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide mb-3 flex items-center gap-2",children:[l.jsx(ti,{size:16,className:"text-red-500"})," Despesas"]}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:r.filter(s=>s.type===et.EXPENSE).map(s=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 group hover:border-gray-200 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color||"#cbd5e1"}}),l.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.name})]}),l.jsxs("div",{className:"flex gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>n(s),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),!s.isSystemDefault&&l.jsx("button",{onClick:()=>a(s.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})]},s.id))})]})]})]})]})}):null,aRe=({company:e,currentUser:t,onRefresh:r})=>{const[n,a]=S.useState(""),[i,s]=S.useState("ALL"),[o,u]=S.useState(!1),[d,h]=S.useState(!1),[m,g]=S.useState(null),[x,b]=S.useState(et.EXPENSE),y=wW(e.id),_=TW(e.id),N=F=>{g(null),b(F),u(!0)},k=F=>{g(F),b(F.type),u(!0)},A=F=>{F.id?EW(F.id,F):_W({...F,companyId:e.id,createdBy:t.id}),r()},D=F=>{confirm("Tem certeza que deseja excluir este lanamento pessoal?")&&(SW(F),r())},j=()=>{const F=prompt("Nome da nova categoria:");F&&(NW({companyId:e.id,name:F,type:et.EXPENSE,active:!0,isSystemDefault:!1}),r())},O=F=>{const Y=prompt("Editar nome da categoria:",F.name);Y&&(AW(F.id,{name:Y}),r())},I=F=>{confirm("Excluir categoria pessoal?")&&(CW(F),r())},M=y.filter(F=>{const Y=F.description.toLowerCase().includes(n.toLowerCase())||F.category.toLowerCase().includes(n.toLowerCase()),de=i==="ALL"||F.type===i;return Y&&de}),R=y.filter(F=>F.type===et.INCOME).reduce((F,Y)=>F+Y.amount,0),z=y.filter(F=>F.type===et.EXPENSE).reduce((F,Y)=>F+Y.amount,0),q=R-z;return l.jsxs("div",{className:"space-y-6",children:[o&&l.jsx(h7,{isOpen:o,onClose:()=>u(!1),onSave:A,categories:_,accounts:[],costCenters:[],transactions:y,initialData:m,defaultType:x,isPersonal:!0}),d&&l.jsx(nRe,{isOpen:d,onClose:()=>h(!1),categories:_,onCreate:j,onEdit:O,onDelete:I}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(ts,{className:"text-indigo-600",size:28})," Gesto de Prolabore"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Controle suas finanas pessoais separadas da empresa."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>h(!0),className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(zl,{size:18})," Categorias"]}),l.jsxs("button",{onClick:()=>N(et.EXPENSE),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Lanamento"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Entradas (Salrio/Retiradas)"}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",R.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"p-3 bg-emerald-50 rounded-full text-emerald-600",children:l.jsx(ri,{size:24})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Sadas Pessoais"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"p-3 bg-red-50 rounded-full text-red-600",children:l.jsx(ti,{size:24})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Saldo do Perodo"}),l.jsxs("p",{className:`text-2xl font-bold ${q>=0?"text-gray-900":"text-red-500"}`,children:["R$ ",q.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"p-3 bg-indigo-50 rounded-full text-indigo-600",children:l.jsx(os,{size:24})})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por descrio ou categoria...",value:n,onChange:F=>a(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>s("ALL"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsx("button",{onClick:()=>s("INCOME"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="INCOME"?"bg-white shadow text-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:"Receitas"}),l.jsx("button",{onClick:()=>s("EXPENSE"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="EXPENSE"?"bg-white shadow text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Despesas"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:M.length===0?l.jsxs("div",{className:"p-12 text-center text-gray-500",children:[l.jsx(hu,{size:48,className:"mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"Nenhum lanamento encontrado."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Data"}),l.jsx("th",{className:"px-6 py-3",children:"Descrio"}),l.jsx("th",{className:"px-6 py-3",children:"Categoria"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),l.jsx("th",{className:"px-6 py-3 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-3 text-gray-600",children:new Date(F.date).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"px-6 py-3 font-medium text-gray-900",children:F.description}),l.jsx("td",{className:"px-6 py-3",children:l.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs",children:F.category})}),l.jsxs("td",{className:`px-6 py-3 text-right font-bold ${F.type===et.INCOME?"text-emerald-600":"text-red-600"}`,children:[F.type===et.INCOME?"+":"-"," R$ ",F.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-3 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>k(F),className:"text-indigo-600 hover:bg-indigo-50 p-1.5 rounded",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>D(F.id),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",children:l.jsx(Bt,{size:16})})]})})]},F.id))})]})})})]})},iRe=({isOpen:e,onClose:t,onSave:r,initialData:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState(""),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,x]=S.useState("MONTHLY");if(S.useEffect(()=>{var y;e&&n?(i(n.name),o(n.code),d(n.description),m(((y=n.budget)==null?void 0:y.toString())||""),x(n.period)):e&&!n&&(i(""),o(""),d(""),m(""),x("MONTHLY"))},[e,n]),!e)return null;const b=y=>{y.preventDefault(),a&&(r({name:a,code:s,description:u,budget:parseFloat(h||"0"),period:g}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[95vh]",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-indigo-50 border-indigo-100",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-indigo-900 flex items-center gap-2",children:[l.jsx(Uh,{size:24,className:"text-indigo-600"}),n?"Editar Centro de Custo":"Novo Centro de Custo"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 opacity-80",children:"Organize suas despesas por departamentos ou projetos."})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:b,className:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wide",children:"Nome do Centro *"}),l.jsx("input",{type:"text",required:!0,autoFocus:!0,value:a,onChange:y=>i(y.target.value),placeholder:"Ex: Marketing, Produo, TI...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder-gray-400 font-medium bg-white text-black"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Cdigo (Opcional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:l.jsx(G5,{size:16})}),l.jsx("input",{type:"text",value:s,onChange:y=>o(y.target.value),placeholder:"Ex: CC-01",className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Renovao"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:l.jsx(xK,{size:16})}),l.jsxs("select",{value:g,onChange:y=>x(y.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-sm text-black",children:[l.jsx("option",{value:"MONTHLY",children:"Mensal"}),l.jsx("option",{value:"QUARTERLY",children:"Trimestral"}),l.jsx("option",{value:"YEARLY",children:"Anual"}),l.jsx("option",{value:"WEEKLY",children:"Semanal"}),l.jsx("option",{value:"SEMIANNUAL",children:"Semestral"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 mb-2 flex items-center gap-1",children:[l.jsx(os,{size:14})," Oramento Previsto (R$)"]}),l.jsx("input",{type:"number",step:"0.01",value:h,onChange:y=>m(y.target.value),placeholder:"0,00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all font-bold text-gray-800 text-lg text-right bg-white"}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-2 text-right",children:"Valor renovado automaticamente conforme a periodicidade."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Descrio"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-3 left-3 pointer-events-none text-gray-400",children:l.jsx(mX,{size:16})}),l.jsx("textarea",{rows:3,value:u,onChange:y=>d(y.target.value),placeholder:"Descreva o objetivo deste centro de custo...",className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder-gray-400 resize-none text-sm bg-white text-black"})]})]})]}),l.jsxs("div",{className:"p-6 pt-0 flex gap-3 bg-white border-t border-gray-50 mt-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:b,type:"submit",className:"flex-1 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-lg",children:n?"Salvar Alteraes":"Cadastrar Centro"})]})]})})},sRe=({company:e,transactions:t,costCenters:r=[],currentUser:n,onRefresh:a})=>{const[i,s]=S.useState(!1),[o,u]=S.useState(null),[d,h]=S.useState(""),[m,g]=S.useState("ALL"),x=()=>{u(null),s(!0)},b=O=>{u(O),s(!0)},y=async O=>{try{o?await Qr.updateCostCenter(o.id,O):await Qr.createCostCenter({...O,companyId:e.id,status:"ACTIVE"}),a(),s(!1)}catch(I){console.error("Error saving cost center",I),alert("Erro ao salvar centro de custo.")}},_=async O=>{window.confirm("Tem certeza que deseja excluir este centro de custo?")&&(await Qr.deleteCostCenter(O),a())},N=async O=>{const I=O.status==="ACTIVE"?"INACTIVE":"ACTIVE";await Qr.updateCostCenter(O.id,{status:I}),a()},k=r.filter(O=>{const I=O.name.toLowerCase().includes(d.toLowerCase())||O.code.toLowerCase().includes(d.toLowerCase()),M=m==="ALL"||O.status===m;return I&&M}),A=O=>t.filter(I=>I.costCenterId===O&&I.type===et.EXPENSE).reduce((I,M)=>I+M.amount,0),D=r.filter(O=>O.status==="ACTIVE").reduce((O,I)=>O+(I.budget||0),0),j=r.filter(O=>O.status==="ACTIVE").reduce((O,I)=>O+A(I.id),0);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(iRe,{isOpen:i,onClose:()=>s(!1),onSave:y,initialData:o||void 0}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Uh,{className:"text-indigo-600",size:28})," Centros de Custo"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Aloque despesas por departamentos ou projetos."})]}),l.jsxs("button",{onClick:x,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Centro"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:l.jsx(Zd,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Centros Ativos"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(O=>O.status==="ACTIVE").length})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:l.jsx(ts,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Oramento Total"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",D.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:l.jsx(du,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Realizado (Geral)"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",j.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou cdigo...",value:d,onChange:O=>h(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${m==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsx("button",{onClick:()=>g("ACTIVE"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${m==="ACTIVE"?"bg-white shadow text-green-600":"text-gray-500 hover:text-gray-700"}`,children:"Ativos"}),l.jsx("button",{onClick:()=>g("INACTIVE"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${m==="INACTIVE"?"bg-white shadow text-gray-600":"text-gray-500 hover:text-gray-700"}`,children:"Inativos"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[k.map(O=>{const I=A(O.id),M=O.budget||0,R=M>0?I/M*100:0,z=R>100;return l.jsxs("div",{className:`bg-white rounded-xl shadow-sm border p-6 hover:shadow-md transition-all ${O.status==="INACTIVE"?"border-gray-100 bg-gray-50 opacity-75":"border-gray-200"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 font-bold text-sm",children:O.code?O.code.substring(0,2):O.name.substring(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-900",children:O.name}),l.jsx("p",{className:"text-xs text-gray-500 font-mono",children:O.code})]})]}),O.status==="ACTIVE"?l.jsxs("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[l.jsx(Vn,{size:10})," ATIVO"]}):l.jsxs("span",{className:"bg-gray-200 text-gray-600 text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[l.jsx(Vg,{size:10})," INATIVO"]})]}),l.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2 min-h-[40px]",children:O.description||"Sem descrio."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Realizado"}),l.jsxs("span",{className:`font-bold ${z?"text-red-600":"text-gray-900"}`,children:["R$ ",I.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-2 rounded-full ${z?"bg-red-500":"bg-indigo-500"}`,style:{width:`${Math.min(R,100)}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[l.jsxs("span",{children:["Oramento: R$ ",M.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("span",{children:[R.toFixed(0),"%"]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[l.jsx("button",{onClick:()=>b(O),className:"flex-1 py-2 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 hover:text-indigo-600 rounded-lg font-medium transition-colors",children:"Editar"}),l.jsx("button",{onClick:()=>N(O),className:"p-2 text-gray-400 hover:text-gray-700 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",title:O.status==="ACTIVE"?"Desativar":"Ativar",children:O.status==="ACTIVE"?l.jsx(Vg,{size:18}):l.jsx(Vn,{size:18})}),l.jsx("button",{onClick:()=>_(O.id),className:"p-2 text-gray-400 hover:text-red-600 bg-gray-50 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:l.jsx(Bt,{size:18})})]})]},O.id)}),k.length===0&&l.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[l.jsx(pa,{size:48,className:"text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum centro de custo encontrado."}),l.jsx("button",{onClick:x,className:"mt-4 text-indigo-600 font-bold text-sm hover:underline",children:"Criar Novo"})]})]})]})},oRe=({isOpen:e,onClose:t,onSave:r,initialData:n,categories:a,accountPlan:i})=>{const[s,o]=S.useState(""),[u,d]=S.useState("MONTHLY"),[h,m]=S.useState(""),[g,x]=S.useState(""),[b,y]=S.useState(""),[_,N]=S.useState("CATEGORY"),[k,A]=S.useState(""),[D,j]=S.useState("REVENUE"),O=R=>{if(!R)return"";const z=R.split("/");return z.length===3?`${z[2]}-${z[1]}-${z[0]}`:R};if(S.useEffect(()=>{if(e&&n)o(n.name),d(n.period),m(n.targetAmount.toString()),x(O(n.startDate)),y(O(n.endDate)),n.linkedEntityType==="TOTAL"?N("CATEGORY"):N(n.linkedEntityType),A(n.linkedEntityId||"");else if(e&&!n){o(""),d("MONTHLY"),m("");const R=new Date;x(R.toISOString().split("T")[0]);const z=new Date(R);z.setMonth(z.getMonth()+1),y(z.toISOString().split("T")[0]),N("CATEGORY"),A("")}},[e,n]),S.useEffect(()=>{if(_==="CATEGORY"&&k){const R=a.find(z=>z.id===k);R&&(j(R.type===et.INCOME?"REVENUE":"EXPENSE_REDUCTION"),!n&&!s&&o(`Meta: ${R.name}`))}else if(_==="ACCOUNT_PLAN"&&k){const R=i.find(z=>z.id===k);R&&(R.type==="REVENUE"?j("REVENUE"):j("EXPENSE_REDUCTION"),!n&&!s&&o(`Meta: ${R.name}`))}},[_,k,a,i,n]),!e)return null;const I=R=>{R.preventDefault(),!(!s||!h||!g||!k)&&(r({name:s,type:D,period:u,targetAmount:parseFloat(h),startDate:g,endDate:b,linkedEntityType:_,linkedEntityId:k}),t())},M=D==="REVENUE";return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[95vh]",children:[l.jsxs("div",{className:`flex justify-between items-center p-6 border-b transition-colors duration-300 ${M?"bg-emerald-50 border-emerald-100":"bg-red-50 border-red-100"}`,children:[l.jsxs("div",{children:[l.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${M?"text-emerald-700":"text-red-700"}`,children:[M?l.jsx(ri,{size:24}):l.jsx(ti,{size:24}),n?"Editar Meta":"Nova Meta Financeira"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 opacity-80",children:M?"Defina objetivos de entrada de caixa.":"Estabelea tetos de gastos para controle."})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:I,className:"p-6 space-y-5 overflow-y-auto flex-1 custom-scrollbar",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1 uppercase tracking-wide",children:"Valor Alvo da Meta (R$)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Zd,{size:20,className:M?"text-emerald-500":"text-red-500"})}),l.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:h,onChange:R=>m(R.target.value),placeholder:"0,00",className:`w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg outline-none transition-all bg-white ${M?"focus:ring-emerald-500 text-emerald-700 border-gray-300":"focus:ring-red-500 text-red-700 border-gray-300"}`})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Nome da Meta"}),l.jsx("input",{type:"text",required:!0,value:s,onChange:R=>o(R.target.value),placeholder:"Ex: Faturamento Q1, Teto Marketing...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none text-gray-900 placeholder-gray-400 bg-white"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 space-y-3",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase flex items-center gap-2",children:[l.jsx(nS,{size:14})," Vincular Meta a:"]}),l.jsxs("div",{className:"flex p-1 bg-white border border-gray-200 rounded-lg",children:[l.jsxs("button",{type:"button",onClick:()=>{N("CATEGORY"),A("")},className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-bold rounded-md transition-all ${_==="CATEGORY"?"bg-indigo-50 text-indigo-700 shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:[l.jsx(zl,{size:14})," Categoria"]}),l.jsx("div",{className:"w-px bg-gray-200 my-1"}),l.jsxs("button",{type:"button",onClick:()=>{N("ACCOUNT_PLAN"),A("")},className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-bold rounded-md transition-all ${_==="ACCOUNT_PLAN"?"bg-indigo-50 text-indigo-700 shadow-sm":"text-gray-500 hover:bg-gray-50"}`,children:[l.jsx(J2,{size:14})," Plano de Contas"]})]}),l.jsxs("select",{value:k,onChange:R=>A(R.target.value),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"",children:"Selecione o item para monitorar..."}),_==="CATEGORY"?l.jsxs(l.Fragment,{children:[l.jsx("optgroup",{label:"Receitas",children:a.filter(R=>R.type===et.INCOME).map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))}),l.jsx("optgroup",{label:"Despesas",children:a.filter(R=>R.type===et.EXPENSE).map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))})]}):i.map(R=>l.jsxs("option",{value:R.id,children:[R.code," - ",R.name]},R.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Incio"}),l.jsxs("div",{className:"relative",children:[l.jsx(Xd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"date",required:!0,value:g,onChange:R=>x(R.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Fim"}),l.jsxs("div",{className:"relative",children:[l.jsx(Xd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"date",required:!0,value:b,onChange:R=>y(R.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Periodicidade de Anlise"}),l.jsxs("select",{value:u,onChange:R=>d(R.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"MONTHLY",children:"Mensal (Renova a cada ms)"}),l.jsx("option",{value:"QUARTERLY",children:"Trimestral (Acumulado do trimestre)"}),l.jsx("option",{value:"YEARLY",children:"Anual (Acumulado do ano)"})]})]})]}),l.jsxs("div",{className:"p-6 pt-0 flex gap-3 bg-white border-t border-gray-50 mt-2",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:I,type:"button",className:`flex-1 py-3 text-white font-medium rounded-lg transition-colors shadow-lg flex justify-center items-center gap-2 ${M?"bg-emerald-600 hover:bg-emerald-700":"bg-red-600 hover:bg-red-700"}`,children:n?"Atualizar Meta":"Criar Meta"})]})]})})},lRe=({company:e,transactions:t,categories:r,accountPlan:n,onRefresh:a})=>{const[i,s]=S.useState(!1),[o,u]=S.useState(null),[d,h]=S.useState(""),[m,g]=S.useState("ALL"),[x,b]=S.useState("MONTH"),[y,_]=S.useState(new Date),N=pW(e.id),k=(Z,W)=>{const ee=new Date(Z),H=new Date(Z);if(ee.setHours(0,0,0,0),H.setHours(23,59,59,999),W==="WEEK"){const L=ee.getDay(),J=ee.getDate()-L;ee.setDate(J),H.setDate(J+6)}else if(W==="MONTH")ee.setDate(1),H.setMonth(H.getMonth()+1,0);else if(W==="SEMESTER"){const J=ee.getMonth()<6?0:6;ee.setMonth(J,1),H.setMonth(J+6,0)}else W==="YEAR"&&(ee.setMonth(0,1),H.setMonth(11,31));return{start:ee,end:H}},A=Z=>{const W=new Date(y),ee=Z==="next"?1:-1;x==="WEEK"?W.setDate(W.getDate()+ee*7):x==="MONTH"?W.setMonth(W.getMonth()+ee):x==="SEMESTER"?W.setMonth(W.getMonth()+ee*6):x==="YEAR"&&W.setFullYear(W.getFullYear()+ee),_(W)},D=()=>{const{start:Z,end:W}=k(y,x),ee={year:"numeric",month:"long"};if(x==="WEEK")return`${Z.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${W.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`;if(x==="MONTH"){const H=Z.toLocaleDateString("pt-BR",ee);return H.charAt(0).toUpperCase()+H.slice(1)}else return x==="SEMESTER"?`${Z.getMonth()<6?"1 Semestre":"2 Semestre"} de ${Z.getFullYear()}`:Z.getFullYear().toString()},j=Z=>{if(Z.includes("/")){const[W,ee,H]=Z.split("/");return new Date(parseInt(H),parseInt(ee)-1,parseInt(W))}return new Date(Z)},O=Z=>{const W=j(Z.startDate),ee=j(Z.endDate),H=t.filter(U=>{const B=new Date(U.date);return B>=W&&B<=ee}),L=U=>U.status==="PAID"?U.amount:U.status==="PARTIAL"&&U.payments?U.payments.filter(B=>B.status==="PAID").reduce((B,se)=>B+se.amount,0):0;let J=0;if(Z.linkedEntityType==="CATEGORY"){const U=r.find(B=>B.id===Z.linkedEntityId);U&&(J=H.filter(B=>B.category===U.name&&B.type===U.type).reduce((B,se)=>B+L(se),0))}else Z.linkedEntityType==="ACCOUNT_PLAN"?J=H.filter(U=>{const B=r.find(se=>se.name===U.category);return B&&B.linkedAccountPlanId===Z.linkedEntityId}).reduce((U,B)=>U+L(B),0):Z.linkedEntityType==="TOTAL"&&(J=H.filter(U=>Z.type==="REVENUE"?U.type===et.INCOME:U.type===et.EXPENSE).reduce((U,B)=>U+L(B),0));return J},I=Z=>{var W,ee;return Z.linkedEntityType==="CATEGORY"?((W=r.find(H=>H.id===Z.linkedEntityId))==null?void 0:W.name)||"Categoria Removida":Z.linkedEntityType==="ACCOUNT_PLAN"?((ee=n.find(H=>H.id===Z.linkedEntityId))==null?void 0:ee.name)||"Conta Removida":Z.linkedEntityType==="TOTAL"?"Geral":"-"},{start:M,end:R}=S.useMemo(()=>k(y,x),[y,x]),z=S.useMemo(()=>N.filter(Z=>{if(m!=="ALL"&&Z.status!==m)return!1;const W=I(Z).toLowerCase();if(d&&!Z.name.toLowerCase().includes(d.toLowerCase())&&!W.includes(d.toLowerCase()))return!1;const ee=j(Z.startDate),H=j(Z.endDate);return ee<=R&&H>=M}),[N,m,d,M,R,r,n]),q=S.useMemo(()=>{const Z=N.length,W=N.filter(B=>B.status==="ACTIVE").length,ee=N.filter(B=>B.status==="INACTIVE").length;let H=0,L=0,J=0;N.forEach(B=>{const se=O(B),fe=se/B.targetAmount*100;L+=B.targetAmount,J+=se,B.type==="REVENUE"&&fe>=100&&H++,B.type!=="REVENUE"&&fe<=100&&H++});const U=Z>0?H/Z*100:0;return{totalGoals:Z,activeCount:W,inactiveCount:ee,successRate:U,totalTarget:L,totalAchieved:J}},[N,t]),F=()=>{u(null),s(!0)},Y=Z=>{u(Z),s(!0)},de=Z=>{const W=H=>{if(!H)return"";const L=H.split("-");return L.length===3?`${L[2]}/${L[1]}/${L[0]}`:H},ee={name:Z.name,type:Z.type,period:Z.period,targetAmount:Z.targetAmount,startDate:W(Z.startDate),endDate:W(Z.endDate),linkedEntityType:Z.linkedEntityType,linkedEntityId:Z.linkedEntityId};o?xW(o.id,ee):gW({companyId:e.id,...ee,currentAmount:0,status:"ACTIVE"}),a()},ce=Z=>{window.confirm("Tem certeza que deseja excluir esta meta?")&&(vW(Z),a())},K=Z=>{yW(Z),a()},ae=(Z,W)=>W==="REVENUE"?Z<33?"bg-red-500":Z<75?"bg-yellow-500":"bg-green-500":Z<70?"bg-green-500":Z<100?"bg-yellow-500":"bg-red-500";return l.jsxs("div",{className:"space-y-6",children:[l.jsx(oRe,{isOpen:i,onClose:()=>s(!1),onSave:de,initialData:o,categories:r,accountPlan:n}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Zd,{className:"text-indigo-600",size:28})," Metas Inteligentes"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Defina objetivos e acompanhe o sucesso financeiro."})]}),l.jsxs("button",{onClick:F,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Nova Meta"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:l.jsx(Zd,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total de Metas"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.totalGoals})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:l.jsx(Vn,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Metas Ativas"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.activeCount})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg",children:l.jsx(du,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Volume Alvo"}),l.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["R$ ",q.totalTarget.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-lg",children:l.jsx(aK,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Taxa de Sucesso"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[q.successRate.toFixed(0),"%"]})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>b("WEEK"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${x==="WEEK"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),l.jsx("button",{onClick:()=>b("MONTH"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${x==="MONTH"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),l.jsx("button",{onClick:()=>b("SEMESTER"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${x==="SEMESTER"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semestre"}),l.jsx("button",{onClick:()=>b("YEAR"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${x==="YEAR"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ano"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>A("prev"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),D()]}),l.jsx("button",{onClick:()=>A("next"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col lg:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg w-full lg:w-auto",children:[l.jsx("button",{onClick:()=>g("ALL"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="ALL"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Todas"}),l.jsx("button",{onClick:()=>g("ACTIVE"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="ACTIVE"?"bg-white shadow text-green-700":"text-gray-500 hover:text-gray-700"}`,children:"Ativas"}),l.jsx("button",{onClick:()=>g("INACTIVE"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="INACTIVE"?"bg-white shadow text-gray-700":"text-gray-500 hover:text-gray-700"}`,children:"Inativas"})]}),l.jsxs("div",{className:"relative flex-1 w-full lg:max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"text",placeholder:"Buscar meta ou categoria...",value:d,onChange:Z=>h(Z.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white text-black"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[z.map(Z=>{const W=O(Z),ee=Z.targetAmount>0?W/Z.targetAmount*100:0,H=Math.min(ee,100),L=Z.type==="REVENUE",J=!L&&ee>=100;return l.jsxs("div",{className:`border rounded-xl p-6 shadow-sm relative transition-all ${Z.status==="INACTIVE"?"bg-gray-50 border-gray-200 opacity-75":"bg-white border-gray-200 hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[Z.name,Z.status==="INACTIVE"&&l.jsx("span",{className:"text-[10px] uppercase font-bold bg-gray-200 text-gray-600 px-2 py-0.5 rounded",children:"Inativa"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:["Vinculado a:",l.jsx("span",{className:"font-semibold bg-gray-100 px-1.5 py-0.5 rounded text-gray-700",children:I(Z)})]})]}),l.jsx("div",{className:"flex flex-col items-end gap-2",children:l.jsxs("span",{className:`flex items-center gap-1 text-xs font-bold uppercase px-2 py-1 rounded-full ${L?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[L?l.jsx(ri,{size:12}):l.jsx(ti,{size:12}),L?"Receita":"Despesa"]})})]}),l.jsxs("div",{className:"flex justify-between items-end mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Realizado"}),l.jsxs("p",{className:`text-2xl font-bold ${L?"text-gray-900":J?"text-red-600":"text-gray-900"}`,children:["R$ ",W.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Meta"}),l.jsxs("p",{className:"text-xl font-semibold text-gray-600",children:["R$ ",Z.targetAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsxs("div",{className:"mb-2 relative",children:[l.jsx("div",{className:"flex justify-between text-xs font-semibold mb-1",children:l.jsxs("span",{className:`${J?"text-red-600":"text-gray-600"}`,children:[ee.toFixed(1),"%"]})}),l.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden shadow-inner",children:l.jsx("div",{className:`h-4 rounded-full transition-all duration-700 ease-out ${ae(ee,Z.type)}`,style:{width:`${H}%`},children:l.jsx("div",{className:"w-full h-full opacity-20 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem]"})})})]}),l.jsxs("div",{className:"mb-6 h-6",children:[L&&ee>=100&&l.jsxs("p",{className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[l.jsx(Vn,{size:14})," Parabns! Meta alcanada."]}),!L&&ee>=100&&l.jsxs("p",{className:"text-xs font-bold text-red-600 flex items-center gap-1",children:[l.jsx(Di,{size:14})," Ateno! Oramento estourado."]}),!L&&ee>=80&&ee<100&&l.jsxs("p",{className:"text-xs font-bold text-yellow-600 flex items-center gap-1",children:[l.jsx(Di,{size:14})," Cuidado, prximo do limite."]})]}),l.jsxs("div",{className:"flex gap-3 border-t border-gray-100 pt-4",children:[l.jsx("button",{onClick:()=>Y(Z),className:"flex-1 text-gray-600 hover:text-indigo-600 text-sm font-medium transition-colors",children:"Editar"}),l.jsx("div",{className:"w-px bg-gray-200"}),l.jsx("button",{onClick:()=>K(Z.id),className:"flex-1 text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors",children:Z.status==="ACTIVE"?"Pausar/Arquivar":"Reativar"}),l.jsx("div",{className:"w-px bg-gray-200"}),l.jsx("button",{onClick:()=>ce(Z.id),className:"flex-1 text-gray-400 hover:text-red-600 text-sm font-medium transition-colors",children:"Excluir"})]})]},Z.id)}),z.length===0&&l.jsxs("div",{className:"col-span-1 lg:col-span-2 text-center py-12 bg-white rounded-xl border border-dashed border-gray-300",children:[l.jsx(hu,{size:48,className:"text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma meta encontrada neste perodo."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Tente ajustar o perodo ou os filtros de busca."}),l.jsx("button",{onClick:F,className:"mt-4 text-indigo-600 font-bold text-sm hover:underline",children:"Criar Nova Meta"})]})]})]})},cRe=({isOpen:e,onClose:t,onSave:r,initialData:n})=>{const[a,i]=S.useState(""),[s,o]=S.useState("BANK"),[u,d]=S.useState(""),[h,m]=S.useState(""),[g,x]=S.useState(""),[b,y]=S.useState(""),[_,N]=S.useState("");if(S.useEffect(()=>{e&&n?(i(n.name),o(n.type),d(n.internalCode||""),m(n.balance.toString()),x(n.bankName||""),y(n.agency||""),N(n.accountNumber||"")):e&&!n&&(i(""),o("BANK"),d(""),m(""),x(""),y(""),N(""))},[e,n]),!e)return null;const k=A=>{A.preventDefault(),!(!a||!s)&&(r({name:a,type:s,internalCode:u,balance:parseFloat(h||"0"),bankName:s==="BANK"?g:void 0,agency:s==="BANK"?b:void 0,accountNumber:s==="BANK"?_:void 0}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n?"Editar Conta":"Nova Conta Financeira"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:k,className:"p-6 pt-0 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome da Conta *"}),l.jsx("input",{type:"text",required:!0,value:a,onChange:A=>i(A.target.value),placeholder:"Ex: Caixa Principal, Banco XPTO",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]}),l.jsxs("div",{className:"col-span-2 md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Tipo *"}),l.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white text-black",children:[l.jsx("option",{value:"BANK",children:"Banco"}),l.jsx("option",{value:"CASH",children:"Caixa"}),l.jsx("option",{value:"DIGITAL_WALLET",children:"Carteira Digital"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Cdigo Interno"}),l.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),placeholder:"Ex: BANK-001, CASH-001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Saldo Inicial (R$)"}),l.jsx("input",{type:"number",step:"0.01",value:h,onChange:A=>m(A.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]})]}),s==="BANK"&&l.jsxs("div",{className:"pt-2 border-t border-gray-100 mt-2",children:[l.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"Informaes Bancrias"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome do Banco"}),l.jsx("input",{type:"text",value:g,onChange:A=>x(A.target.value),placeholder:"Ex: Banco do Brasil, Ita, Nubank",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Agncia"}),l.jsx("input",{type:"text",value:b,onChange:A=>y(A.target.value),placeholder:"0000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nmero da Conta"}),l.jsx("input",{type:"text",value:_,onChange:A=>N(A.target.value),placeholder:"00000-0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 bg-white text-black"})]})]})]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:n?"Atualizar":"Cadastrar"})]})]})]})})},uRe=({company:e,accounts:t,onRefresh:r})=>{const[n,a]=S.useState("grid"),[i,s]=S.useState(""),[o,u]=S.useState(!1),[d,h]=S.useState(null),m=t.filter(j=>j.name.toLowerCase().includes(i.toLowerCase())||j.bankName&&j.bankName.toLowerCase().includes(i.toLowerCase())),g=m.reduce((j,O)=>j+O.balance,0),x=()=>{h(null),u(!0)},b=j=>{h(j),u(!0)},y=async j=>{try{d?await Qr.updateAccount(d.id,{...j,companyId:e.id}):await Qr.createAccount({...j,companyId:e.id,status:"ACTIVE"}),r(),u(!1)}catch(O){console.error("Error saving account",O),alert("Erro ao salvar conta.")}},_=async j=>{confirm("Tem certeza que deseja excluir esta conta? O histrico de lanamentos pode ser afetado.")&&(await Qr.deleteAccount(j),r())},N=async j=>{const O=j.status==="ACTIVE"?"INACTIVE":"ACTIVE";await Qr.updateAccount(j.id,{status:O}),r()},k=j=>{switch(j){case"BANK":return l.jsx(Wg,{size:20});case"CASH":return l.jsx(sK,{size:20});case"DIGITAL_WALLET":return l.jsx(tX,{size:20});case"INVESTMENT":return l.jsx(QW,{size:20});case"CREDIT_CARD":return l.jsx(ts,{size:20});default:return l.jsx(ts,{size:20})}},A=j=>{switch(j){case"BANK":return"bg-blue-50 text-blue-700 border-blue-200";case"CASH":return"bg-green-50 text-green-700 border-green-200";case"DIGITAL_WALLET":return"bg-purple-50 text-purple-700 border-purple-200";case"INVESTMENT":return"bg-amber-50 text-amber-700 border-amber-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},D=j=>{switch(j){case"BANK":return"Conta Corrente";case"CASH":return"Caixa Fsico";case"DIGITAL_WALLET":return"Carteira Digital";case"INVESTMENT":return"Investimento";case"CREDIT_CARD":return"Carto de Crdito";default:return j}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(ts,{className:"text-indigo-600",size:28})," Contas Bancrias"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie suas contas, caixas e carteiras."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[l.jsxs("div",{className:"relative",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar contas...",value:i,onChange:j=>s(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-500 w-full lg:w-64"})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200",children:[l.jsx("button",{onClick:()=>a("grid"),className:`p-1.5 rounded-md transition-all ${n==="grid"?"bg-white shadow-sm text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:l.jsx(q5,{size:18})}),l.jsx("button",{onClick:()=>a("list"),className:`p-1.5 rounded-md transition-all ${n==="list"?"bg-white shadow-sm text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:l.jsx(W5,{size:18})})]}),l.jsxs("button",{onClick:x,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold shadow-sm flex items-center gap-2 text-sm transition-colors whitespace-nowrap",children:[l.jsx(Ft,{size:18})," Nova Conta"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-6 text-white shadow-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Saldo Total Consolidado"}),l.jsxs("h3",{className:"text-3xl font-bold",children:["R$ ",g.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Considerando contas ativas"]})]}),n==="grid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[m.map(j=>l.jsxs("div",{className:`bg-white rounded-xl border transition-all hover:shadow-md group relative overflow-hidden ${j.status==="INACTIVE"?"opacity-75 border-dashed border-gray-300":"border-gray-200 shadow-sm"}`,children:[l.jsx("div",{className:`h-1.5 w-full ${j.balance>=0?"bg-green-500":"bg-red-500"}`}),l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A(j.type)}`,children:k(j.type)}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>b(j),className:"text-gray-400 hover:text-indigo-600 p-1.5 rounded hover:bg-indigo-50 transition-colors",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>_(j.id),className:"text-gray-400 hover:text-red-600 p-1.5 rounded hover:bg-red-50 transition-colors",children:l.jsx(Bt,{size:16})})]})]}),l.jsx("h4",{className:"font-bold text-gray-900 text-base mb-1",children:j.name}),l.jsx("p",{className:"text-xs text-gray-500 mb-4",children:D(j.type)}),l.jsxs("div",{className:"flex flex-col gap-1 mb-4 text-xs text-gray-600",children:[j.bankName&&l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Wg,{size:12})," ",j.bankName]}),j.agency&&l.jsxs("span",{children:["Ag: ",j.agency,"  CC: ",j.accountNumber]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-50 flex justify-between items-center",children:[l.jsxs("span",{className:`text-lg font-bold ${j.balance>=0?"text-green-600":"text-red-600"}`,children:["R$ ",j.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("button",{onClick:()=>N(j),className:`text-[10px] font-bold px-2 py-0.5 rounded border ${j.status==="ACTIVE"?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-300"}`,children:j.status==="ACTIVE"?"ATIVA":"INATIVA"})]})]})]},j.id)),l.jsxs("button",{onClick:x,className:"flex flex-col items-center justify-center h-full min-h-[220px] bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl hover:border-indigo-400 hover:bg-indigo-50 transition-all group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center text-gray-400 group-hover:text-indigo-600 group-hover:border-indigo-200 mb-3 shadow-sm transition-colors",children:l.jsx(Ft,{size:24})}),l.jsx("span",{className:"font-bold text-gray-500 group-hover:text-indigo-700",children:"Adicionar Conta"})]})]}),n==="list"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b border-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Conta"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Tipo"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Instituio"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Saldo"}),l.jsx("th",{className:"px-6 py-4 font-bold text-center",children:"Status"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(j=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${A(j.type)}`,children:k(j.type)}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-900",children:j.name}),(j.agency||j.accountNumber)&&l.jsxs("p",{className:"text-xs text-gray-500",children:[j.agency," / ",j.accountNumber]})]})]})}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:D(j.type)}),l.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:j.bankName||"-"}),l.jsxs("td",{className:`px-6 py-4 font-bold ${j.balance>=0?"text-green-600":"text-red-600"}`,children:["R$ ",j.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("button",{onClick:()=>N(j),className:`text-[10px] font-bold px-2 py-1 rounded-full ${j.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:j.status==="ACTIVE"?"Ativa":"Inativa"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>b(j),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>_(j.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})})]},j.id))})]})}),o&&l.jsx(cRe,{isOpen:o,onClose:()=>u(!1),onSave:y,initialData:d||void 0})]})},dRe=({company:e,currentUser:t,onRefresh:r,onNavigate:n})=>{const[a,i]=S.useState(new Date),[s,o]=S.useState(new Date),[u,d]=S.useState("WEEK"),[h,m]=S.useState("DAY"),[g,x]=S.useState("ALL"),[b,y]=S.useState(!1),[_,N]=S.useState(!1),[k,A]=S.useState(Qq),[D,j]=S.useState(""),[O,I]=S.useState(""),[M,R]=S.useState(""),[z,q]=S.useState(new Date().toISOString().split("T")[0]),[F,Y]=S.useState("09:00"),[de,ce]=S.useState("TODO");S.useEffect(()=>{if(u==="WEEK"||u==="MONTH")m("DAY"),o(new Date);else if(u==="YEAR"){m("YEAR");const _e=new Date;_e.setMonth(0,1),o(_e)}else{m("MONTH");const _e=new Date;_e.setDate(1),o(_e)}},[u]);const K=D5.filter(_e=>_e.linkedCompanyId===e.id),ae=L5(e.id),Z=S.useMemo(()=>{const _e=[];return K.forEach(ue=>{_e.push({id:ue.id,type:"TASK",date:ue.dueDate,title:ue.title,description:ue.description,status:ue.status,original:ue})}),ae.filter(ue=>ue.type===et.EXPENSE&&ue.status!=="PAID").forEach(ue=>{new Date(ue.date)<new Date,_e.push({id:ue.id,type:"DEBT",date:ue.date,title:ue.description,description:`Valor: R$ ${ue.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,status:"TODO",amount:ue.amount,original:ue})}),_e.sort((ue,be)=>new Date(ue.date).getTime()-new Date(be.date).getTime())},[K,ae]),W=S.useMemo(()=>Z.filter(_e=>{const ue=new Date(_e.date),be=new Date(ue.valueOf()+ue.getTimezoneOffset()*60*1e3);return h==="DAY"?be.toDateString()===s.toDateString():h==="MONTH"?be.getMonth()===s.getMonth()&&be.getFullYear()===s.getFullYear():h==="YEAR"?be.getFullYear()===s.getFullYear():!0}).map(_e=>({id:_e.id,title:_e.title,description:_e.description,dueDate:_e.date,status:_e.status,priority:"MEDIUM",linkedCompanyId:e.id,assignedToId:t.id})),[Z,s,h,e.id,t.id]),ee=S.useMemo(()=>{const _e={};return k.forEach(ue=>_e[ue.id]=0),W.forEach(ue=>{_e[ue.status]=(_e[ue.status]||0)+1}),_e},[W,k]),H=S.useMemo(()=>g==="ALL"?W:W.filter(_e=>_e.status===g),[W,g]),L=_e=>{const ue=new Date(a),be=_e==="next"?1:-1;u==="WEEK"?ue.setDate(ue.getDate()+be*7):u==="MONTH"?ue.setMonth(ue.getMonth()+be):u==="SEMESTER"?ue.setMonth(ue.getMonth()+be*6):u==="YEAR"&&ue.setFullYear(ue.getFullYear()+be*12),i(ue)},J=()=>{const _e=new Date;i(_e),o(_e),u==="WEEK"||u==="MONTH"?m("DAY"):u==="SEMESTER"?m("MONTH"):u==="YEAR"&&m("YEAR")},U=()=>{const _e={year:"numeric",month:"long"};if(u==="WEEK"){const ue=new Date(a);ue.setDate(a.getDate()-a.getDay());const be=new Date(ue);return be.setDate(ue.getDate()+6),`${ue.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${be.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`}else if(u==="MONTH"){const ue=a.toLocaleDateString("pt-BR",_e);return ue.charAt(0).toUpperCase()+ue.slice(1)}else{if(u==="SEMESTER")return`${a.getMonth()<6?"1 Semestre":"2 Semestre"} de ${a.getFullYear()}`;if(u==="YEAR"){const ue=a.getFullYear()-6,be=a.getFullYear()+5;return`${ue} - ${be}`}}return""},B=_e=>{const ue=_e.toISOString().split("T")[0],be=Z.filter(Re=>Re.date===ue);return be.length===0?null:be.some(Re=>Re.status==="LATE")?"LATE":be.every(Re=>Re.status==="DONE"||Re.status==="PAID")?"DONE":"PENDING"},se=(_e,ue)=>{const be=Z.filter(Le=>{const me=new Date(Le.date),Re=new Date(me.valueOf()+me.getTimezoneOffset()*60*1e3);return Re.getFullYear()===_e&&Re.getMonth()===ue});return be.length===0?null:be.some(Le=>Le.status==="LATE")?"LATE":be.every(Le=>Le.status==="DONE"||Le.status==="PAID")?"DONE":"PENDING"},fe=_e=>{const ue=Z.filter(be=>{const Le=new Date(be.date);return new Date(Le.valueOf()+Le.getTimezoneOffset()*60*1e3).getFullYear()===_e});return ue.length===0?null:ue.some(be=>be.status==="LATE")?"LATE":ue.every(be=>be.status==="DONE"||be.status==="PAID")?"DONE":"PENDING"},Te=()=>{if(u==="WEEK"){const _e=new Date(a);_e.setDate(a.getDate()-a.getDay());const ue=[];for(let be=0;be<7;be++){const Le=new Date(_e);Le.setDate(_e.getDate()+be),ue.push(Le)}return l.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(be=>l.jsx("div",{className:"text-center text-xs font-bold text-gray-400 uppercase mb-2",children:be},be)),ue.map((be,Le)=>{const me=be.toDateString()===s.toDateString(),Re=be.toDateString()===new Date().toDateString(),je=B(be);return l.jsxs("button",{onClick:()=>{o(be),m("DAY")},className:`
                                  relative p-4 rounded-xl flex flex-col items-center justify-center transition-all h-24
                                  ${me?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"}
                                  ${Re&&!me?"border-2 border-indigo-600":""}
                              `,children:[l.jsx("span",{className:"text-lg font-bold",children:be.getDate()}),je&&l.jsx("div",{className:`mt-2 w-2 h-2 rounded-full ${je==="LATE"?"bg-red-500":je==="DONE"?"bg-green-400":"bg-orange-400"} ${me?"ring-2 ring-white":""}`})]},Le)})]})}if(u==="MONTH"){const _e=a.getFullYear(),ue=a.getMonth(),be=new Date(_e,ue,1),Le=new Date(_e,ue+1,0),me=[];for(let Re=0;Re<be.getDay();Re++)me.push(null);for(let Re=1;Re<=Le.getDate();Re++)me.push(new Date(_e,ue,Re));return l.jsxs("div",{children:[l.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(Re=>l.jsx("div",{className:"text-center text-xs font-bold text-gray-400 uppercase",children:Re},Re))}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:me.map((Re,je)=>{if(!Re)return l.jsx("div",{className:"h-16"},je);const We=Re.toDateString()===s.toDateString(),qe=Re.toDateString()===new Date().toDateString(),Oe=B(Re);return l.jsxs("button",{onClick:()=>{o(Re),m("DAY")},className:`
                                      relative h-16 rounded-lg flex flex-col items-center justify-center transition-all
                                      ${We?"bg-indigo-600 text-white shadow-md":"hover:bg-gray-50 text-gray-700"}
                                      ${qe&&!We?"text-indigo-600 font-bold bg-indigo-50":""}
                                  `,children:[l.jsx("span",{className:"text-sm",children:Re.getDate()}),Oe&&l.jsx("div",{className:`mt-1 w-1.5 h-1.5 rounded-full ${Oe==="LATE"?"bg-red-500":Oe==="DONE"?"bg-green-500":"bg-orange-400"} ${We?"ring-1 ring-white":""}`})]},je)})})]})}if(u==="SEMESTER"){const _e=a.getFullYear(),ue=[],be=a.getMonth()<6?0:6;for(let Le=0;Le<6;Le++)ue.push(new Date(_e,be+Le,1));return l.jsx("div",{className:"grid grid-cols-3 gap-4",children:ue.map((Le,me)=>{const Re=h==="MONTH"&&Le.getMonth()===s.getMonth()&&Le.getFullYear()===s.getFullYear(),je=new Date().getMonth()===Le.getMonth()&&new Date().getFullYear()===Le.getFullYear(),We=se(Le.getFullYear(),Le.getMonth());return l.jsxs("button",{onClick:()=>{o(Le),m("MONTH")},className:`
                                  p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all h-24
                                  ${Re?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white border-gray-200 text-gray-700 hover:border-indigo-300 hover:bg-gray-50"}
                                  ${je&&!Re?"ring-2 ring-indigo-100 bg-indigo-50/50":""}
                              `,children:[l.jsx("span",{className:"font-bold capitalize",children:Le.toLocaleDateString("pt-BR",{month:"long"})}),We&&l.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded-full ${Re?"bg-white/20":"bg-black/10"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${We==="LATE"?"bg-red-500":We==="DONE"?"bg-green-400":"bg-orange-400"}`}),We==="LATE"?"Pendncias":We==="DONE"?"Concludo":"Aberto"]})]},me)})})}if(u==="YEAR"){const _e=a.getFullYear()-6,ue=[];for(let be=0;be<12;be++)ue.push(_e+be);return l.jsx("div",{className:"grid grid-cols-3 gap-4",children:ue.map((be,Le)=>{const me=h==="YEAR"&&s.getFullYear()===be,Re=new Date().getFullYear()===be,je=fe(be);return l.jsxs("button",{onClick:()=>{const We=new Date;We.setFullYear(be),We.setMonth(0,1),o(We),m("YEAR")},className:`
                                  p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all h-24
                                  ${me?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white border-gray-200 text-gray-700 hover:border-indigo-300 hover:bg-gray-50"}
                                  ${Re&&!me?"ring-2 ring-indigo-100 bg-indigo-50/50":""}
                              `,children:[l.jsx("span",{className:"font-bold text-lg",children:be}),je&&l.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium px-2 py-0.5 rounded-full ${me?"bg-white/20":"bg-black/10"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${je==="LATE"?"bg-red-500":je==="DONE"?"bg-green-400":"bg-orange-400"}`}),je==="LATE"?"Pendncias":je==="DONE"?"Concludo":"Aberto"]})]},Le)})})}},te=()=>{if(!D)return;const _e=D.toUpperCase().replace(/\s+/g,"_");A([...k,{id:_e,label:D,color:"border-gray-400",bg:"bg-gray-50",order:k.length+1}]),j("")},ge=_e=>{if(["TODO","DONE"].includes(_e)){alert("No  possvel remover os status padro do sistema.");return}A(k.filter(ue=>ue.id!==_e))},Se=_e=>{_e.preventDefault();const ue=`${F} - ${O}`;$W({title:ue,description:M,dueDate:z,status:de,priority:"MEDIUM",linkedCompanyId:e.id,assignedToId:t.id},t),y(!1),I(""),R(""),ce("TODO"),r()},G=()=>{if(h==="YEAR")return`Obrigaes de ${s.getFullYear()}`;const _e=h==="MONTH"?{month:"long",year:"numeric"}:{weekday:"long",day:"numeric",month:"long"};return s.toLocaleDateString("pt-BR",_e)};return l.jsxs("div",{className:"flex flex-col gap-8 h-full",children:[_&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(wo,{size:20,className:"text-indigo-600"})," Configurar Agenda"]}),l.jsx("button",{onClick:()=>N(!1),children:l.jsx(Vt,{size:20,className:"text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h4",{className:"text-sm font-bold text-gray-800 mb-2",children:"Estgios e Status"}),l.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Gerencie as etapas do seu fluxo de trabalho."}),l.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:k.map((_e,ue)=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Q2,{size:14,className:"text-gray-400 cursor-move"}),l.jsx("span",{className:"font-bold text-sm text-gray-700",children:_e.label})]}),!["TODO","DONE","IN_PROGRESS"].includes(_e.id)&&l.jsx("button",{onClick:()=>ge(_e.id),className:"text-gray-400 hover:text-red-500 p-1 rounded transition-colors",children:l.jsx(Bt,{size:16})})]},_e.id))}),l.jsxs("div",{className:"flex gap-2 mb-6",children:[l.jsx("input",{type:"text",value:D,onChange:_e=>j(_e.target.value),placeholder:"Novo status (ex: Aguardando Aprov.)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 bg-white text-black"}),l.jsx("button",{onClick:te,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-indigo-700 transition-colors",children:"Adicionar"})]})]}),l.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:l.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100",children:"Concluir"})})]})}),b&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Ft,{size:20,className:"text-indigo-600"})," Agendar Obrigao"]}),l.jsx("button",{onClick:()=>y(!1),children:l.jsx(Vt,{size:20,className:"text-gray-400"})})]}),l.jsxs("form",{onSubmit:Se,className:"p-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Ttulo"}),l.jsx("input",{type:"text",required:!0,value:O,onChange:_e=>I(_e.target.value),placeholder:"Ex: Pagar Fornecedor X",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Data"}),l.jsx("input",{type:"date",required:!0,value:z,onChange:_e=>q(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Horrio"}),l.jsx("input",{type:"time",required:!0,value:F,onChange:_e=>Y(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Etapa / Status Inicial"}),l.jsx("select",{value:de,onChange:_e=>ce(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:k.map(_e=>l.jsx("option",{value:_e.id,children:_e.label},_e.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Descrio"}),l.jsx("textarea",{rows:3,value:M,onChange:_e=>R(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none resize-none text-sm bg-white text-black"})]}),l.jsx("button",{type:"submit",className:"w-full py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors text-sm mt-2",children:"Salvar na Agenda"})]})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(ma,{className:"text-indigo-600",size:28})," Agenda Financeira"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Visualize suas obrigaes e pagamentos previstos."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>N(!0),className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 text-sm transition-colors",children:[l.jsx(wo,{size:16})," Configurar"]}),l.jsxs("button",{onClick:()=>{q(s.toISOString().split("T")[0]),y(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm flex items-center gap-2 text-sm transition-colors",children:[l.jsx(Ft,{size:16})," Adicionar"]})]})]}),l.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 p-1.5 rounded-xl w-fit overflow-x-auto",children:[l.jsx("button",{onClick:J,className:"px-4 py-1.5 text-sm font-semibold text-indigo-600 hover:bg-white/50 rounded-lg transition-all",children:"Hoje"}),l.jsx("div",{className:"w-px h-5 bg-gray-300 mx-2"}),["WEEK","MONTH","SEMESTER","YEAR"].map(_e=>l.jsxs("button",{onClick:()=>d(_e),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-all whitespace-nowrap ${u===_e?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[_e==="WEEK"&&"Semana",_e==="MONTH"&&"Ms",_e==="SEMESTER"&&"Semestre",_e==="YEAR"&&"Ano"]},_e))]}),l.jsxs("div",{className:"flex items-center gap-4 px-2",children:[l.jsx("button",{onClick:()=>L("prev"),className:"p-2 rounded-full text-gray-600 hover:bg-gray-100",children:l.jsx(bo,{size:18})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[150px] justify-center text-gray-800 font-bold text-sm capitalize",children:[l.jsx(ma,{size:16,className:"text-indigo-600"}),U()]}),l.jsx("button",{onClick:()=>L("next"),className:"p-2 rounded-full text-gray-600 hover:bg-gray-100",children:l.jsx(Oi,{size:18})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6 overflow-hidden",children:[l.jsxs("div",{className:"w-full lg:w-2/5 bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col h-full overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"flex justify-end gap-2 mb-4 text-[10px] text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," Atrasado"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-400"})," Pendente"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Concludo"]})]}),Te()]}),l.jsxs("div",{className:"w-full lg:w-3/5 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex flex-col gap-3",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 capitalize flex items-center gap-2",children:G()}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="MONTH"?"Visualizando tarefas do ms":h==="YEAR"?"Visualizando tarefas do ano":"Tarefas dirias"})]})}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 custom-scrollbar",children:[l.jsxs("button",{onClick:()=>x("ALL"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all border ${g==="ALL"?"bg-white border-indigo-600 text-indigo-600 ring-1 ring-indigo-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:["Todos (",W.length,")"]}),k.map(_e=>l.jsxs("button",{onClick:()=>x(_e.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all border flex items-center gap-2 ${g===_e.id?"bg-white border-indigo-600 text-indigo-600 ring-1 ring-indigo-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${["DONE","PAID"].includes(_e.id)?"bg-green-500":_e.id==="TODO"?"bg-gray-400":"bg-blue-500"}`}),_e.label,l.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs text-gray-600 ml-1 border border-gray-200",children:ee[_e.id]||0})]},_e.id))]})]}),l.jsx("div",{className:"flex-1 overflow-hidden p-2",children:l.jsx(GT,{companyId:e.id,currentUser:t,tasks:H,onUpdate:r,isEmbedded:!0,stages:k,groupByStage:!1})})]})]})]})},fRe=({isOpen:e,onClose:t,onSave:r,categories:n,initialData:a})=>{const[i,s]=S.useState(1),[o,u]=S.useState("LOAN"),[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(""),[y,_]=S.useState(new Date().toISOString().split("T")[0]),[N,k]=S.useState(""),[A,D]=S.useState("12"),[j,O]=S.useState(""),[I,M]=S.useState(!0),[R,z]=S.useState([]),q=n.filter(ee=>ee.type===et.EXPENSE&&ee.active);if(S.useEffect(()=>{e&&(s(1),a?(u(a.type),h(a.title),g(a.provider||""),b(a.totalValue.toString()),_(a.acquisitionDate),k(a.validityEndDate||""),D(a.installmentsCount.toString()),O(""),M(!0)):(u("LOAN"),h(""),g(""),b(""),_(new Date().toISOString().split("T")[0]),k(""),D("12"),O(""),M(!0)),z([]))},[e,a]),!e)return null;const F=()=>{const ee=parseInt(A)||1,H=parseFloat(x)||0,L=Math.floor(H/ee*100)/100,J=H-L*ee,U=[],B=new Date(y);for(let se=0;se<ee;se++){const fe=new Date(B);fe.setMonth(B.getMonth()+se);const Te=se===0?L+J:L;U.push({id:se,date:fe.toISOString().split("T")[0],amount:parseFloat(Te.toFixed(2))})}z(U)},Y=()=>{if(!d||!x||!a&&!j){if(I&&!j&&!a){alert("Selecione uma categoria para gerar os lanamentos.");return}if(!d||!x){alert("Preencha os campos obrigatrios.");return}}I?(F(),s(2)):ce()},de=(ee,H,L)=>{const J=H==="amount"?parseFloat(L):L,U=R.map(B=>B.id===ee?{...B,[H]:J}:B);if(z(U),H==="amount"){const B=U.reduce((se,fe)=>se+(isNaN(fe.amount)?0:fe.amount),0);b(B.toFixed(2))}},ce=()=>{r({id:a==null?void 0:a.id,type:o,title:d,provider:m,totalValue:parseFloat(x),acquisitionDate:y,validityEndDate:o==="LICENSE"?N:void 0,installmentsCount:parseInt(A)||1,autoGenerate:I,customTransactions:I?R.map(ee=>({date:ee.date,amount:ee.amount})):void 0,categoryName:j}),t()},K=R.reduce((ee,H)=>ee+(H.amount||0),0),ae=(parseFloat(x)||0)-K,Z=Math.abs(ae)<.01?0:ae,W=Math.abs(Z)<.01;return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 text-white flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[i===1?l.jsx(Rl,{size:22}):l.jsx(Uh,{size:22}),i===1?a?"Editar Contrato":"Contrato de Longo Prazo":"Simulao de Pagamentos"]}),l.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:i===1?"Configure os detalhes do contrato para controle.":"Confira e ajuste as parcelas geradas."})]}),l.jsx("button",{onClick:t,className:"text-indigo-200 hover:text-white transition-colors bg-white/10 p-1.5 rounded-full",children:l.jsx(Vt,{size:20})})]}),i===1&&l.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto custom-scrollbar",children:[l.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"LOAN",label:"Emprstimo",desc:"Entrada de capital"},{id:"FINANCING",label:"Financiamento",desc:"Aquisio de bens"},{id:"LICENSE",label:"Licena/Software",desc:"Uso contnuo"}].map(ee=>l.jsxs("button",{type:"button",onClick:()=>u(ee.id),className:`flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all ${o===ee.id?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 bg-white text-gray-500 hover:border-gray-200 hover:bg-gray-50"}`,children:[l.jsx("span",{className:"font-bold text-sm",children:ee.label}),l.jsx("span",{className:"text-[10px] opacity-80",children:ee.desc})]},ee.id))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Ttulo do Contrato *"}),l.jsxs("div",{className:"relative",children:[l.jsx(fu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",required:!0,value:d,onChange:ee=>h(ee.target.value),placeholder:o==="LICENSE"?"Ex: Licena Adobe Cloud":"Ex: Capital de Giro",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-gray-900"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Valor Total (R$) *"}),l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"number",required:!0,step:"0.01",value:x,onChange:ee=>b(ee.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-semibold text-gray-900",placeholder:"0.00"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:o==="LICENSE"?"Meses de Vigncia":"N de Parcelas"}),l.jsxs("div",{className:"relative",children:[l.jsx(G5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"number",min:"1",value:A,onChange:ee=>D(ee.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-gray-900"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Incio / Aquisio"}),l.jsx("input",{type:"date",required:!0,value:y,onChange:ee=>_(ee.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm text-gray-700"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:["Categoria Contbil ",I&&"*"]}),l.jsxs("div",{className:"relative",children:[l.jsx(nS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsxs("select",{value:j,onChange:ee=>O(ee.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white",children:[l.jsx("option",{value:"",children:a?"Manter Atual":"Selecione..."}),q.map(ee=>l.jsx("option",{value:ee.name,children:ee.name},ee.id))]})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Instituio / Fornecedor"}),l.jsx("input",{type:"text",value:m,onChange:ee=>g(ee.target.value),placeholder:"Ex: Banco Ita, AWS, Google...",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm"})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex items-start gap-3",children:[l.jsx("div",{className:"mt-0.5",children:l.jsx("input",{id:"auto_gen",type:"checkbox",checked:I,onChange:ee=>M(ee.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"auto_gen",className:"block text-sm font-bold text-blue-900 cursor-pointer",children:a?"Regenerar lanamentos financeiros?":"Gerar lanamentos financeiros automaticamente"}),l.jsx("p",{className:"text-xs text-blue-700 mt-1",children:a?"Se marcado, apagar lanamentos futuros antigos e criar novos baseados nestes dados.":`Ao marcar esta opo, o sistema criar as ${A} despesas futuras no mdulo de Lanamentos.`})]})]})]}),i===2&&l.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-gray-50",children:[l.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 shadow-sm z-10 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total do Contrato"}),l.jsxs("p",{className:"text-xl font-bold text-indigo-900",children:["R$ ",parseFloat(x).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:`text-right ${W?"text-green-600":"text-red-600"}`,children:[l.jsxs("p",{className:"text-xs uppercase font-bold flex items-center justify-end gap-1",children:[!W&&l.jsx(Di,{size:12})," Diferena"]}),l.jsxs("p",{className:"text-xl font-bold",children:["R$ ",Z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs font-bold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left w-20",children:"#"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Vencimento Previsto"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Valor da Parcela"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map((ee,H)=>l.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 text-gray-500 font-mono",children:H+1}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"date",value:ee.date,onChange:L=>de(ee.id,"date",L.target.value),className:"bg-transparent border-b border-dashed border-gray-300 hover:border-indigo-400 focus:border-indigo-600 outline-none text-gray-800 font-medium w-full max-w-[140px]"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("div",{className:"relative inline-block w-full max-w-[120px]",children:[l.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:"R$"}),l.jsx("input",{type:"number",step:"0.01",value:ee.amount,onChange:L=>de(ee.id,"amount",L.target.value),className:"w-full text-right bg-transparent border-b border-dashed border-gray-300 hover:border-indigo-400 focus:border-indigo-600 outline-none font-bold text-gray-800 pl-6"})]})})]},ee.id))})]})})})]}),l.jsxs("div",{className:"p-5 border-t border-gray-200 flex gap-3 bg-white",children:[i===2&&l.jsxs("button",{type:"button",onClick:()=>s(1),className:"px-5 py-2.5 border border-gray-300 text-gray-600 font-medium rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors",children:[l.jsx(zg,{size:18})," Voltar"]}),l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-300 text-gray-600 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i===1?l.jsxs("button",{type:"button",onClick:Y,className:"flex-1 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-md flex items-center justify-center gap-2",children:[I?"Continuar":a?"Salvar Edio":"Salvar"," ",l.jsx(Kc,{size:18,className:I?"":"hidden"})]}):l.jsxs("button",{type:"button",onClick:ce,disabled:!W,className:`flex-1 py-2.5 text-white font-medium rounded-lg transition-colors shadow-md flex items-center justify-center gap-2 ${W?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:[l.jsx(ho,{size:18})," ",a?"Confirmar Edio":"Confirmar Contrato"]})]})]})})},hRe=({isOpen:e,onClose:t,onConfirm:r,transaction:n,accounts:a})=>{const[i,s]=S.useState(new Date().toISOString().split("T")[0]),[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(!1);S.useEffect(()=>{if(e&&n){s(new Date().toISOString().split("T")[0]),h(""),g("");const R=a.find(z=>z.status==="ACTIVE"&&z.balance>n.amount);R?u(R.id):a.length>0&&u(a[0].id)}},[e,n,a]);const y=n.amount,_=parseFloat(d)||0,N=parseFloat(m)||0,k=y+_-N,A=N>y,D=a.find(R=>R.id===o),j=D?D.balance:0,O=k>0?k:0,I=o?O>j:!1,M=R=>{R.preventDefault(),o&&(I||A||r({transactionId:n.id,date:i,amount:k,accountId:o,interest:_,discount:N}))};return e?l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-indigo-600 text-white",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(os,{size:20})," Baixar Parcela"]}),l.jsx("button",{onClick:t,className:"text-indigo-200 hover:text-white transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:M,className:"p-6 space-y-5",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-sm",children:[l.jsx("p",{className:"text-gray-500 mb-1 text-xs uppercase font-bold",children:"Referncia"}),l.jsx("p",{className:"font-semibold text-gray-800 line-clamp-1",children:n.description}),l.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-200",children:[l.jsx("span",{className:"text-gray-600",children:"Vencimento Original:"}),l.jsx("span",{className:"font-medium text-gray-800",children:new Date(n.date).toLocaleDateString("pt-BR")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Data Pagamento"}),l.jsxs("div",{className:"relative",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"date",required:!0,value:i,onChange:R=>s(R.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Valor Original"}),l.jsxs("div",{className:"w-full px-3 py-2 border border-gray-200 bg-gray-50 rounded-lg text-gray-600 font-bold text-sm text-right",children:["R$ ",y.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-red-600 uppercase mb-1 flex items-center gap-1",children:[l.jsx(ri,{size:12})," Juros / Multa"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"0,00",value:d,onChange:R=>h(R.target.value),className:"w-full px-3 py-2 border border-red-200 focus:border-red-500 rounded-lg focus:ring-2 focus:ring-red-200 outline-none text-red-700 font-medium text-right bg-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-green-600 uppercase mb-1 flex items-center gap-1",children:[l.jsx(ti,{size:12})," Desconto"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:y,placeholder:"0,00",value:m,onChange:R=>g(R.target.value),className:`w-full px-3 py-2 border rounded-lg outline-none font-medium text-right transition-all bg-white ${A?"border-red-500 focus:ring-red-200 text-red-600":"border-green-200 focus:border-green-500 focus:ring-2 focus:ring-green-200 text-green-700"}`}),A&&l.jsx("p",{className:"text-[10px] text-red-500 mt-1 font-bold text-right",children:"Excede valor original"})]})]}),l.jsx("hr",{className:"border-gray-100"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Conta de Sada"}),l.jsxs("select",{value:o,onChange:R=>u(R.target.value),required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"",children:"Selecione a conta..."}),a.map(R=>l.jsxs("option",{value:R.id,disabled:R.status!=="ACTIVE",children:[R.name," (",R.type==="BANK"?R.bankName:"Caixa",")"]},R.id))]}),o&&l.jsxs("div",{className:`flex justify-between items-center mt-2 px-3 py-2 rounded-lg text-xs border ${I?"bg-red-50 border-red-200 text-red-700":"bg-blue-50 border-blue-100 text-blue-700"}`,children:[l.jsxs("span",{className:"flex items-center gap-1 font-semibold",children:[l.jsx(ts,{size:12})," Saldo Disponvel:"]}),l.jsxs("span",{className:"font-bold text-sm",children:["R$ ",j.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 text-white p-4 rounded-xl shadow-inner",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(z5,{size:20,className:"text-gray-400"}),l.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Total a Pagar"})]}),l.jsxs("div",{className:"text-xl font-bold",children:["R$ ",k.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),I&&l.jsxs("div",{className:"flex items-start gap-2 text-red-600 text-xs bg-red-50 p-3 rounded-lg border border-red-100 animate-pulse",children:[l.jsx(BY,{size:16,className:"mt-0.5 flex-shrink-0"}),l.jsxs("span",{children:[l.jsx("b",{children:"Saldo Insuficiente!"})," No  possvel realizar a baixa. Verifique o saldo da conta selecionada ou escolha outra conta."]})]}),l.jsxs("div",{className:"pt-2 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",disabled:I||!o||A,className:`flex-1 py-3 text-white font-medium rounded-lg shadow-sm flex items-center justify-center gap-2 transition-all ${I||!o||A?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 hover:shadow-md"}`,children:[l.jsx(ho,{size:18})," Confirmar"]})]})]})]})}):null},mRe=({isOpen:e,onClose:t,item:r,transactions:n,accounts:a,onSettle:i})=>{const[s,o]=S.useState(!1),[u,d]=S.useState(null);if(!e)return null;const h=n.filter(N=>N.status==="PAID").length,m=n.length,g=n.filter(N=>N.status!=="PAID").reduce((N,k)=>N+k.amount,0),x=m>0?h/m*100:0,b=N=>{d(N),o(!0)},y=N=>{i(N)&&(o(!1),d(null))},_=N=>{if(N.status==="PAID")return l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-emerald-600",children:[l.jsx(Vn,{size:14})," Pago"]});const k=new Date;return k.setHours(0,0,0,0),new Date(N.date)<k?l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-red-600",children:[l.jsx($g,{size:14})," Atrasado"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-amber-600",children:[l.jsx(gv,{size:14})," Pendente"]})};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:[u&&l.jsx(hRe,{isOpen:s,onClose:()=>o(!1),onConfirm:y,transaction:u,accounts:a}),l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-indigo-600 p-6 text-white flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(Uh,{size:22}),"Detalhes do Contrato"]}),l.jsxs("p",{className:"text-indigo-100 text-sm mt-1 opacity-90",children:[r.title,"  ",r.provider||"Sem fornecedor"]})]}),l.jsx("button",{onClick:t,className:"text-indigo-200 hover:text-white transition-colors bg-white/10 p-1.5 rounded-full",children:l.jsx(Vt,{size:20})})]}),l.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 shadow-sm z-10 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total Contratado"}),l.jsxs("p",{className:"text-xl font-bold text-indigo-900",children:["R$ ",r.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold flex items-center justify-end gap-1",children:"Saldo Restante"}),l.jsxs("p",{className:"text-xl font-bold text-gray-700",children:["R$ ",g.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),l.jsx("div",{className:"h-1 w-full bg-gray-100",children:l.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${x}%`}})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 custom-scrollbar",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs font-bold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left w-16",children:"#"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Vencimento"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Descrio"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Ao"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map((N,k)=>l.jsxs("tr",{className:"hover:bg-indigo-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 text-gray-400 font-mono text-xs",children:k+1}),l.jsx("td",{className:"px-4 py-3 text-gray-700 font-medium",children:new Date(N.date).toLocaleDateString("pt-BR")}),l.jsxs("td",{className:"px-4 py-3 text-gray-600 text-xs truncate max-w-[150px]",title:N.description,children:[N.description,N.description.includes("Juros")&&l.jsx("span",{className:"ml-1 text-[10px] text-red-500 font-bold",children:"(Juros)"})]}),l.jsxs("td",{className:"px-4 py-3 text-right font-mono font-medium text-gray-800",children:["R$ ",N.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("td",{className:"px-4 py-3 text-center",children:_(N)}),l.jsx("td",{className:"px-4 py-3 text-center",children:N.status!=="PAID"?l.jsxs("button",{onClick:()=>b(N),className:"text-indigo-600 hover:text-white hover:bg-indigo-600 border border-indigo-200 hover:border-indigo-600 bg-white font-medium text-xs px-3 py-1 rounded transition-all flex items-center justify-center gap-1 mx-auto shadow-sm",children:[l.jsx(os,{size:12})," Baixar"]}):l.jsx("span",{className:"text-gray-300",children:l.jsx(Vn,{size:18,className:"mx-auto"})})})]},N.id)),n.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 italic",children:"Nenhuma parcela encontrada."})})]})]})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-xs text-gray-400",children:["Exibindo ",n.length," registros vinculados."]})})]})]})]})},pRe=({company:e,currentUser:t,onRefresh:r})=>{const[n,a]=S.useState(""),[i,s]=S.useState("ALL"),[o,u]=S.useState("ALL"),[d,h]=S.useState(new Date),[m,g]=S.useState(!1),[x,b]=S.useState(null),[y,_]=S.useState(null),[N,k]=S.useState([]),A=F5(e.id),D=fW(e.id),j=hW(e.id),O=(Z,W)=>{const ee=new Date(Z),H=new Date(Z);if(ee.setHours(0,0,0,0),H.setHours(23,59,59,999),W==="WEEK"){const L=ee.getDay(),J=ee.getDate()-L;ee.setDate(J),H.setDate(J+6)}else if(W==="MONTH")ee.setDate(1),H.setMonth(H.getMonth()+1,0);else if(W==="SEMESTER"){const J=ee.getMonth()<6?0:6;ee.setMonth(J,1),H.setMonth(J+6,0)}else if(W==="YEAR")ee.setMonth(0,1),H.setMonth(11,31);else if(W==="ALL")return{start:new Date("2000-01-01"),end:new Date("2100-12-31")};return{start:ee,end:H}},I=Z=>{if(o==="ALL")return;const W=new Date(d),ee=Z==="next"?1:-1;o==="WEEK"?W.setDate(W.getDate()+ee*7):o==="MONTH"?W.setMonth(W.getMonth()+ee):o==="SEMESTER"?W.setMonth(W.getMonth()+ee*6):o==="YEAR"&&W.setFullYear(W.getFullYear()+ee),h(W)},M=()=>{if(o==="ALL")return"Todo o Histrico";const{start:Z,end:W}=O(d,o),ee={year:"numeric",month:"long"};if(o==="WEEK")return`${Z.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${W.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`;if(o==="MONTH"){const H=Z.toLocaleDateString("pt-BR",ee);return H.charAt(0).toUpperCase()+H.slice(1)}else return o==="SEMESTER"?`${Z.getMonth()<6?"1 Semestre":"2 Semestre"} de ${Z.getFullYear()}`:Z.getFullYear().toString()},R=()=>{b(null),g(!0)},z=Z=>{x?IW(x.id,Z,t,Z.autoGenerate,Z.customTransactions,Z.categoryName):kW({companyId:e.id,title:Z.title,type:Z.type,totalValue:Z.totalValue,acquisitionDate:Z.acquisitionDate,validityEndDate:Z.validityEndDate,installmentsCount:Z.installmentsCount,provider:Z.provider,status:"ACTIVE"},t,Z.autoGenerate,Z.customTransactions,Z.categoryName),r()},q=(Z,W)=>{W.stopPropagation(),confirm("Tem certeza que deseja excluir este contrato e todos os seus lanamentos?")&&(jW(Z),r())},F=Z=>{const W=Qb(Z.id);_(Z),k(W)},Y=Z=>{const W=RW(Z.transactionId,Z.date,Z.amount,t,Z.accountId,Z.interest,Z.discount);if(W.success){if(y){const ee=Qb(y.id);k(ee)}return r(),!0}else return alert(W.message),!1},{start:de,end:ce}=S.useMemo(()=>O(d,o),[d,o]),K=A.filter(Z=>{const W=Z.title.toLowerCase().includes(n.toLowerCase())||Z.provider&&Z.provider.toLowerCase().includes(n.toLowerCase()),ee=i==="ALL"||Z.status===i;let H=!0;if(o!=="ALL"){const L=new Date(Z.acquisitionDate);L.setHours(0,0,0,0),H=L>=de&&L<=ce}return W&&ee&&H}),ae=A.filter(Z=>Z.status==="ACTIVE").reduce((Z,W)=>Z+W.totalValue,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(fRe,{isOpen:m,onClose:()=>g(!1),onSave:z,categories:D,initialData:x}),y&&l.jsx(mRe,{isOpen:!!y,onClose:()=>_(null),item:y,transactions:N,accounts:j,onSettle:Y}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Xd,{className:"text-indigo-600",size:28})," Gesto de Longo Prazo"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Controle de emprstimos, financiamentos e contratos recorrentes."})]}),l.jsxs("button",{onClick:R,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Contrato"]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 overflow-x-auto",children:[l.jsx("button",{onClick:()=>u("WEEK"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${o==="WEEK"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),l.jsx("button",{onClick:()=>u("MONTH"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${o==="MONTH"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),l.jsx("button",{onClick:()=>u("SEMESTER"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${o==="SEMESTER"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semestre"}),l.jsx("button",{onClick:()=>u("YEAR"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${o==="YEAR"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ano"}),l.jsxs("button",{onClick:()=>u("ALL"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors flex items-center gap-1 ${o==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:[l.jsx(rS,{size:14})," Geral"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>I("prev"),disabled:o==="ALL",className:`p-2 rounded-full text-gray-600 ${o==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),M()]}),l.jsx("button",{onClick:()=>I("next"),disabled:o==="ALL",className:`p-2 rounded-full text-gray-600 ${o==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:l.jsx(Rl,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Contratos Ativos"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.filter(Z=>Z.status==="ACTIVE").length})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg",children:l.jsx(os,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume Contratado"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",ae.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-purple-50 text-purple-600 rounded-lg",children:l.jsx(Uh,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Parcelas Pendentes"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L5(e.id).filter(Z=>Z.linkedLongTermItemId&&Z.status!=="PAID").length})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar contrato...",value:n,onChange:Z=>a(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>s("ALL"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsx("button",{onClick:()=>s("ACTIVE"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="ACTIVE"?"bg-white shadow text-green-600":"text-gray-500 hover:text-gray-700"}`,children:"Ativos"}),l.jsx("button",{onClick:()=>s("PAID"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="PAID"?"bg-white shadow text-gray-600":"text-gray-500 hover:text-gray-700"}`,children:"Quitados"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[K.map(Z=>{const ee=Qb(Z.id).filter(J=>J.status==="PAID").reduce((J,U)=>J+U.amount,0),H=Z.totalValue,L=H>0?ee/H*100:0;return l.jsxs("div",{onClick:()=>F(Z),className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md hover:border-indigo-300 transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${Z.type==="LOAN"?"bg-orange-50 text-orange-600":Z.type==="FINANCING"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:l.jsx(Rl,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:Z.title}),l.jsx("p",{className:"text-xs text-gray-500",children:Z.provider})]})]}),Z.status==="PAID"?l.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded",children:"QUITADO"}):l.jsx("span",{className:"bg-blue-100 text-blue-700 text-[10px] font-bold px-2 py-1 rounded",children:"ATIVO"})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Valor Total"}),l.jsxs("span",{className:"font-bold text-gray-900",children:["R$ ",Z.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Pago"}),l.jsxs("span",{className:"font-bold text-emerald-600",children:["R$ ",ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-emerald-500 h-2 rounded-full",style:{width:`${L}%`}})})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-xs text-gray-400",children:[Z.installmentsCount," Parcelas"]}),l.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:J=>{J.stopPropagation(),b(Z),g(!0)},className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(XK,{size:16})}),l.jsx("button",{onClick:J=>q(Z.id,J),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})]})]},Z.id)}),K.length===0&&l.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[l.jsx(hu,{size:48,className:"text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum contrato encontrado neste perodo."}),l.jsx("button",{onClick:R,className:"mt-4 text-indigo-600 font-bold text-sm hover:underline",children:"Adicionar Novo"})]})]})]})},gRe={LINEAR:"Linear (Linha Reta)",SUM_OF_YEARS:"Soma dos Dgitos (Acelerada)",DECLINING_BALANCE:"Saldos Decrescentes (Acelerada)",UNITS_OF_PRODUCTION:"Unidades Produzidas"},xRe=({isOpen:e,onClose:t,onSave:r,initialData:n,companyId:a})=>{const[i,s]=S.useState(""),[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState(""),[x,b]=S.useState(""),[y,_]=S.useState(""),[N,k]=S.useState("60"),[A,D]=S.useState("ACTIVE"),[j,O]=S.useState("LINEAR"),[I,M]=S.useState(""),[R,z]=S.useState(""),q=B5(a);if(S.useEffect(()=>{var Y,de;e&&(n?(s(n.name),u(n.categoryId||""),h(n.description||""),g(n.acquisitionDate),b(n.initialValue.toString()),_(n.residualValue.toString()),k(n.usefulLifeMonths.toString()),D(n.status),O(n.depreciationMethod||"LINEAR"),M(((Y=n.usageTotalEstimated)==null?void 0:Y.toString())||""),z(((de=n.usageCurrent)==null?void 0:de.toString())||"")):(s(""),u(""),h(""),g(new Date().toISOString().split("T")[0]),b(""),_("0"),k("60"),D("ACTIVE"),O("LINEAR"),M(""),z("")))},[e,n,a]),!e)return null;const F=Y=>{Y.preventDefault(),!(!i||!m||!x||!o)&&(r({id:n==null?void 0:n.id,name:i,categoryId:o,description:d,acquisitionDate:m,initialValue:parseFloat(x),residualValue:parseFloat(y)||0,usefulLifeMonths:parseInt(N)||1,status:A,depreciationMethod:j,usageTotalEstimated:I?parseFloat(I):void 0,usageCurrent:R?parseFloat(R):void 0}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(tS,{size:24,className:"text-indigo-600"}),n?"Editar Ativo":"Novo Ativo"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:F,className:"p-6 space-y-4 overflow-y-auto custom-scrollbar flex-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome do Ativo *"}),l.jsx("input",{type:"text",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Ex: Notebook Dell XPS 15",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Categoria *"}),l.jsxs("div",{className:"relative",children:[l.jsx(zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsxs("select",{required:!0,value:o,onChange:Y=>u(Y.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black text-sm",children:[l.jsx("option",{value:"",children:"Selecione a categoria..."}),q.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Descrio"}),l.jsx("textarea",{rows:2,value:d,onChange:Y=>h(Y.target.value),placeholder:"Detalhes adicionais (Srie, Localizao...)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none resize-none bg-white text-black"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Data de Aquisio *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"date",required:!0,value:m,onChange:Y=>g(Y.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Vida til (Meses) *"}),l.jsx("input",{type:"number",required:!0,min:"1",value:N,onChange:Y=>k(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Valor Original (R$) *"}),l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:x,onChange:Y=>b(Y.target.value),placeholder:"0.00",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-medium bg-white text-black"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Valor Residual (R$)"}),l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"number",step:"0.01",value:y,onChange:Y=>_(Y.target.value),placeholder:"0.00",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 space-y-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1 flex items-center gap-1",children:[l.jsx(du,{size:14})," Mtodo de Depreciao"]}),l.jsx("select",{value:j,onChange:Y=>O(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black",children:Object.entries(gRe).map(([Y,de])=>l.jsx("option",{value:Y,children:de},Y))})]}),j==="UNITS_OF_PRODUCTION"&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Capacidade Total"}),l.jsx("input",{type:"number",placeholder:"Ex: 100000 km",value:I,onChange:Y=>M(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Uso Atual (Acumulado)"}),l.jsx("input",{type:"number",placeholder:"Ex: 25000 km",value:R,onChange:Y=>z(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]})]}),l.jsxs("p",{className:"text-[10px] text-gray-500 italic",children:[j==="LINEAR"&&"Desgaste uniforme ao longo do tempo.",j==="SUM_OF_YEARS"&&"Maior depreciao nos anos iniciais (frao decrescente).",j==="DECLINING_BALANCE"&&"Taxa fixa sobre saldo (Double Declining - 200%).",j==="UNITS_OF_PRODUCTION"&&"Baseado no uso real da mquina/equipamento."]})]}),n&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Status"}),l.jsxs("select",{value:A,onChange:Y=>D(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"ACTIVE",children:"Ativo (Em uso)"}),l.jsx("option",{value:"SOLD",children:"Vendido"}),l.jsx("option",{value:"WRITTEN_OFF",children:"Baixado / Descartado"})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 bg-white",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsxs("button",{onClick:F,type:"button",className:"flex-1 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm flex items-center justify-center gap-2",children:[l.jsx(Yc,{size:18})," Salvar"]})]})]})})},vRe=({isOpen:e,onClose:t,categories:r,accountPlan:n,onCreate:a,onEdit:i,onDelete:s})=>{const[o,u]=S.useState(null),[d,h]=S.useState(""),[m,g]=S.useState("");if(!e)return null;const x=n.filter(N=>N.type==="ASSET"&&N.status==="ACTIVE"),b=N=>{u(N.id),h(N.name),g(N.linkedAccountPlanId||"")},y=()=>{u(null),h(""),g("")},_=()=>{d&&(o?i(o,{name:d,linkedAccountPlanId:m}):a({name:d,linkedAccountPlanId:m}),y())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(zl,{size:24,className:"text-indigo-600"})," Categorias de Ativos"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 mb-6",children:[l.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-3 uppercase",children:o?"Editar Categoria":"Nova Categoria"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Nome"}),l.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),placeholder:"Ex: Mquinas, Veculos...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Conta Contbil (Imobilizado)"}),l.jsxs("select",{value:m,onChange:N=>g(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"",children:"Selecione..."}),x.map(N=>l.jsxs("option",{value:N.id,children:[N.code," - ",N.name]},N.id))]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:_,disabled:!d,className:`flex-1 py-2 rounded-lg text-white font-medium text-sm transition-colors ${d?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"}`,children:o?"Atualizar":"Adicionar"}),o&&l.jsx("button",{onClick:y,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-white text-gray-600",children:"Cancelar"})]})]})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:[r.map(N=>{var k;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-100 group hover:border-indigo-200 transition-colors shadow-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-bold text-gray-800 block",children:N.name}),N.linkedAccountPlanId&&l.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[l.jsx(J2,{size:10}),((k=n.find(A=>A.id===N.linkedAccountPlanId))==null?void 0:k.name)||"Conta desconhecida"]})]}),l.jsxs("div",{className:"flex gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>b(N),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>s(N.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})]},N.id)}),r.length===0&&l.jsx("p",{className:"text-center text-gray-400 text-sm italic py-4",children:"Nenhuma categoria cadastrada."})]})]})]})})},yRe=({company:e,onRefresh:t})=>{const[r,n]=S.useState(!1),[a,i]=S.useState(!1),[s,o]=S.useState(null),[u,d]=S.useState(""),[h,m]=S.useState("GRID"),[g,x]=S.useState("ALL"),[b,y]=S.useState(new Date),[_,N]=S.useState("ALL"),k=OW(e.id),A=B5(e.id),D=bW(e.id),j=B=>{const se=new Date,fe=new Date(B.acquisitionDate),Te=B.initialValue-B.residualValue,te=se.getFullYear()-fe.getFullYear(),ge=se.getMonth()-fe.getMonth(),Se=Math.min(Math.max(0,te*12+ge),B.usefulLifeMonths),G=Se/12,_e=B.usefulLifeMonths/12;let ue=0;if(B.depreciationMethod==="LINEAR")ue=Te/B.usefulLifeMonths*Se;else if(B.depreciationMethod==="SUM_OF_YEARS"){const me=Math.ceil(_e),Re=me*(me+1)/2,je=Math.floor(G);for(let qe=0;qe<je;qe++){const ut=(me-qe)/Re;ue+=ut*Te}const We=G-je;if(We>0){const Oe=(me-je)/Re;ue+=Oe*Te*We}}else if(B.depreciationMethod==="DECLINING_BALANCE"){const me=_e>0?2/_e:0;let Re=B.initialValue;const je=Math.floor(G);for(let qe=0;qe<je;qe++){const Oe=Re*me;if(Re-Oe<B.residualValue){ue+=Re-B.residualValue,Re=B.residualValue;break}ue+=Oe,Re-=Oe}const We=G-je;if(We>0&&Re>B.residualValue){const qe=Re*me*We;Re-qe<B.residualValue?ue+=Re-B.residualValue:ue+=qe}}else if(B.depreciationMethod==="UNITS_OF_PRODUCTION"){const me=B.usageTotalEstimated||1,Re=B.usageCurrent||0;ue=Math.min(1,Re/me)*Te}ue>Te&&(ue=Te);const be=B.initialValue-ue,Le=Te>0?ue/Te*100:0;return{currentValue:be,accumulatedDepreciation:ue,progress:Math.min(100,Math.max(0,Le)),monthsRemaining:Math.max(0,B.usefulLifeMonths-Se)}},O=(B,se)=>{const fe=new Date(B),Te=new Date(B);if(fe.setHours(0,0,0,0),Te.setHours(23,59,59,999),se==="WEEK"){const te=fe.getDay(),ge=fe.getDate()-te;fe.setDate(ge),Te.setDate(ge+6)}else if(se==="MONTH")fe.setDate(1),Te.setMonth(Te.getMonth()+1,0);else if(se==="SEMESTER"){const ge=fe.getMonth()<6?0:6;fe.setMonth(ge,1),Te.setMonth(ge+6,0)}else if(se==="YEAR")fe.setMonth(0,1),Te.setMonth(11,31);else if(se==="ALL")return{start:new Date("1900-01-01"),end:new Date("2100-12-31")};return{start:fe,end:Te}},I=B=>{if(g==="ALL")return;const se=new Date(b),fe=B==="next"?1:-1;g==="WEEK"?se.setDate(se.getDate()+fe*7):g==="MONTH"?se.setMonth(se.getMonth()+fe):g==="SEMESTER"?se.setMonth(se.getMonth()+fe*6):g==="YEAR"&&se.setFullYear(se.getFullYear()+fe),y(se)},M=()=>{if(g==="ALL")return"Todo o Histrico";const{start:B,end:se}=O(b,g),fe={year:"numeric",month:"long"};if(g==="WEEK")return`${B.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})} a ${se.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric",year:"numeric"})}`;if(g==="MONTH"){const Te=B.toLocaleDateString("pt-BR",fe);return Te.charAt(0).toUpperCase()+Te.slice(1)}else return g==="SEMESTER"?`${B.getMonth()<6?"1 Semestre":"2 Semestre"} de ${B.getFullYear()}`:B.getFullYear().toString()},R=()=>{o(null),n(!0)},z=B=>{o(B),n(!0)},q=B=>{s?MW(s.id,B):DW({...B,companyId:e.id}),t()},F=B=>{confirm("Tem certeza que deseja excluir este ativo?")&&(PW(B),t())},Y=B=>{LW({...B,companyId:e.id}),t()},de=(B,se)=>{FW(B,se),t()},ce=B=>{confirm("Excluir categoria de ativo?")&&(BW(B),t())},{start:K,end:ae}=S.useMemo(()=>O(b,g),[b,g]),Z=k.filter(B=>{var ge;const se=((ge=A.find(Se=>Se.id===B.categoryId))==null?void 0:ge.name)||"",fe=B.name.toLowerCase().includes(u.toLowerCase())||se.toLowerCase().includes(u.toLowerCase());let Te=!0;if(g!=="ALL"){const Se=B.acquisitionDate.split("-"),G=new Date(parseInt(Se[0]),parseInt(Se[1])-1,parseInt(Se[2]));Te=G>=K&&G<=ae}let te=!0;return _!=="ALL"&&(te=B.status===_),fe&&Te&&te}),W=k.filter(B=>B.status==="ACTIVE"),ee=W.reduce((B,se)=>B+se.initialValue,0),H=W.reduce((B,se)=>B+j(se).currentValue,0),L=ee-H,J=B=>{switch(B){case"ACTIVE":return l.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-1 rounded bg-green-100 text-green-700",children:"Ativo"});case"SOLD":return l.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-1 rounded bg-indigo-100 text-indigo-700",children:"Vendido"});case"WRITTEN_OFF":return l.jsx("span",{className:"text-[10px] uppercase font-bold px-2 py-1 rounded bg-red-100 text-red-700",children:"Baixado"});default:return null}},U=B=>{switch(B){case"LINEAR":return"Linear";case"SUM_OF_YEARS":return"Soma Dgitos";case"DECLINING_BALANCE":return"Saldos Dec.";case"UNITS_OF_PRODUCTION":return"Unidades";default:return"Linear"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xRe,{isOpen:r,onClose:()=>n(!1),onSave:q,initialData:s,companyId:e.id}),l.jsx(vRe,{isOpen:a,onClose:()=>i(!1),categories:A,accountPlan:D,onCreate:Y,onEdit:de,onDelete:ce}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(tS,{className:"text-indigo-600",size:28})," Gesto de Ativos"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Controle de bens, depreciao e valor patrimonial."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>i(!0),className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(zl,{size:18})," Categorias"]}),l.jsxs("button",{onClick:R,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Ativo"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:l.jsx(os,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Investido (Ativos)"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",ee.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:l.jsx(Wc,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Atual (Book Value)"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",H.toLocaleString("pt-BR",{notation:"compact"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-lg",children:l.jsx(ti,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Depreciao Acumulada"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["R$ ",L.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 overflow-x-auto",children:[l.jsx("button",{onClick:()=>x("WEEK"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${g==="WEEK"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),l.jsx("button",{onClick:()=>x("MONTH"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${g==="MONTH"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),l.jsx("button",{onClick:()=>x("SEMESTER"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${g==="SEMESTER"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Semestre"}),l.jsx("button",{onClick:()=>x("YEAR"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${g==="YEAR"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:"Ano"}),l.jsxs("button",{onClick:()=>x("ALL"),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors flex items-center gap-1 ${g==="ALL"?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:[l.jsx(rS,{size:14})," Geral"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>I("prev"),disabled:g==="ALL",className:`p-2 rounded-full text-gray-600 ${g==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),M()]}),l.jsx("button",{onClick:()=>I("next"),disabled:g==="ALL",className:`p-2 rounded-full text-gray-600 ${g==="ALL"?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col lg:flex-row gap-4 justify-between items-center",children:[l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg w-full lg:w-auto overflow-x-auto",children:[l.jsx("button",{onClick:()=>N("ALL"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${_==="ALL"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Todos"}),l.jsx("button",{onClick:()=>N("ACTIVE"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${_==="ACTIVE"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Ativos"}),l.jsx("button",{onClick:()=>N("SOLD"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${_==="SOLD"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Vendidos"}),l.jsx("button",{onClick:()=>N("WRITTEN_OFF"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${_==="WRITTEN_OFF"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Baixados/Descartados"})]}),l.jsxs("div",{className:"flex gap-3 w-full lg:w-auto items-center",children:[l.jsxs("div",{className:"relative flex-1 lg:min-w-[300px]",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar ativo ou categoria...",value:u,onChange:B=>d(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-black bg-white"})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>m("LIST"),className:`p-2 rounded-md transition-all ${h==="LIST"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Lista",children:l.jsx(W5,{size:18})}),l.jsx("button",{onClick:()=>m("GRID"),className:`p-2 rounded-md transition-all ${h==="GRID"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,title:"Grade",children:l.jsx(q5,{size:18})})]})]})]}),h==="GRID"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(B=>{var Te;const se=j(B),fe=((Te=A.find(te=>te.id===B.categoryId))==null?void 0:Te.name)||"Sem Categoria";return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col justify-between hover:shadow-md transition-all",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:B.name}),l.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wide bg-gray-100 px-1.5 py-0.5 rounded",children:fe})]}),J(B.status)]}),l.jsxs("div",{className:"flex justify-between items-center mb-4 mt-2",children:[l.jsx("p",{className:"text-sm text-gray-500 line-clamp-1 flex-1 mr-2",children:B.description||"Sem descrio"}),l.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded border border-blue-100 flex items-center gap-1 whitespace-nowrap",children:[l.jsx(du,{size:10})," ",U(B.depreciationMethod)]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Valor Original"}),l.jsxs("span",{className:"font-medium",children:["R$ ",B.initialValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Valor Atual"}),l.jsxs("span",{className:"font-bold text-indigo-700",children:["R$ ",se.currentValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[l.jsxs("span",{children:["Depreciao (",se.progress.toFixed(0),"%)"]}),B.depreciationMethod==="UNITS_OF_PRODUCTION"&&l.jsxs("span",{children:[B.usageCurrent,"/",B.usageTotalEstimated," un."]})]}),l.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:l.jsx("div",{className:"bg-orange-400 h-1.5 rounded-full",style:{width:`${se.progress}%`}})})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[l.jsxs("p",{className:"text-xs text-gray-400",children:["Aq: ",new Date(B.acquisitionDate).toLocaleDateString("pt-BR")]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>z(B),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>F(B.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:l.jsx(Bt,{size:16})})]})]})]},B.id)})}),h==="LIST"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold text-xs uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Ativo"}),l.jsx("th",{className:"px-6 py-4",children:"Categoria"}),l.jsx("th",{className:"px-6 py-4",children:"Aquisio"}),l.jsx("th",{className:"px-6 py-4",children:"Mtodo"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Valor Original"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Depreciao"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Valor Atual"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(B=>{var Te;const se=j(B),fe=((Te=A.find(te=>te.id===B.categoryId))==null?void 0:Te.name)||"-";return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:[B.name,l.jsx("div",{className:"text-xs text-gray-400 font-normal",children:B.description})]}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:fe}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(B.acquisitionDate).toLocaleDateString("pt-BR")}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:l.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200",children:U(B.depreciationMethod)})}),l.jsxs("td",{className:"px-6 py-4 text-right",children:["R$ ",B.initialValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-4 text-right text-red-500",children:["- R$ ",se.accumulatedDepreciation.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-4 text-right font-bold text-indigo-700",children:["R$ ",se.currentValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 text-center",children:J(B.status)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>z(B),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>F(B.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})})]},B.id)})})]})}),Z.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-dashed border-gray-300",children:[l.jsx(pa,{size:48,className:"text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum ativo encontrado para o perodo selecionado."}),l.jsx("button",{onClick:R,className:"mt-4 text-indigo-600 font-bold text-sm hover:underline",children:"Cadastrar Ativo"})]})]})},_g={async fetchAccountPlan(e){const{data:t,error:r}=await Je.from("account_plans").select("*").eq("company_id",e).order("code",{ascending:!0});return r?(console.error("Error fetching account plan:",r),[]):t.map(n=>({id:n.id,companyId:n.company_id,code:n.code,name:n.name,type:n.type,nature:n.nature,parentId:n.parent_code,isSystemDefault:n.is_system_default,status:n.active?"ACTIVE":"INACTIVE"}))},async createAccountPlanItem(e){const{data:t,error:r}=await Je.from("account_plans").insert([{company_id:e.companyId,code:e.code,name:e.name,type:e.type,nature:e.nature,is_system_default:!1,active:!0}]).select().single();return r?(console.error("Error creating account plan:",r),null):{...e,id:t.id}},async updateAccountPlanItem(e,t){const{error:r}=await Je.from("account_plans").update({name:t.name,active:t.status==="ACTIVE"}).eq("id",e);return!r},async deleteAccountPlanItem(e){const{error:t}=await Je.from("account_plans").delete().eq("id",e);return t&&console.error("Error deleting account plan item:",t),!t}},wi={async fetchDRETemplate(e){const{data:t,error:r}=await Je.from("dre_templates").select("*").eq("company_id",e).eq("active",!0).limit(1).single();return r||!t?null:{id:t.id,name:t.name,companyId:t.company_id,structureType:t.structure_type,active:t.active,isSystemDefault:t.is_system_default}},async fetchDRELines(e){const{data:t,error:r}=await Je.from("dre_line_items").select(`
                *,
                dre_mappings (*)
            `).eq("template_id",e).order("order_index",{ascending:!0});return r?(console.error("Error fetching DRE lines:",r),[]):t.map(n=>{var a;return{id:n.id,templateId:n.template_id,name:n.name,type:n.type,order:n.order_index,parentId:n.parent_id,mappings:((a=n.dre_mappings)==null?void 0:a.map(i=>({id:i.id,type:i.linked_type,itemId:i.linked_id,operation:i.operation})))||[]}})},async cloneTemplate(e,t,r){const{data:n,error:a}=await Je.rpc("clone_dre_template",{source_template_id:e,new_name:t,p_company_id:r});return a?(console.error("Error cloning template:",a),null):n},async createTemplate(e,t){const{data:r}=await Je.from("dre_templates").select("id").eq("company_id",t).eq("is_system_default",!0).limit(1).single();if(r)return this.cloneTemplate(r.id,e,t);{const{data:n,error:a}=await Je.from("dre_templates").insert([{company_id:t,name:e,structure_type:"CUSTOM",is_system_default:!1}]).select().single();return a?null:n.id}},async fetchTemplates(e){const{data:t,error:r}=await Je.from("dre_templates").select("*").eq("company_id",e).order("is_system_default",{ascending:!1}).order("name",{ascending:!0});return r?[]:t.map(n=>({id:n.id,name:n.name,companyId:n.company_id,structureType:n.structure_type,active:n.active,isSystemDefault:n.is_system_default}))},async updateDRELine(e){const{error:t}=await Je.from("dre_line_items").update({name:e.name,type:e.type,order_index:e.order,parent_id:e.parentId}).eq("id",e.id);return t?(console.error("Error updating DRE line:",t),{success:!1,error:t.message||JSON.stringify(t)}):{success:!0}},async createDRELine(e){const{data:t,error:r}=await Je.from("dre_line_items").insert([{template_id:e.templateId,name:e.name,type:e.type,order_index:e.order,parent_id:e.parentId}]).select().single();return r?(console.error("Error creating DRE line:",r),{item:null,error:r.message||JSON.stringify(r)}):{item:{id:t.id,templateId:t.template_id,name:t.name,type:t.type,order:t.order_index,parentId:t.parent_id,mappings:[]}}},async deleteDRELine(e){const{error:t}=await Je.from("dre_line_items").delete().eq("id",e);return t?(console.error("Error deleting DRE line:",t),!1):!0},async updateDREMappings(e,t){const{error:r}=await Je.from("dre_mappings").delete().eq("line_item_id",e);if(r)return console.error("Error deleting old mappings:",r),!1;if(t.length===0)return!0;const{error:n}=await Je.from("dre_mappings").insert(t.map(a=>({line_item_id:e,linked_type:a.type,linked_id:a.itemId,operation:a.operation})));return n?(console.error("Error inserting new mappings:",n),!1):!0},async deleteTemplate(e){const{error:t}=await Je.from("dre_templates").delete().eq("id",e);return t?(console.error("Error deleting template:",t),!1):!0}},Eg=["#10b981","#059669","#047857","#0f766e","#0891b2","#ef4444","#dc2626","#b91c1c","#c2410c","#8b5cf6","#7c3aed","#6d28d9","#db2777","#be185d","#4f46e5","#4338ca","#6366f1","#374151","#4b5563","#334155"],bRe=({isOpen:e,onClose:t,onSave:r,initialData:n,accountPlanOptions:a})=>{const[i,s]=S.useState(""),[o,u]=S.useState(et.EXPENSE),[d,h]=S.useState(""),[m,g]=S.useState(Eg[0]),[x,b]=S.useState(!0),y=a.length>0;if(S.useEffect(()=>{e&&n?(s(n.name),u(n.type),h(n.linkedAccountPlanId||""),g(n.color||Eg[0]),b(n.active)):e&&(s(""),u(et.EXPENSE),h(""),g(Eg[0]),b(!0))},[e,n]),!e)return null;const _=N=>{N.preventDefault(),i&&(r({name:i,type:o,linkedAccountPlanId:d||null,color:m,active:x}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n?"Editar Categoria":"Nova Categoria"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:_,className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome da Categoria *"}),l.jsx("input",{type:"text",required:!0,value:i,onChange:N=>s(N.target.value),placeholder:y?"Ex: Alimentao, Vendas...":"Ex: Mercado, Lazer, Salrio...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder-gray-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Tipo *"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:o,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white appearance-none",children:[l.jsx("option",{value:et.EXPENSE,children:"Despesa"}),l.jsx("option",{value:et.INCOME,children:"Receita"})]}),l.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o===et.INCOME?l.jsx(ri,{size:16,className:"text-emerald-500"}):l.jsx(ti,{size:16,className:"text-red-500"})})]})]}),y&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Conta Contbil"}),l.jsxs("select",{value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"",children:"Nenhuma"}),a.sort((N,k)=>N.code.localeCompare(k.code)).map(N=>l.jsxs("option",{value:N.id,children:[N.code," ",N.name]},N.id))]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Vincule a uma conta do plano de contas para lanamentos contbeis"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Cor"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Eg.map(N=>l.jsx("button",{type:"button",onClick:()=>g(N),className:`w-8 h-8 rounded-full transition-all flex items-center justify-center ${m===N?"ring-2 ring-offset-2 ring-gray-400 scale-110":"hover:scale-105"}`,style:{backgroundColor:N},children:m===N&&l.jsx(ho,{size:14,className:"text-white"})},N))})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsx("label",{className:"font-semibold text-gray-800 text-sm",children:"Categoria Ativa"}),l.jsx("button",{type:"button",onClick:()=>b(!x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${x?"bg-gray-900":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:n?"Salvar Alteraes":"Criar"})]})]})]})})},wRe=({isOpen:e,onClose:t,onSave:r,initialData:n,allAccounts:a})=>{const[i,s]=S.useState(""),[o,u]=S.useState(""),[d,h]=S.useState(""),[m,g]=S.useState("ASSET"),[x,b]=S.useState("DEBIT"),[y,_]=S.useState(""),[N,k]=S.useState(!0),A=n==null?void 0:n.isSystemDefault,D=a.filter(O=>!n||O.id!==n.id);if(S.useEffect(()=>{e&&n?(s(n.code),u(n.name),h(n.parentId||""),g(n.type),b(n.nature),_(n.description||""),k(n.status==="ACTIVE")):e&&(s(""),u(""),h(""),g("ASSET"),b("DEBIT"),_(""),k(!0))},[e,n]),!e)return null;const j=O=>{O.preventDefault(),!A&&(!i||!o||(r({code:i,name:o,parentId:d||null,type:m,nature:x,description:y,status:N?"ACTIVE":"INACTIVE"}),t()))};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[A&&l.jsx(ki,{size:20,className:"text-gray-400"}),n?A?"Detalhes da Conta (Padro)":"Editar Conta":"Nova Conta"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[A&&l.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-xs text-blue-700 mb-4",children:"Esta conta faz parte do plano padro do sistema e no pode ser modificada. Voc pode criar novas subcontas vinculadas a ela."}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Cdigo *"}),l.jsx("input",{type:"text",required:!0,disabled:!!A,value:i,onChange:O=>s(O.target.value),placeholder:"Ex: 1.1.1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 disabled:bg-gray-100 disabled:text-gray-500 bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Conta Pai"}),l.jsxs("select",{value:d,disabled:!!A,onChange:O=>h(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white text-black disabled:bg-gray-100 disabled:text-gray-500",children:[l.jsx("option",{value:"",children:"Nenhuma (Conta Principal)"}),D.sort((O,I)=>O.code.localeCompare(I.code)).map(O=>l.jsxs("option",{value:O.id,children:[O.code," - ",O.name]},O.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome da Conta *"}),l.jsx("input",{type:"text",required:!0,disabled:!!A,value:o,onChange:O=>u(O.target.value),placeholder:"Ex: Caixa, Bancos, Fornecedores...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 disabled:bg-gray-100 disabled:text-gray-500 bg-white text-black"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Tipo *"}),l.jsxs("select",{value:m,disabled:!!A,onChange:O=>g(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white text-black disabled:bg-gray-100 disabled:text-gray-500",children:[l.jsx("option",{value:"ASSET",children:"Ativo"}),l.jsx("option",{value:"LIABILITY",children:"Passivo"}),l.jsx("option",{value:"EQUITY",children:"Patrimnio Lquido"}),l.jsx("option",{value:"REVENUE",children:"Receita"}),l.jsx("option",{value:"EXPENSE",children:"Despesa"}),l.jsx("option",{value:"COST",children:"Custo"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Natureza *"}),l.jsxs("select",{value:x,disabled:!!A,onChange:O=>b(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white text-black disabled:bg-gray-100 disabled:text-gray-500",children:[l.jsx("option",{value:"DEBIT",children:"Devedora"}),l.jsx("option",{value:"CREDIT",children:"Credora"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Descrio"}),l.jsx("textarea",{rows:3,value:y,disabled:!!A,onChange:O=>_(O.target.value),placeholder:"Descrio opcional da conta...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400 resize-none disabled:bg-gray-100 disabled:text-gray-500 bg-white text-black"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsx("label",{className:"font-semibold text-gray-800 text-sm",children:"Conta Ativa"}),l.jsx("button",{type:"button",disabled:!!A,onClick:()=>k(!N),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${N?"bg-gray-900":"bg-gray-200"} ${A?"opacity-50 cursor-not-allowed":""}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:A?"Fechar":"Cancelar"}),!A&&l.jsx("button",{type:"submit",className:"flex-1 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:n?"Salvar Alteraes":"Criar"})]})]})]})})},_Re=({isOpen:e,onClose:t,onSave:r,initialData:n,availableParents:a})=>{const[i,s]=S.useState(""),[o,u]=S.useState("EXPENSE"),[d,h]=S.useState(""),m=a.filter(x=>x.type==="GROUP"&&(!n||x.id!==n.id));if(S.useEffect(()=>{e&&n?(s(n.name),u(n.type),h(n.parentId||"")):e&&(s(""),u("EXPENSE"),h(""))},[e,n]),!e)return null;const g=x=>{x.preventDefault(),i&&(r({name:i,type:o,parentId:d||null}),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n?"Editar Linha":"Nova Linha"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome da Linha *"}),l.jsx("input",{type:"text",required:!0,value:i,onChange:x=>s(x.target.value),placeholder:"Ex: (-) Despesas com Marketing",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Tipo *"}),l.jsxs("select",{value:o,onChange:x=>u(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"REVENUE",children:"Receita"}),l.jsx("option",{value:"DEDUCTION",children:"Deduo"}),l.jsx("option",{value:"COST",children:"Custo"}),l.jsx("option",{value:"EXPENSE",children:"Despesa"}),l.jsx("option",{value:"TAX",children:"Imposto"}),l.jsx("option",{value:"SUBTOTAL",children:"Subtotal"}),l.jsx("option",{value:"GROUP",children:"Grupo"}),l.jsx("option",{value:"RESULT",children:"Resultado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Grupo Pai (opcional)"}),l.jsxs("select",{value:d,onChange:x=>h(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"",children:"Nenhum"}),m.map(x=>l.jsx("option",{value:x.id,children:x.name},x.id))]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm flex items-center justify-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""})," Salvar"]})]})]})]})})},ERe=({isOpen:e,onClose:t,onUpdate:r,lineItem:n,categories:a,accounts:i,readOnly:s=!1})=>{const[o,u]=S.useState([]),[d,h]=S.useState("CATEGORY"),[m,g]=S.useState(""),[x,b]=S.useState("ADD");if(S.useEffect(()=>{e&&n&&(u(n.mappings||[]),h("CATEGORY"),g(""),b("ADD"))},[e,n]),!e||!n)return null;const y=()=>{if(s||!m)return;if(o.some(j=>j.itemId===m&&j.type===d)){alert("Este item j est mapeado nesta linha.");return}const A={id:Math.random().toString(36).substr(2,9),type:d,itemId:m,operation:x},D=[...o,A];u(D),r(n.id,D),g("")},_=A=>{if(s)return;const D=o.filter(j=>j.id!==A);u(D),r(n.id,D)},N=A=>{var D,j;return A.type==="CATEGORY"?((D=a.find(O=>O.id===A.itemId))==null?void 0:D.name)||"Categoria Removida":((j=i.find(O=>O.id===A.itemId))==null?void 0:j.name)||"Conta Removida"},k=()=>d==="CATEGORY"?a:i;return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Mapeamento: ",l.jsx("span",{className:"text-indigo-600",children:n.name})]}),s&&l.jsx("span",{className:"text-xs text-orange-500 font-medium bg-orange-50 px-2 py-0.5 rounded-full border border-orange-100 mt-1 inline-block",children:"Modo Visualizao (Somente Leitura)"})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Mapeamentos Atuais"}),l.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[o.length===0&&l.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nenhum item mapeado."}),o.map(A=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-2 py-0.5 text-[10px] uppercase font-bold rounded border ${A.type==="CATEGORY","bg-white border-gray-200 text-gray-600"}`,children:A.type==="CATEGORY"?"Categoria":"Conta"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:N(A)}),l.jsx("span",{className:`px-1.5 py-0.5 text-[10px] rounded font-bold ${A.operation==="ADD"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.operation==="ADD"?"+":"-"})]}),!s&&l.jsx("button",{onClick:()=>_(A.id),className:"text-red-400 hover:text-red-600 transition-colors",children:l.jsx(Bt,{size:16})})]},A.id))]})]}),!s&&l.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Adicionar Mapeamento"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsx("div",{className:"col-span-1",children:l.jsxs("select",{value:d,onChange:A=>{h(A.target.value),g("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"CATEGORY",children:"Categoria"}),l.jsx("option",{value:"ACCOUNT",children:"Conta Contbil"})]})}),l.jsx("div",{className:"col-span-1",children:l.jsxs("select",{value:m,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"",children:"Selecione"}),k().map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))]})}),l.jsx("div",{className:"col-span-1",children:l.jsxs("select",{value:x,onChange:A=>b(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white",children:[l.jsx("option",{value:"ADD",children:"Somar (+)"}),l.jsx("option",{value:"SUBTRACT",children:"Subtrair (-)"})]})})]}),l.jsxs("button",{onClick:y,disabled:!m,className:`w-full py-2.5 rounded-lg text-white font-medium text-sm transition-colors flex items-center justify-center gap-2 ${m?"bg-gray-600 hover:bg-gray-700 shadow-sm":"bg-gray-300 cursor-not-allowed"}`,children:[l.jsx(Ft,{size:16})," Adicionar Mapeamento"]})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-100 flex justify-end",children:l.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"})})]})})},SRe=({isOpen:e,onClose:t,onSave:r,isCloning:n,baseTemplateName:a})=>{const[i,s]=S.useState("");if(!e)return null;const o=u=>{u.preventDefault(),i.trim()&&(r(i),s(""),t())};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[n?l.jsx(H5,{size:20,className:"text-indigo-600"}):l.jsx(Ft,{size:20,className:"text-green-600"}),n?"Duplicar Modelo":"Novo Modelo DRE"]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Vt,{size:20})})]}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[n&&a&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg p-3 text-xs text-indigo-700 mb-2",children:["Voc est criando uma cpia editvel baseada em: ",l.jsx("b",{children:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"Nome do Novo Modelo *"}),l.jsx("input",{type:"text",required:!0,autoFocus:!0,value:i,onChange:u=>s(u.target.value),placeholder:"Ex: DRE Gerencial 2024 - Customizado",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all bg-white text-black"})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:n?"Criar Cpia":"Criar Modelo"})]})]})]})})},t5=[{id:"dashboard",label:"Dashboard",icon:"LayoutDashboard"},{id:"ai_advisor",label:"IA Financeira",icon:"Bot"},{id:"transactions",label:"Lanamentos",icon:"CircleDollarSign"},{id:"goals",label:"Metas",icon:"Target"},{id:"prolabore",label:"Prolabore",icon:"Wallet"},{id:"cost_centers",label:"Centro de Custos",icon:"Tags"},{id:"accounts",label:"Contas",icon:"Landmark"},{id:"agenda",label:"Agenda",icon:"Calendar"},{id:"long_term",label:"Longo Prazo",icon:"CalendarRange"},{id:"assets",label:"Gesto de Ativos",icon:"Briefcase"},{id:"tools",label:"Ferramentas",icon:"Wrench"},{id:"reports",label:"Relatrios",icon:"FileText"},{id:"users",label:"Usurios",icon:"Users"},{id:"settings",label:"Configuraes",icon:"Settings"}],r5=[{id:"LayoutDashboard",icon:l.jsx(xv,{size:20})},{id:"Bot",icon:l.jsx(Bd,{size:20})},{id:"CircleDollarSign",icon:l.jsx(V5,{size:20})},{id:"Target",icon:l.jsx(Zd,{size:20})},{id:"Wallet",icon:l.jsx(ts,{size:20})},{id:"Tags",icon:l.jsx(zl,{size:20})},{id:"Landmark",icon:l.jsx(Wg,{size:20})},{id:"CalendarRange",icon:l.jsx(Xd,{size:20})},{id:"Briefcase",icon:l.jsx(Rl,{size:20})},{id:"Wrench",icon:l.jsx(Q5,{size:20})},{id:"FileText",icon:l.jsx(fu,{size:20})},{id:"Users",icon:l.jsx(Xc,{size:20})},{id:"Settings",icon:l.jsx(wo,{size:20})},{id:"Handshake",icon:l.jsx(eS,{size:20})},{id:"ListTodo",icon:l.jsx(Jd,{size:20})},{id:"Filter",icon:l.jsx(hu,{size:20})},{id:"Building2",icon:l.jsx(da,{size:20})},{id:"BarChart3",icon:l.jsx(du,{size:20})},{id:"Activity",icon:l.jsx(Wc,{size:20})},{id:"CreditCard",icon:l.jsx(Z2,{size:20})},{id:"Calendar",icon:l.jsx(ma,{size:20})}],TRe=({company:e,onRefresh:t})=>{const[r,n]=S.useState("COMPANY"),[a,i]=S.useState(""),[s,o]=S.useState([]),[u,d]=S.useState([]),[h,m]=S.useState([]),[g,x]=S.useState([]),b=async()=>{const V=await Qr.fetchCategories(e.id);V&&o(V);const oe=await _g.fetchAccountPlan(e.id);oe&&d(oe);const pe=await wi.fetchTemplates(e.id);pe&&m(pe)};S.useEffect(()=>{b()},[e.id,t]);const[y,_]=S.useState(null);S.useEffect(()=>{if(h.length>0&&!y){const V=h.find(oe=>oe.isSystemDefault);_(V?V.id:h[0].id)}},[h,y]);const N=h.find(V=>V.id===y);S.useEffect(()=>{let V=!0;return(async()=>{if(y){const pe=await wi.fetchDRELines(y);V&&x(pe)}else V&&x([])})(),()=>{V=!1}},[y,t]);const k=N==null?void 0:N.isSystemDefault,[A,D]=S.useState(!1),[j,O]=S.useState(null),[I,M]=S.useState(!1),[R,z]=S.useState(null),[q,F]=S.useState(!1),[Y,de]=S.useState(null),[ce,K]=S.useState(!1),[ae,Z]=S.useState(null),[W,ee]=S.useState(!1),[H,L]=S.useState(!1),[J,U]=S.useState([]),[B,se]=S.useState(null),[fe,Te]=S.useState(null),[te,ge]=S.useState(new Set),Se=V=>{const oe=new Set(te);oe.has(V)?oe.delete(V):oe.add(V),ge(oe)},[G,_e]=S.useState(null),[ue,be]=S.useState(null),Le=S.useRef(null),[me,Re]=S.useState(!1);S.useEffect(()=>{r==="MENU"&&U(M5(e.id))},[r,e.id]);const[je,We]=S.useState({name:e.name,cnpj:e.cnpj,phone:e.phone||"",address:e.address||"",primaryColor:e.primaryColor||"indigo",logo:e.logo||"",apiToken:e.apiToken||"",apiTokenDescription:e.apiTokenDescription||""});S.useEffect(()=>{We({name:e.name,cnpj:e.cnpj,phone:e.phone||"",address:e.address||"",primaryColor:e.primaryColor||"indigo",logo:e.logo||"",apiToken:e.apiToken||"",apiTokenDescription:e.apiTokenDescription||""})},[e]);const qe=async V=>{V.preventDefault(),await ka.updateCompany(e.id,je)?(alert("Dados da empresa atualizados com sucesso!"),t()):alert("Erro ao atualizar dados da empresa.")},Oe=V=>{var pe;const oe=(pe=V.target.files)==null?void 0:pe[0];if(oe){const xe=new FileReader;xe.onloadend=()=>{We(ve=>({...ve,logo:xe.result}))},xe.readAsDataURL(oe)}},ut=()=>{const V=Math.random().toString(36).substring(2,15),oe=Date.now().toString(36),pe=`sk_${e.id}_${oe}_${V}`;We(xe=>({...xe,apiToken:pe})),Re(!0)},ot=async()=>{confirm("Tem certeza? Integraes externas usando este token iro parar de funcionar.")&&(await ka.updateCompany(e.id,{apiToken:"",apiTokenDescription:""})?(We(oe=>({...oe,apiToken:"",apiTokenDescription:""})),alert("Token revogado com sucesso.")):alert("Erro ao revogar token."))},Rt=async()=>{if(confirm(`ATENO: Voc est prestes a remover seu acesso  empresa "${e.name}".

Esta ao NO APAGA a empresa, apenas remove voc da equipe.

Deseja continuar?`)){const V=await ka.leaveCompany(e.id);V.success?(alert("Voc saiu da empresa com sucesso. Voc ser redirecionado para sua carteira."),window.location.reload()):alert("No foi possvel sair: "+V.message)}},pn=async V=>{j?alert("Edio de categorias no implementada no backend ainda."):await Qr.createCategory({...V,companyId:e.id}),t()},kn=async V=>{confirm("Excluir categoria?")&&(await Qr.deleteCategory(V),t())},qt=async V=>{R?await _g.updateAccountPlanItem(R.id,V):await _g.createAccountPlanItem({...V,companyId:e.id}),t()},kr=async V=>{confirm("Excluir conta do plano?")&&(await _g.deleteAccountPlanItem(V),t())},ft=()=>{L(!0),ee(!0)},sr=()=>{L(!1),ee(!0)},Gn=async V=>{let oe=null;H&&y?oe=await wi.cloneTemplate(y,V,e.id):oe=await wi.createTemplate(V,e.id),oe?(await b(),_(oe),ee(!1)):alert("Erro ao criar modelo. Verifique se o modelo padro do sistema foi inicializado.")},or=async V=>{if(V&&confirm("Tem certeza que deseja excluir este modelo de DRE? Esta ao no pode ser desfeita."))if(await wi.deleteTemplate(V)){if(y===V){const pe=h.filter(xe=>xe.id!==V);pe.length>0?_(pe[0].id):_(null)}b()}else alert("Erro ao excluir o modelo. Verifique se existem dependncias.")},Sr=async V=>{if(!y||k)return;if(V.id)await wi.updateDRELine({...V,templateId:y})||alert("Erro ao atualizar linha.");else{const pe=g.reduce((ve,we)=>Math.max(ve,we.order),0);await wi.createDRELine({templateId:y,name:V.name,type:V.type,parentId:V.parentId||null,order:pe+1})||alert("Erro ao criar linha.")}const oe=await wi.fetchDRELines(y);x(oe),F(!1)},Pa=async V=>{if(k)return;if(g.some(pe=>pe.parentId===V)){alert("No  possvel excluir este item pois ele possui linhas dependentes (filhos). Mova ou exclua os itens filhos primeiro.");return}if(confirm("Excluir linha da DRE? Isso remover tambm os mapeamentos associados."))if(await wi.deleteDRELine(V)){const xe=await wi.fetchDRELines(y);x(xe)}else alert("Erro ao excluir linha.")},In=async(V,oe)=>{if(k)return;if(await wi.updateDREMappings(V,oe)){const xe=await wi.fetchDRELines(y);x(xe),K(!1)}else alert("Erro ao atualizar mapeamentos.")},kf=()=>{tW(e.id,J),alert("Menu atualizado com sucesso!"),t()},Eu=()=>{confirm("Deseja restaurar o menu padro do sistema?")&&(rW(e.id),t())},Su=V=>{const oe=t5.find(xe=>xe.id===V);if(!oe)return;const pe={id:Math.random().toString(36).substr(2,9),type:"ITEM",label:oe.label,icon:oe.icon,viewId:oe.id,active:!0};if(B){const xe=[...J],ve=we=>{for(const Me of we){if(Me.id===B&&Me.type==="GROUP")return Me.children=[...Me.children||[],pe],!0;if(Me.children&&ve(Me.children))return!0}return!1};if(ve(xe)){U(xe);return}}U([...J,pe])},Ls=()=>{const V={id:Math.random().toString(36).substr(2,9),type:"GROUP",label:"Novo Grupo",groupType:"COLLAPSIBLE",children:[],isExpanded:!0,active:!0};U([...J,V])},Fs=V=>{if(!B)return;const oe=pe=>{const xe=pe.findIndex(we=>we.id===B);if(xe===-1)return pe.map(we=>({...we,children:we.children?oe(we.children):void 0}));const ve=[...pe];return V==="up"&&xe>0?[ve[xe],ve[xe-1]]=[ve[xe-1],ve[xe]]:V==="down"&&xe<ve.length-1&&([ve[xe],ve[xe+1]]=[ve[xe+1],ve[xe]]),ve};U(oe(J))},qo=()=>{if(!B)return;const V=ve=>{for(const we of ve){if(we.id===B)return we.type==="GROUP"&&!!we.children&&we.children.length>0;if(we.children&&V(we.children))return!0}return!1},pe=V(J)?"Este grupo contm itens. Deseja exclu-lo e mover os itens para o nvel superior?":"Tem certeza que deseja remover este item?";if(!confirm(pe))return;const xe=ve=>ve.flatMap(we=>we.id===B?we.type==="GROUP"&&we.children&&we.children.length>0?we.children:[]:we.children?[{...we,children:xe(we.children)}]:[we]);U(xe(J)),se(null)},ya=(V,oe)=>{const pe=xe=>xe.map(ve=>ve.id===V?{...ve,active:!oe}:ve.children?{...ve,children:pe(ve.children)}:ve);U(pe(J))},Wo=V=>{Te({...V})},Bs=()=>{if(!fe)return;const V=oe=>oe.map(pe=>pe.id===fe.id?{...pe,label:fe.label,groupType:fe.groupType,icon:fe.icon,isExpanded:fe.isExpanded}:pe.children?{...pe,children:V(pe.children)}:pe);U(V(J)),Te(null)},Tu=(V,oe)=>{let pe=null;const xe=we=>{const Me=[];for(const Ve of we)if(Ve.id===oe)pe=Ve;else{const He={...Ve};Ve.children&&(He.children=xe(Ve.children)),Me.push(He)}return Me},ve=xe(V);return{item:pe,newList:ve}},Nu=(V,oe)=>{V.stopPropagation(),_e(oe.id),V.dataTransfer.effectAllowed="move",V.dataTransfer.setData("text/plain",oe.id)},Ko=(V,oe,pe)=>{V.preventDefault(),V.stopPropagation(),V.dataTransfer.dropEffect="move",be(oe&&oe!==G?oe:null)},Us=(V,oe,pe)=>{V.preventDefault(),V.stopPropagation(),be(null);const xe=V.dataTransfer.getData("text/plain");if(!xe||xe===oe)return;const{item:ve,newList:we}=Tu(J,xe);if(!ve)return;const Me=Ve=>{if(pe&&oe)return Ve.map(He=>He.id===oe?{...He,children:[...He.children||[],ve]}:He.children?{...He,children:Me(He.children)}:He);{const He=Ve.findIndex(Ue=>Ue.id===oe);if(He!==-1){const Ue=[...Ve];return Ue.splice(He,0,ve),Ue}return Ve.map(Ue=>Ue.children?{...Ue,children:Me(Ue.children)}:Ue)}};if(pe)U(Me(we));else{const Ve=we.findIndex(He=>He.id===oe);if(Ve!==-1){const He=[...we];He.splice(Ve,0,ve),U(He)}else U(Me(we))}_e(null)},Xl=V=>{V.preventDefault(),be(null);const oe=V.dataTransfer.getData("text/plain");if(!oe)return;const{item:pe,newList:xe}=Tu(J,oe);pe&&U([...xe,pe]),_e(null)},Au=s.filter(V=>V.name.toLowerCase().includes(a.toLowerCase())),Yo=u.filter(V=>V.name.toLowerCase().includes(a.toLowerCase())||V.code.includes(a)),Cu=()=>l.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300 space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[l.jsx(da,{className:"text-indigo-600",size:20})," Dados Cadastrais"]}),l.jsxs("form",{onSubmit:qe,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"w-24 h-24 rounded-xl bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden cursor-pointer hover:border-indigo-400 relative group",onClick:()=>{var V;return(V=Le.current)==null?void 0:V.click()},children:[je.logo?l.jsx("img",{src:je.logo,alt:"Logo",className:"w-full h-full object-contain"}):l.jsxs("div",{className:"text-center text-gray-400 group-hover:text-indigo-500",children:[l.jsx(qg,{size:24,className:"mx-auto mb-1"}),l.jsx("span",{className:"text-[10px] font-bold",children:"Logo"})]}),l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(oh,{size:20,className:"text-white"})})]}),l.jsx("input",{type:"file",ref:Le,onChange:Oe,accept:"image/*",className:"hidden"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Identidade Visual"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Carregue a logomarca da sua empresa. Recomendado: PNG com fundo transparente, 200x200px."}),l.jsx("button",{type:"button",onClick:()=>{var V;return(V=Le.current)==null?void 0:V.click()},className:"mt-2 text-indigo-600 text-xs font-bold hover:underline",children:"Alterar Imagem"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Razo Social / Nome"}),l.jsx("input",{type:"text",required:!0,value:je.name,onChange:V=>We({...je,name:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"CNPJ"}),l.jsx("input",{type:"text",required:!0,value:je.cnpj,onChange:V=>We({...je,cnpj:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Telefone"}),l.jsx("input",{type:"text",value:je.phone,onChange:V=>We({...je,phone:V.target.value}),placeholder:"(00) 00000-0000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Endereo"}),l.jsx("input",{type:"text",value:je.address,onChange:V=>We({...je,address:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black"})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Kg,{size:16})," Personalizao"]}),l.jsx("div",{className:"flex gap-3",children:["indigo","blue","emerald","red","violet","orange"].map(V=>l.jsx("button",{type:"button",onClick:()=>We({...je,primaryColor:V}),className:`w-8 h-8 rounded-full border-2 transition-all ${je.primaryColor===V?"border-gray-600 scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:`var(--color-${V}-600, ${V})`},title:V,children:je.primaryColor===V&&l.jsx(ho,{size:14,className:"text-white mx-auto"})},V))})]}),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm flex items-center gap-2 transition-colors",children:[l.jsx(Yc,{size:18})," Salvar Alteraes"]})})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(gY,{className:"text-orange-500",size:20})," Integrao e Acesso (Token)"]}),l.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Gere um ",l.jsx("b",{children:"Token de Acesso"})," para permitir que Consultores ou BPOs importem esta empresa para suas carteiras externas, ou para integrar com outros sistemas."]}),je.apiToken?l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"text-xs font-bold text-yellow-800 uppercase tracking-wider",children:"Token Ativo"}),l.jsxs("button",{onClick:ot,className:"text-red-600 hover:text-red-700 text-xs font-bold flex items-center gap-1",children:[l.jsx(Bt,{size:12})," Revogar"]})]}),l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:`font-mono text-sm bg-white border border-yellow-200 p-3 rounded-md break-all ${me?"text-gray-800":"text-gray-400 blur-sm select-none"}`,children:me?je.apiToken:"sk_"}),l.jsx("button",{onClick:()=>Re(!me),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-600 bg-white/80 rounded",title:me?"Ocultar":"Revelar",children:me?l.jsx(pE,{size:16}):l.jsx(D0,{size:16})})]}),l.jsxs("p",{className:"text-xs text-yellow-700 mt-2",children:[l.jsx(ki,{size:12,className:"inline mr-1"}),"Compartilhe este token apenas com BPOs ou Consultores de confiana. Eles podero importar sua empresa para a gesto deles."]})]})}):l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-center border-2 border-dashed border-gray-200",children:[l.jsx(sh,{className:"mx-auto text-gray-300 mb-3",size:32}),l.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-1",children:"Nenhum Token Ativo"}),l.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Gerar um token permite acesso externo seguro."}),l.jsx("button",{onClick:ut,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors",children:"Gerar Novo Token"})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-red-100 shadow-sm relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-red-500"}),l.jsxs("h3",{className:"text-lg font-bold text-red-900 mb-4 flex items-center gap-2",children:[l.jsx(sh,{className:"text-red-600",size:20})," Zona de Governana"]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 p-4 bg-red-50 rounded-lg border border-red-100",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-900",children:"Sair da Empresa / Remover da Carteira"}),l.jsxs("p",{className:"text-sm text-red-700 mt-1 max-w-lg",children:["Ao realizar esta ao, voc remover seu prprio acesso a esta empresa. A empresa ",l.jsx("b",{children:"NO"})," ser excluda e continuar acessvel para outros administradores."]})]}),l.jsxs("button",{onClick:Rt,className:"whitespace-nowrap px-4 py-2 bg-white border border-red-200 text-red-600 font-bold rounded-lg hover:bg-red-50 hover:border-red-300 shadow-sm transition-colors flex items-center gap-2",children:[l.jsx(Tg,{size:16,className:"rotate-180"}),"Sair da Empresa"]})]})]})]}),Jl=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categorias Financeiras"}),l.jsxs("button",{onClick:()=>{O(null),D(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2",children:[l.jsx(Ft,{size:16})," Nova Categoria"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:a,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-black"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Au.map(V=>l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex justify-between items-center group hover:border-indigo-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-gray-50",style:{color:V.color},children:V.type===et.INCOME?l.jsx(ri,{size:20}):l.jsx(ti,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:V.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded ${V.type===et.INCOME?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:V.type===et.INCOME?"Receita":"Despesa"}),!V.active&&l.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded",children:"Inativo"})]})]})]}),l.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:V.isSystemDefault?l.jsx("span",{title:"Padro do Sistema (Somente Leitura)",className:"p-1.5 text-gray-300 cursor-not-allowed",children:l.jsx(ki,{size:16})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{O(V),D(!0)},className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>kn(V.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:l.jsx(Bt,{size:16})})]})})]},V.id))})]}),Zl=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Plano de Contas (Contbil)"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Estrutura padro para Comrcio e Servio (Imutvel)."})]}),l.jsxs("button",{onClick:()=>{z(null),M(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2",children:[l.jsx(Ft,{size:16})," Nova Conta"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por cdigo ou nome...",value:a,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-black"})]}),l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium uppercase text-xs",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 w-32",children:"Cdigo"}),l.jsx("th",{className:"px-6 py-3",children:"Nome da Conta"}),l.jsx("th",{className:"px-6 py-3",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 w-24 text-center",children:"Status"}),l.jsx("th",{className:"px-6 py-3 w-24 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Yo.sort((V,oe)=>V.code.localeCompare(oe.code)).map(V=>{const oe=(V.code.match(/\./g)||[]).length,pe=V.isSystemDefault;return l.jsxs("tr",{className:`hover:bg-gray-50 group ${pe?"bg-gray-50/30":""}`,children:[l.jsx("td",{className:"px-6 py-3 font-mono text-gray-600",children:V.code}),l.jsx("td",{className:"px-6 py-3",children:l.jsxs("div",{style:{paddingLeft:`${oe*16}px`},className:"flex items-center gap-2",children:[oe>0&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),l.jsx("span",{className:`text-gray-900 ${oe===0?"font-bold":oe===1?"font-semibold":"font-medium"}`,children:V.name}),pe&&l.jsx("span",{title:"Conta do Sistema (Padro)",children:l.jsx(ki,{size:12,className:"text-gray-400"})})]})}),l.jsx("td",{className:"px-6 py-3",children:l.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:V.type})}),l.jsx("td",{className:"px-6 py-3 text-center",children:V.status==="ACTIVE"?l.jsx(ho,{size:16,className:"text-green-500 mx-auto"}):l.jsx(Vt,{size:16,className:"text-gray-300 mx-auto"})}),l.jsx("td",{className:"px-6 py-3 text-center",children:l.jsx("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:pe?l.jsx("button",{onClick:()=>{z(V),M(!0)},className:"text-gray-400 hover:text-indigo-600",title:"Visualizar",children:l.jsx(D0,{size:16})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{z(V),M(!0)},className:"text-indigo-600 hover:bg-indigo-50 p-1.5 rounded",title:"Editar",children:l.jsx(_n,{size:16})}),l.jsx("button",{onClick:()=>kr(V.id),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Excluir",children:l.jsx(Bt,{size:16})})]})})})]},V.id)})})]})})]}),X=V=>{const oe=[],pe=new Map,xe=[...V].sort((ve,we)=>ve.order-we.order);return xe.forEach(ve=>{pe.set(ve.id,{...ve,children:[]})}),xe.forEach(ve=>{ve.parentId&&pe.has(ve.parentId)?pe.get(ve.parentId).children.push(pe.get(ve.id)):oe.push(pe.get(ve.id))}),oe},le=V=>{switch(V){case"REVENUE":return"bg-green-100 text-green-700 border-green-200";case"DEDUCTION":return"bg-orange-100 text-orange-700 border-orange-200";case"COST":return"bg-red-50 text-red-700 border-red-100";case"EXPENSE":return"bg-red-100 text-red-700 border-red-200";case"TAX":return"bg-purple-100 text-purple-700 border-purple-200";case"SUBTOTAL":return"bg-blue-100 text-blue-700 border-blue-200";case"RESULT":return"bg-slate-900 text-white border-slate-700";case"GROUP":return"bg-gray-100 text-gray-600 border-gray-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},re=V=>{switch(V){case"REVENUE":return"receita";case"DEDUCTION":return"deducao";case"COST":return"custo";case"EXPENSE":return"despesa";case"TAX":return"imposto";case"SUBTOTAL":return"subtotal";case"RESULT":return"total";case"GROUP":return"grupo";default:return V.toLowerCase()}},ne=()=>{const V=X(g),oe=(pe,xe=0)=>{var Wt;const ve=pe.children&&pe.children.length>0,we=te.has(pe.id),Me=pe.type==="RESULT",Ve=pe.type==="SUBTOTAL",He=pe.type==="GROUP";let Ue="flex items-center justify-between p-3 border-b border-gray-100 last:border-0 transition-all select-none ";Me?Ue+="bg-slate-900 hover:bg-slate-800 text-white shadow-sm my-1 rounded-lg border-none ":Ve?Ue+="bg-blue-50/50 hover:bg-blue-50 text-slate-800 ":He?Ue+="bg-gray-50 hover:bg-gray-100 text-gray-800 ":Ue+="bg-white hover:bg-white text-gray-600 hover:text-gray-900 ";let Ge="text-sm transition-colors ";Me?Ge+="font-bold text-white uppercase tracking-wide ":Ve?Ge+="font-bold text-slate-700 uppercase tracking-tight ":He?Ge+="font-semibold text-gray-800 ":Ge+="font-medium ";const nt=xe*20+12;return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:Ue,style:{paddingLeft:`${nt}px`},onClick:()=>(ve||He)&&Se(pe.id),children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"w-6 flex justify-center shrink-0",children:ve||He?l.jsx("button",{className:`p-1 rounded transition-transform duration-200 ${we?"rotate-90":""} ${Me?"text-white/70 hover:text-white":"text-gray-400 hover:text-indigo-600"}`,children:l.jsx(Oi,{size:14})}):xe>0&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-200"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:Ge,children:pe.name}),pe.code&&l.jsx("span",{className:`text-[10px] ${Me?"text-white/40":"text-gray-300"} font-mono`,children:pe.code})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border border-opacity-50 font-bold uppercase tracking-wider ${le(pe.type)}`,children:re(pe.type)}),pe.mappings&&pe.mappings.length>0&&l.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded border border-gray-200 bg-white shadow-sm flex items-center gap-1 font-medium ${Me?"text-slate-800":"text-gray-500"}`,title:`${pe.mappings.length} conta(s) ou categoria(s) vinculadas`,children:[l.jsx(gE,{size:10,className:"text-indigo-500"}),pe.mappings.length]})]})]}),l.jsx("div",{className:"flex items-center gap-1 pl-4",onClick:Ht=>Ht.stopPropagation(),children:k?Me?null:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{Z(pe),K(!0)},className:"p-1.5 rounded transition-colors text-gray-400 hover:text-indigo-600 hover:bg-indigo-50",title:"Visualizar Mapeamentos",children:l.jsx(D0,{size:14})}),l.jsx(ki,{size:12,className:"text-gray-300",title:"Somente Leitura"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{Z(pe),K(!0)},className:"p-1.5 hover:bg-gray-100 rounded text-gray-400 hover:text-indigo-600",title:"Mapear",children:l.jsx(gE,{size:14})}),l.jsx("button",{onClick:()=>{de(pe),F(!0)},className:"p-1.5 hover:bg-gray-100 rounded text-gray-400 hover:text-blue-600",title:"Editar",children:l.jsx(_n,{size:14})}),l.jsx("button",{onClick:()=>Pa(pe.id),className:"p-1.5 hover:bg-red-50 rounded text-gray-400 hover:text-red-500",title:"Excluir",children:l.jsx(Bt,{size:14})})]})})]}),ve&&we&&l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-[20px] top-0 bottom-0 w-px bg-gray-100 z-0"}),l.jsx("div",{className:"relative z-10",children:(Wt=pe.children)==null?void 0:Wt.map(Ht=>oe(Ht,xe+1))})]})]},pe.id)};return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300 p-2",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col items-start gap-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Selecione o Modelo de DRE"}),l.jsx("p",{className:"text-gray-500 text-sm -mt-3",children:"Escolha um dos modelos abaixo para visualizar e configurar a estrutura."}),l.jsxs("div",{className:"flex flex-wrap gap-4 w-full",children:[h.map(pe=>{const xe=y===pe.id;return l.jsxs("div",{onClick:()=>_(pe.id),className:`group relative flex items-center gap-3 px-4 py-3 rounded-xl border-2 transition-all cursor-pointer min-w-[240px] ${xe?"bg-indigo-50 border-indigo-500 shadow-sm":"bg-white border-gray-100 hover:border-gray-200 hover:shadow-sm"}`,children:[l.jsx("div",{className:`p-2.5 rounded-lg ${xe?"bg-indigo-100/50 text-indigo-600":"bg-gray-100 text-gray-400 group-hover:bg-gray-200"}`,children:l.jsx(_j,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:`font-bold text-sm ${xe?"text-indigo-900":"text-gray-900"}`,children:pe.name}),l.jsx("div",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wide",children:pe.isSystemDefault?"Modelo de Sistema":"Personalizado"})]}),xe&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(ho,{size:14,className:"text-indigo-600"})}),l.jsxs("div",{className:`absolute right-2 bottom-2 flex gap-1 ${xe?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:[l.jsx("button",{onClick:ve=>{ve.stopPropagation(),ft()},className:"p-1.5 bg-white border border-gray-200 rounded hover:bg-gray-50 hover:text-indigo-600 text-gray-400 shadow-sm",title:"Duplicar Modelo",children:l.jsx(H5,{size:12})}),!pe.isSystemDefault&&l.jsx("button",{onClick:ve=>{ve.stopPropagation(),or(pe.id)},className:"p-1.5 bg-white border border-gray-200 rounded hover:bg-red-50 hover:text-red-500 text-gray-400 shadow-sm",title:"Excluir Modelo",children:l.jsx(Bt,{size:12})})]})]},pe.id)}),l.jsxs("button",{onClick:sr,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl border-2 border-dashed border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/50 hover:text-indigo-600 text-gray-400 transition-all font-bold text-sm min-w-[160px]",children:[l.jsx(Ft,{size:18}),"Novo Modelo"]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h4",{className:"text-md font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(nS,{size:18,className:"text-indigo-600"})," Estrutura de ",N==null?void 0:N.name]}),!k&&l.jsxs("button",{onClick:()=>{de(null),F(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-sm",children:[l.jsx(Ft,{size:14})," Adicionar Linha"]})]}),l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:V.length>0?l.jsx("div",{className:"divide-y divide-gray-50",children:V.map(pe=>oe(pe))}):l.jsxs("div",{className:"p-12 text-center text-gray-400",children:[l.jsx(_j,{size:32,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Estrutura vazia. Selecione outro modelo ou crie linhas."})]})})]})]})},ie=()=>{const V=(oe,pe=0)=>{var Ue;const xe=B===oe.id,ve=oe.active!==!1,we=ue===oe.id;let Me="";xe?Me="bg-indigo-50 border-l-4 border-l-indigo-600":(Me="border-l-4 border-l-transparent",pe>0?Me+=" bg-slate-50 hover:bg-slate-100":Me+=" bg-white hover:bg-gray-50"),we&&(oe.type==="GROUP"?Me+=" ring-2 ring-indigo-400 ring-inset bg-indigo-50":Me+=" border-t-2 border-t-indigo-500");const Ve=pe*28+12,He=((Ue=r5.find(Ge=>Ge.id===oe.icon))==null?void 0:Ue.icon)||l.jsx(LY,{size:18});return l.jsxs(dv.Fragment,{children:[l.jsxs("div",{draggable:!0,onDragStart:Ge=>Nu(Ge,oe),onDragOver:Ge=>Ko(Ge,oe.id,oe.type==="GROUP"),onDrop:Ge=>Us(Ge,oe.id,oe.type==="GROUP"),onClick:()=>se(oe.id),className:`flex items-center justify-between p-3 border-b border-gray-100 cursor-pointer transition-colors ${Me} ${ve?"":"opacity-50 grayscale"} ${G===oe.id?"opacity-30 border-2 border-dashed border-gray-400":""}`,style:{paddingLeft:`${Ve}px`},children:[l.jsxs("div",{className:"flex items-center gap-3 relative",children:[l.jsx(Q2,{size:14,className:"text-gray-300 cursor-grab active:cursor-grabbing"}),pe>0&&l.jsx(GK,{size:14,className:"text-gray-300 absolute -left-5 top-1/2 -translate-y-1/2"}),oe.type==="GROUP"?l.jsx(bj,{size:18,className:"text-indigo-500 flex-shrink-0"}):l.jsx("span",{className:"text-gray-500",children:He}),l.jsxs("div",{children:[l.jsx("span",{className:`text-sm ${oe.type==="GROUP"?"font-bold text-gray-800":"text-gray-700"} ${ve?"":"line-through"}`,children:oe.label}),oe.type==="GROUP"&&l.jsx("span",{className:"ml-2 text-[10px] bg-white border border-gray-200 text-gray-500 px-1.5 py-0.5 rounded shadow-sm",children:oe.groupType==="FIXED"?"Fixo":"Expansvel"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),ya(oe.id,ve)},className:`p-1.5 rounded transition-colors ${ve?"text-gray-400 hover:text-green-600":"text-gray-300 hover:text-green-600"}`,title:ve?"Inativar":"Ativar",children:ve?l.jsx(D0,{size:14}):l.jsx(pE,{size:14})}),l.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),Wo(oe)},className:"p-1.5 text-gray-400 hover:text-indigo-600 rounded",children:l.jsx(_n,{size:14})}),xe&&l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"})]})]}),oe.children&&oe.children.map(Ge=>V(Ge,pe+1))]},oe.id)};return l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"w-full lg:w-1/3 space-y-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-3 text-sm flex items-center gap-2",children:[l.jsx(Ft,{size:16,className:"text-green-600"})," Adicionar Item"]}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecione um grupo na lista ao lado para adicionar itens dentro dele."}),l.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:t5.map(oe=>l.jsxs("button",{onClick:()=>Su(oe.id),className:"w-full flex items-center justify-between p-2 rounded-lg border border-gray-100 hover:border-indigo-200 hover:bg-indigo-50 transition-all text-sm group",children:[l.jsx("span",{className:"text-gray-600 group-hover:text-indigo-700",children:oe.label}),l.jsx(Ft,{size:14,className:"opacity-0 group-hover:opacity-100 text-indigo-500"})]},oe.id))})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[l.jsx("h4",{className:"font-bold text-blue-800 mb-2 text-sm",children:"Estrutura"}),l.jsxs("button",{onClick:Ls,className:"w-full py-2 bg-white border border-blue-200 text-blue-700 font-bold rounded-lg shadow-sm hover:bg-blue-50 transition-colors text-sm flex items-center justify-center gap-2",children:[l.jsx(bj,{size:16})," Criar Grupo"]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-2 text-sm flex items-center gap-2",children:[l.jsx(wj,{size:16})," Organizao"]}),l.jsxs("ul",{className:"text-xs text-gray-500 mb-2 list-disc pl-4 space-y-1",children:[l.jsxs("li",{children:["Arraste ",l.jsx("b",{children:"sobre um Grupo"})," para aninhar."]}),l.jsxs("li",{children:["Arraste ",l.jsx("b",{children:"sobre um Item"})," para reordenar (inserir antes)."]}),l.jsxs("li",{children:["Arraste para a rea pontilhada abaixo para ",l.jsx("b",{children:"mover para a Raiz"}),"."]})]})]})]}),l.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col",onDragOver:oe=>Ko(oe),onDrop:Xl,children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Ag,{size:18,className:"text-indigo-600"})," Menu Atual"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>Fs("up"),disabled:!B,className:"p-2 border bg-white rounded hover:bg-gray-100 disabled:opacity-50",children:l.jsx(rK,{size:16})}),l.jsx("button",{onClick:()=>Fs("down"),disabled:!B,className:"p-2 border bg-white rounded hover:bg-gray-100 disabled:opacity-50",children:l.jsx(XW,{size:16})}),l.jsx("button",{onClick:qo,disabled:!B,className:"p-2 border border-red-200 bg-red-50 text-red-600 rounded hover:bg-red-100 disabled:opacity-50",children:l.jsx(Bt,{size:16})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto min-h-[400px] bg-white relative",children:[J.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[l.jsx(Ag,{size:48,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:"O menu est vazio."})]}):l.jsx("div",{className:"divide-y divide-gray-50",children:J.map(oe=>V(oe))}),l.jsx("div",{onDragOver:Xl,onDrop:Xl,className:`p-6 m-2 border-2 border-dashed rounded-lg flex items-center justify-center text-xs font-bold uppercase tracking-wider transition-colors ${ue===null&&G?"border-blue-400 bg-blue-50 text-blue-600 scale-[1.01]":"border-gray-200 text-gray-400 hover:border-gray-300"}`,children:"Solte aqui para Mover para a Raiz"})]}),l.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-between",children:[l.jsxs("button",{onClick:Eu,className:"text-sm text-red-600 hover:underline flex items-center gap-1",children:[l.jsx(aS,{size:14})," Restaurar Padro"]}),l.jsxs("button",{onClick:kf,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold shadow-sm transition-colors flex items-center gap-2",children:[l.jsx(Yc,{size:18})," Salvar Menu"]})]})]}),fe&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[85vh]",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(_n,{size:18,className:"text-indigo-600"}),"Editar ",fe.type==="GROUP"?"Grupo":"Item"]}),l.jsx("button",{onClick:()=>Te(null),children:l.jsx(Vt,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),l.jsxs("div",{className:"p-5 space-y-5 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Rtulo / Nome"}),l.jsx("input",{type:"text",value:fe.label,onChange:oe=>Te({...fe,label:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white text-black"})]}),fe.type==="GROUP"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Comportamento"}),l.jsxs("select",{value:fe.groupType,onChange:oe=>Te({...fe,groupType:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black text-sm",children:[l.jsx("option",{value:"FIXED",children:"Fixo (Cabealho de Seo)"}),l.jsx("option",{value:"COLLAPSIBLE",children:"Expansvel (Accordion)"})]}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:fe.groupType==="FIXED"?"Itens filhos ficaro sempre visveis. Use para separar sees grandes.":"Usurio pode abrir e fechar o grupo. Ideal para submenus."})]}),fe.groupType==="COLLAPSIBLE"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("input",{type:"checkbox",id:"isExpanded",checked:!!fe.isExpanded,onChange:oe=>Te({...fe,isExpanded:oe.target.checked}),className:"rounded text-indigo-600 focus:ring-indigo-500 bg-white"}),l.jsx("label",{htmlFor:"isExpanded",className:"text-sm text-gray-700 cursor-pointer select-none",children:"Expandido por Padro?"})]})]}),fe.type==="ITEM"&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-2 flex items-center gap-1",children:[l.jsx(wj,{size:12})," cone"]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 p-2 bg-gray-50 rounded-lg border border-gray-200 h-32 overflow-y-auto custom-scrollbar",children:r5.map(oe=>l.jsx("button",{onClick:()=>Te({...fe,icon:oe.id}),className:`p-2 rounded flex items-center justify-center transition-all ${fe.icon===oe.id?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 border border-gray-100"}`,title:oe.id,children:oe.icon},oe.id))})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:l.jsx("button",{onClick:Bs,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg font-bold text-sm hover:bg-indigo-700 shadow-sm transition-colors",children:"Confirmar Alteraes"})})]})})]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(bRe,{isOpen:A,onClose:()=>D(!1),onSave:pn,initialData:j,accountPlanOptions:u}),l.jsx(wRe,{isOpen:I,onClose:()=>M(!1),onSave:qt,initialData:R,allAccounts:u}),l.jsx(_Re,{isOpen:q,onClose:()=>F(!1),onSave:Sr,initialData:Y,availableParents:g}),l.jsx(ERe,{isOpen:ce,onClose:()=>K(!1),onUpdate:In,lineItem:ae,categories:s,accounts:u,readOnly:k}),l.jsx(SRe,{isOpen:W,onClose:()=>ee(!1),onSave:Gn,isCloning:H,baseTemplateName:N==null?void 0:N.name}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-600 text-white rounded-lg",children:l.jsx(wo,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"}),l.jsx("p",{className:"text-gray-500",children:"Gerencie categorias, plano de contas, dados da empresa e menu."})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[l.jsx("button",{onClick:()=>{n("COMPANY"),i("")},className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${r==="COMPANY"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(da,{size:16})," Empresa"]})}),l.jsx("button",{onClick:()=>{n("CATEGORIES"),i("")},className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${r==="CATEGORIES"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zl,{size:16})," Categorias"]})}),l.jsx("button",{onClick:()=>{n("ACCOUNT_PLAN"),i("")},className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${r==="ACCOUNT_PLAN"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(J2,{size:16})," Plano de Contas"]})}),l.jsx("button",{onClick:()=>{n("DRE_CONFIG"),i("")},className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${r==="DRE_CONFIG"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fu,{size:16})," Configurao DRE"]})}),l.jsx("button",{onClick:()=>{n("MENU"),i("")},className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${r==="MENU"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ag,{size:16})," Menu"]})})]}),l.jsxs("div",{className:"min-h-[400px] pt-4",children:[r==="COMPANY"&&Cu(),r==="CATEGORIES"&&Jl(),r==="ACCOUNT_PLAN"&&Zl(),r==="DRE_CONFIG"&&ne(),r==="MENU"&&ie()]})]})},NRe=({company:e,transactions:t,assets:r,longTermItems:n,accounts:a,onNavigate:i,currentUser:s,onRefresh:o})=>{const[u,d]=S.useState([]),[h,m]=S.useState(""),[g,x]=S.useState(!1),[b,y]=S.useState(!1),[_,N]=S.useState(null),k=S.useRef(null),A=S.useRef(null),D=mW(e.id);S.useEffect(()=>{const ce=vj(e.id);ce.length>0?d(ce):d([{id:"init",role:"model",text:`Ol! Sou o FinAI. 

Posso ajudar a registrar transaes. Tente dizer: 
_"Lanar despesa de 50 reais"_`}])},[e.id]),S.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const ce=window.SpeechRecognition||window.webkitSpeechRecognition;A.current=new ce,A.current.continuous=!1,A.current.lang="pt-BR",A.current.interimResults=!1,A.current.onresult=K=>{const ae=K.results[0][0].transcript;m(Z=>Z?Z+" "+ae:ae),y(!1)},A.current.onerror=K=>{console.error("Speech recognition error",K.error),y(!1)},A.current.onend=()=>{y(!1)}}},[]);const j=()=>{var ce,K;if(b)(ce=A.current)==null||ce.stop(),y(!1);else try{(K=A.current)==null||K.start(),y(!0)}catch(ae){console.error("Mic error",ae)}},O={name:"navigate_to",description:"Navega para uma tela de visualizao (Dashboard, Relatrios, etc). NO use para criar registros.",parameters:{type:Un.OBJECT,properties:{view:{type:Un.STRING,enum:["dashboard","transactions","goals","cost_centers","accounts","long_term","assets","reports","settings"],description:"A tela de destino."}},required:["view"]}},I={name:"prepare_transaction_draft",description:"Prepara os dados do lanamento e abre a tela de conferncia para o usurio salvar.",parameters:{type:Un.OBJECT,properties:{type:{type:Un.STRING,enum:["INCOME","EXPENSE"],description:"Tipo: Receita ou Despesa."},description:{type:Un.STRING,description:"Descrio do lanamento."},amount:{type:Un.NUMBER,description:"Valor numrico."},category:{type:Un.STRING,description:"Categoria inferida."},status:{type:Un.STRING,enum:["PAID","PENDING"],description:"Status do pagamento."},costCenterName:{type:Un.STRING,description:"Nome do Centro de Custo escolhido."}},required:["type","description","amount","status"]}},M=[{functionDeclarations:[O,I]}];S.useEffect(()=>{try{const ce=vj(e.id),K=GP({companyName:e.name,transactions:t,assets:r,longTermItems:n,accounts:a,costCenters:D,tools:M,history:ce});N(K)}catch(ce){console.error("Failed to init chat",ce)}},[e,t,r,n,a,D]),S.useEffect(()=>{var ce;(ce=k.current)==null||ce.scrollIntoView({behavior:"smooth"})},[u,b]);const R=ce=>{d(K=>[...K,ce]),UW(e.id,ce)},z=()=>{if(confirm("Tem certeza que deseja apagar todo o histrico de conversas desta empresa?")){zW(e.id),d([{id:"init",role:"model",text:`Ol! Sou o FinAI. 

Histrico limpo. Como posso ajudar agora?`}]);const K=GP({companyName:e.name,transactions:t,accounts:a,costCenters:D,tools:M,history:[]});N(K)}},q=async()=>{if(!h.trim()||!_)return;const ce=h;m("");const K={id:Date.now().toString(),role:"user",text:ce,type:"text"};R(K),x(!0);try{let ae=await _.sendMessage({message:ce});for(;ae.functionCalls&&ae.functionCalls.length>0;){const W=ae.functionCalls[0],ee=W.args;let H={};if(W.name==="navigate_to"){const L=ee.view;i(L);const J={id:Date.now().toString(),role:"system",text:`Navegando para ${L}`,type:"navigation",data:{view:L}};R(J),H={status:"success",message:`Navegou para ${L}`}}else if(W.name==="prepare_transaction_draft")if(s){let L;if(ee.costCenterName){const B=D.find(se=>se.name.toLowerCase().includes(ee.costCenterName.toLowerCase()));B&&(L=B.id)}const J={companyId:e.id,description:ee.description,amount:Number(ee.amount),type:ee.type,category:ee.category||(ee.type==="INCOME"?"Vendas":"Outras Despesas"),date:new Date().toISOString().split("T")[0],status:ee.status||"PAID",costCenterId:L,accountId:a.length>0?a[0].id:void 0,payments:[{method:"OTHER",amount:Number(ee.amount),date:new Date().toISOString().split("T")[0],status:ee.status||"PAID"}]};i("transactions",{openModal:!0,prefillData:J});const U={id:Date.now().toString(),role:"system",text:"Abrindo formulrio para conferncia...",type:"navigation",data:{view:"transactions (draft)"}};R(U),H={status:"success",message:"Tela de conferncia aberta com sucesso."}}else H={status:"error",message:"Usurio no logado."};ae=await _.sendMessage({message:[{functionResponse:{id:W.id,name:W.name,response:H}}]})}const Z=ae.text;if(Z){const W={id:(Date.now()+1).toString(),role:"model",text:Z};R(W)}}catch(ae){console.error("Chat Error",ae);const Z=ce.toLowerCase();let W="transactions",ee="Lanamentos";Z.includes("meta")||Z.includes("objetivo")?(W="goals",ee="Metas"):Z.includes("ativo")||Z.includes("patrimonio")||Z.includes("bens")?(W="assets",ee="Ativos"):Z.includes("relatorio")||Z.includes("dre")||Z.includes("grafico")?(W="reports",ee="Relatrios"):Z.includes("conta")||Z.includes("banco")||Z.includes("saldo")?(W="accounts",ee="Contas"):Z.includes("custo")||Z.includes("departamento")?(W="cost_centers",ee="Centros de Custo"):(Z.includes("contrato")||Z.includes("emprestimo")||Z.includes("longo"))&&(W="long_term",ee="Longo Prazo"),i(W);const H={id:(Date.now()+1).toString(),role:"model",text:`Tive uma falha momentnea de conexo. 

Mas entendi que voc quer acessar **${ee}**, ento estou te levando para l agora mesmo.`};R(H);const L={id:(Date.now()+2).toString(),role:"system",text:`Redirecionando para ${W}`,type:"navigation",data:{view:W}};R(L)}finally{x(!1)}},F=ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),q())},Y=ce=>{if(!ce)return{__html:""};let K=ce.replace(/^#{1,3}\s+(.+)$/gm,'<span class="block font-bold text-gray-900 mt-3 mb-1 text-base">$1</span>');return K=K.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),K=K.replace(/^[\-\*]\s+(.+)$/gm,'<div class="flex items-start gap-2 ml-1 my-1"><span class="text-gray-400 text-[10px] mt-1.5"></span> <span>$1</span></div>'),K=K.replace(/\n/g,"<br/>"),{__html:K}},de=ce=>l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-full text-xs font-medium border border-indigo-100 mt-1 mx-auto animate-pulse",children:[l.jsx(Z5,{size:12}),ce.view.includes("draft")?"Conferindo Lanamento...":`Navegou para: ${ce.view}`]});return l.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-50",children:[l.jsxs("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-b border-gray-200 shrink-0 lg:pl-6 pl-14",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:l.jsx(nX,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-gray-900 leading-tight",children:"Consultor IA"}),l.jsxs("p",{className:"text-gray-500 text-xs",children:["Empresa: ",e.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:z,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-gray-50 rounded-full transition-colors",title:"Limpar Histrico",children:l.jsx(Bt,{size:16})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-medium rounded-full border border-indigo-100",children:[l.jsx(Bd,{size:12})," Gemini 2.5"]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 bg-[#F9FAFB] custom-scrollbar",children:[u.map(ce=>ce.role==="system"?l.jsx("div",{className:"flex w-full justify-center my-2",children:ce.type==="navigation"?de(ce.data):l.jsx("span",{className:"text-xs text-gray-400 italic",children:ce.text})},ce.id):l.jsx("div",{className:`flex w-full ${ce.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex max-w-[85%] md:max-w-[70%] gap-3 ${ce.role==="user"?"flex-row-reverse":"flex-row"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 mt-1 shadow-sm border ${ce.role==="user"?"bg-white border-gray-200 text-gray-600":"bg-indigo-600 border-indigo-600 text-white"}`,children:ce.role==="user"?l.jsx(vv,{size:14}):l.jsx(Bd,{size:16})}),l.jsx("div",{className:`p-4 rounded-2xl text-sm shadow-sm leading-relaxed ${ce.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white text-gray-800 border border-gray-200 rounded-tl-none"}`,children:l.jsx("div",{dangerouslySetInnerHTML:Y(ce.text)})})]})},ce.id)),g&&l.jsx("div",{className:"flex w-full justify-start",children:l.jsxs("div",{className:"flex max-w-[80%] gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center shrink-0 mt-1",children:l.jsx(Bd,{size:16})}),l.jsxs("div",{className:"p-4 bg-white rounded-2xl rounded-tl-none border border-gray-200 shadow-sm flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Processando..."}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-100"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-200"})]})]})]})}),l.jsx("div",{ref:k})]}),l.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shrink-0",children:[b&&l.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-full text-xs font-bold animate-pulse shadow-lg flex items-center gap-2",children:[l.jsx(Ej,{size:14})," Ouvindo..."]}),l.jsxs("div",{className:"flex gap-2 relative max-w-4xl mx-auto w-full items-center",children:[l.jsx("button",{onClick:j,className:`p-3 rounded-xl transition-all flex items-center justify-center ${b?"bg-red-100 text-red-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Falar comando",children:b?l.jsx(DY,{size:20}):l.jsx(Ej,{size:20})}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"text",value:h,onChange:ce=>m(ce.target.value),onKeyDown:F,placeholder:b?"Fale agora...":"Digite ou fale: 'Gastei 50 no almoo'",disabled:g||!_,className:"w-full pl-4 pr-12 py-3.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all disabled:opacity-60 text-gray-900 placeholder-gray-400 text-sm shadow-sm"}),l.jsx("button",{onClick:q,disabled:g||!h.trim()||!_,className:`absolute right-2 top-2 p-1.5 rounded-lg flex items-center justify-center transition-all ${g||!h.trim()?"text-gray-300 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm"}`,children:g?l.jsx(Ia,{size:18,className:"animate-spin"}):l.jsx(J5,{size:18})})]})]}),!1]})]})},ARe=({company:e,transactions:t,categories:r,accounts:n})=>{const[a,i]=S.useState("CASH_FLOW"),[s,o]=S.useState("CHART"),[u,d]=S.useState("SEMESTER"),[h,m]=S.useState(new Date),[g,x]=S.useState(""),[b,y]=S.useState("ALL"),[_,N]=S.useState("ALL"),[k,A]=S.useState("MONTH"),[D,j]=S.useState(new Date),[O,I]=S.useState(()=>{const te=new Date;return te.setDate(1),te.toISOString().split("T")[0]}),[M,R]=S.useState(()=>new Date().toISOString().split("T")[0]),[z,q]=S.useState(""),[F,Y]=S.useState([]),[de,ce]=S.useState([]);S.useEffect(()=>{Qr.fetchDRETemplates(e.id).then(te=>{if(te&&(Y(te),!z&&te.length>0)){const ge=te.find(Se=>Se.isSystemDefault)||te[0];q(ge.id)}})},[e.id]),S.useEffect(()=>{z?Qr.fetchDRELines(z).then(te=>{te&&ce(te)}):ce([])},[z]);const K=(te,ge)=>{const Se=new Date(te),G=new Date(te);if(Se.setHours(0,0,0,0),G.setHours(23,59,59,999),ge==="WEEK"){const _e=Se.getDay(),ue=Se.getDate()-_e;Se.setDate(ue),G.setDate(ue+6)}else if(ge==="MONTH")Se.setDate(1),G.setMonth(G.getMonth()+1,0);else if(ge==="SEMESTER"){const ue=Se.getMonth()<6?0:6;Se.setMonth(ue,1),G.setMonth(ue+6,0)}else if(ge==="YEAR")Se.setMonth(0,1),G.setMonth(11,31);else if(ge==="ALL")return{start:new Date("2000-01-01"),end:new Date("2100-12-31")};return{start:Se,end:G}};S.useEffect(()=>{const{start:te,end:ge}=K(D,k),Se=G=>{const _e=G.getTimezoneOffset()*6e4;return new Date(G.getTime()-_e).toISOString().split("T")[0]};I(Se(te)),R(Se(ge))},[k,D]);const ae=te=>{if(k==="ALL")return;const ge=new Date(D),Se=te==="next"?1:-1;k==="WEEK"?ge.setDate(ge.getDate()+Se*7):k==="MONTH"?ge.setMonth(ge.getMonth()+Se):k==="SEMESTER"?ge.setMonth(ge.getMonth()+Se*6):k==="YEAR"&&ge.setFullYear(ge.getFullYear()+Se),j(ge)},Z=()=>{if(k==="ALL")return"Todo o Histrico";const{start:te}=K(D,k);return k==="WEEK"?`Semana de ${te.getDate()}`:k==="MONTH"?te.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):k==="SEMESTER"?`${te.getMonth()<6?"1":"2"} Sem. ${te.getFullYear()}`:te.getFullYear().toString()},W=te=>{i(te),(te==="DRE"||te==="INDICES"||te==="EXPORT")&&(x(""),N("ALL"),te==="INDICES"&&y("ALL"))},ee=te=>{if(u==="ALL")return;const ge=new Date(h),Se=te==="next"?1:-1;u==="WEEK"?ge.setDate(ge.getDate()+Se*7):u==="MONTH"?ge.setMonth(ge.getMonth()+Se):u==="SEMESTER"?ge.setMonth(ge.getMonth()+Se*6):u==="YEAR"&&ge.setFullYear(ge.getFullYear()+Se),m(ge)},H=()=>{if(u==="ALL")return"Todo o Perodo";const{start:te}=K(h,u);return u==="WEEK"?`Semana de ${te.getDate()}`:u==="MONTH"?te.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}):u==="SEMESTER"?`${te.getMonth()<6?"1":"2"} Sem. ${te.getFullYear()}`:te.getFullYear().toString()},{start:L,end:J}=S.useMemo(()=>K(h,u),[h,u]),U=S.useMemo(()=>t.filter(te=>{const ge=te.date.split("-"),Se=new Date(parseInt(ge[0]),parseInt(ge[1])-1,parseInt(ge[2])),G=Se>=L&&Se<=J,_e=!g||te.description.toLowerCase().includes(g.toLowerCase())||te.category.toLowerCase().includes(g.toLowerCase()),ue=_==="ALL"||te.type===_;let be=!0;return b==="PAID"&&(be=te.status==="PAID"),b==="PENDING"&&(be=te.status!=="PAID"),G&&_e&&ue&&be}),[t,L,J,g,b,_]),B=S.useMemo(()=>{const te=u==="WEEK"||u==="MONTH"?"day":"month",ge=new Map;let Se=new Date(L);for(;Se<=J;){let ue="",be="";te==="month"?(ue=`${Se.getFullYear()}-${Se.getMonth()}`,be=Se.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})):(ue=`${Se.getFullYear()}-${Se.getMonth()}-${Se.getDate()}`,be=Se.toLocaleDateString("pt-BR",{day:"numeric",month:"numeric"})),ge.set(ue,{income:0,expense:0,balance:0,accumulated:0,label:be,sortDate:Se.getTime()}),te==="month"?Se.setMonth(Se.getMonth()+1):Se.setDate(Se.getDate()+1)}let G=0;U.forEach(ue=>{const be=ue.date.split("-"),Le=new Date(parseInt(be[0]),parseInt(be[1])-1,parseInt(be[2]));let me="";te==="month"?me=`${Le.getFullYear()}-${Le.getMonth()}`:me=`${Le.getFullYear()}-${Le.getMonth()}-${Le.getDate()}`;const Re=ge.get(me);Re&&(ue.type===et.INCOME?Re.income+=ue.amount:Re.expense+=ue.amount)});const _e=Array.from(ge.values()).sort((ue,be)=>ue.sortDate-be.sortDate);return _e.forEach(ue=>{ue.balance=ue.income-ue.expense,G+=ue.balance,ue.accumulated=G}),_e},[U,L,J,u]),se=S.useMemo(()=>{if(!z)return[];const ge=de.map(be=>{let Le=0;return be.mappings&&be.mappings.length>0&&U.forEach(me=>{be.mappings.some(je=>{if(je.type==="CATEGORY"){const We=r.find(qe=>qe.id===je.itemId);return We&&We.name===me.category}else if(je.type==="ACCOUNT"){const We=r.find(qe=>qe.name===me.category);return We&&We.linkedAccountPlanId===je.itemId}return!1})&&(Le+=me.amount)}),{...be,value:Le}});let Se=0,G=0,_e=0,ue=0;return ge.forEach(be=>{be.type==="REVENUE"&&(Se+=be.value),be.type==="DEDUCTION"&&(G+=be.value),be.type==="COST"&&(_e+=be.value),(be.type==="EXPENSE"||be.type==="TAX")&&(ue+=be.value)}),ge.map(be=>{if(be.type==="SUBTOTAL"){if(be.name.toLowerCase().includes("lquida"))return{...be,value:Se-G};if(be.name.toLowerCase().includes("margem")||be.name.toLowerCase().includes("bruto"))return{...be,value:Se-G-_e}}return be.type==="RESULT"?{...be,value:Se-G-_e-ue}:be})},[U,z,r]),fe=S.useMemo(()=>{const te=new Date(O);te.setHours(0,0,0,0);const ge=new Date(M);return ge.setHours(23,59,59,999),t.filter(Se=>{const G=Se.date.split("-"),_e=new Date(parseInt(G[0]),parseInt(G[1])-1,parseInt(G[2]));return _e>=te&&_e<=ge})},[t,O,M]),Te=()=>{const te=Ca.json_to_sheet(fe.map(Se=>({Data:Se.date,Descrio:Se.description,Categoria:Se.category,Tipo:Se.type==="INCOME"?"Receita":"Despesa",Valor:Se.amount,Status:Se.status}))),ge=Ca.book_new();Ca.book_append_sheet(ge,te,"Lanamentos"),UN(ge,`Extrato_${O}_${M}.xlsx`)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(fu,{className:"text-indigo-600",size:28})," Relatrios Gerenciais"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Anlises detalhadas para tomada de deciso."})]})}),l.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[l.jsxs("button",{onClick:()=>W("CASH_FLOW"),className:`px-6 py-3 text-sm font-medium border-b-2 whitespace-nowrap transition-colors flex items-center gap-2 ${a==="CASH_FLOW"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Wc,{size:16})," Fluxo de Caixa"]}),l.jsxs("button",{onClick:()=>W("DRE"),className:`px-6 py-3 text-sm font-medium border-b-2 whitespace-nowrap transition-colors flex items-center gap-2 ${a==="DRE"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Gg,{size:16})," DRE"]}),l.jsxs("button",{onClick:()=>W("INDICES"),className:`px-6 py-3 text-sm font-medium border-b-2 whitespace-nowrap transition-colors flex items-center gap-2 ${a==="INDICES"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(X5,{size:16})," ndices"]}),l.jsxs("button",{onClick:()=>W("EXPORT"),className:`px-6 py-3 text-sm font-medium border-b-2 whitespace-nowrap transition-colors flex items-center gap-2 ${a==="EXPORT"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Hg,{size:16})," Exportao"]})]}),a==="CASH_FLOW"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsx("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:["WEEK","MONTH","SEMESTER","YEAR"].map(te=>l.jsx("button",{onClick:()=>d(te),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${u===te?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-900"}`,children:te==="WEEK"?"Semana":te==="MONTH"?"Ms":te==="SEMESTER"?"Semestre":"Ano"},te))}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>ee("prev"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(bo,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-[180px] justify-center text-gray-800 font-bold capitalize",children:[l.jsx(ma,{size:18,className:"text-indigo-600"}),H()]}),l.jsx("button",{onClick:()=>ee("next"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-600",children:l.jsx(Oi,{size:20})})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-96",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Evoluo do Saldo"}),l.jsx(Lv,{width:"100%",height:"100%",children:l.jsxs(xU,{data:B,children:[l.jsx(um,{strokeDasharray:"3 3",vertical:!1}),l.jsx(hm,{dataKey:"label"}),l.jsx(mm,{}),l.jsx(oy,{}),l.jsx(IS,{}),l.jsx(Pl,{dataKey:"income",name:"Entradas",fill:"#10b981",barSize:20}),l.jsx(Pl,{dataKey:"expense",name:"Sadas",fill:"#ef4444",barSize:20}),l.jsx(eU,{type:"monotone",dataKey:"accumulated",name:"Saldo Acumulado",stroke:"#4f46e5",fill:"#4f46e5",fillOpacity:.1,strokeWidth:3})]})})]})]}),a==="DRE"&&l.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:l.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold uppercase text-xs",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left",children:"Demonstrativo"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"A.V. %"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:se.map((te,ge)=>{var ue;const Se=((ue=se.find(be=>be.type==="REVENUE"))==null?void 0:ue.value)||1,G=te.value/Se*100,_e=["RESULT","SUBTOTAL"].includes(te.type);return l.jsxs("tr",{className:`hover:bg-gray-50 ${_e?"bg-gray-50 font-bold":""}`,children:[l.jsx("td",{className:"px-6 py-3",children:te.name}),l.jsxs("td",{className:`px-6 py-3 text-right ${te.value<0?"text-red-600":"text-gray-900"}`,children:["R$ ",te.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-3 text-right text-gray-500",children:[G.toFixed(1),"%"]})]},ge)})})]})})}),a==="EXPORT"&&l.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Exportao de Dados"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Perodo"}),l.jsxs("div",{className:"flex gap-2 items-center bg-gray-50 p-2 rounded-lg border border-gray-200",children:[l.jsx("button",{onClick:()=>ae("prev"),children:l.jsx(bo,{size:16})}),l.jsx("span",{className:"flex-1 text-center font-bold text-sm",children:Z()}),l.jsx("button",{onClick:()=>ae("next"),children:l.jsx(Oi,{size:16})})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{onClick:Te,className:"w-full py-2.5 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Gg,{size:18})," Baixar Excel"]})})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-sm text-gray-600",children:l.jsxs("p",{children:["Registros encontrados: ",l.jsx("b",{children:fe.length})]})})]})})]})},Td={async fetchCompanyUsers(e){try{const{data:t,error:r}=await Je.from("company_members").select(`
                    user_id,
                    role,
                    profile:profiles (
                        id,
                        name,
                        email,
                        avatar_url
                    )
                `).eq("company_id",e);return r?(console.error("Error fetching company users:",r),[]):t.map(n=>{var a,i,s;return{id:n.user_id,name:((a=n.profile)==null?void 0:a.name)||"Usurio Sem Nome",email:((i=n.profile)==null?void 0:i.email)||"",role:n.role,linkedCompanyIds:[e],avatar:(s=n.profile)==null?void 0:s.avatar_url}})}catch(t){return console.error("Exception fetching users:",t),[]}},async fetchPendingInvites(e){try{const{data:t,error:r}=await Je.from("company_invites").select("*").eq("company_id",e);return r?(console.error("Error fetching invites:",r),[]):t}catch{return[]}},async inviteUserToCompany(e,t,r){try{const{data:n,error:a}=await Je.rpc("invite_user_to_company",{_email:e,_company_id:r,_role:t});return a?{success:!1,message:a.message}:{success:n.success,message:n.message,invite_token:n.invite_token,is_new_user:n.is_new_user}}catch(n){return{success:!1,message:n.message}}},async cancelInvite(e,t){try{const{data:r,error:n}=await Je.rpc("cancel_invite",{_invite_id:e,_company_id:t});return n?{success:!1,message:n.message}:{success:r.success,message:r.message}}catch(r){return{success:!1,message:r.message}}},async updateUserRole(e,t,r){try{const{data:n,error:a}=await Je.rpc("update_user_role",{_target_user_id:e,_company_id:t,_new_role:r});return a?{success:!1,message:a.message}:{success:n.success,message:n.message}}catch(n){return{success:!1,message:n.message}}},async removeUserFromCompany(e,t){try{const{data:r,error:n}=await Je.rpc("remove_user_from_company",{_target_user_id:e,_company_id:t});return n?{success:!1,message:n.message}:{success:r.success,message:r.message}}catch(r){return{success:!1,message:r.message}}}},CRe=({company:e,currentUser:t,onRefresh:r})=>{const[n,a]=S.useState(""),[i,s]=S.useState(!1),[o,u]=S.useState(null),[d,h]=S.useState([]),[m,g]=S.useState([]),[x,b]=S.useState(!0),y=async()=>{if(!e)return;b(!0);const[I,M]=await Promise.all([Td.fetchCompanyUsers(e.id),Td.fetchPendingInvites(e.id)]);h(I),g(M),b(!1)};S.useEffect(()=>{y()},[e==null?void 0:e.id]);const _=()=>{u(null),s(!0)},N=I=>{u(I),s(!0)};if(!e)return l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[l.jsx(Ia,{className:"animate-spin mb-2",size:32}),l.jsx("p",{children:"Carregando dados da empresa..."})]});const k=(I,M,R)=>{const q=window.location.origin+"/signup?invite="+(M||"")+"&email="+I,F=`Convite para participar da ${R} no FinGesto`,Y=`Ol,

Voc foi convidado para participar da equipe financeira da empresa ${R}.

Para aceitar, clique no link abaixo e crie sua conta:
${q}

Atenciosamente,
Equipe FinGesto`;window.open(`mailto:${I}?subject=${encodeURIComponent(F)}&body=${encodeURIComponent(Y)}`,"_blank")},A=async I=>{if(o){const M=await Td.updateUserRole(o.id,e.id,I.role||"EMPLOYEE");M.success?(alert("Permisses atualizadas com sucesso!"),y()):alert("Erro ao atualizar: "+M.message)}else{if(!I.email)return alert("Email  obrigatrio");const M=await Td.inviteUserToCompany(I.email,I.role||"EMPLOYEE",e.id);M.success?(M.is_new_user?confirm(`Convite criado! Deseja enviar o email agora?

O sistema abrir seu cliente de email padro.`)&&k(I.email,M.invite_token,e.name):alert("Usurio existente vinculado com sucesso!"),y()):alert("Erro ao vincular: "+M.message)}r()},D=async I=>{if(I===t.id){alert("Voc no pode excluir seu prprio usurio.");return}if(confirm("Tem certeza que deseja remover este usurio da empresa?")){const M=await Td.removeUserFromCompany(I,e.id);M.success?(alert("Usurio removido com sucesso."),y()):alert("Erro ao remover: "+M.message),r()}},j=async I=>{if(confirm("Tem certeza que deseja cancelar este convite pendente?")){const M=await Td.cancelInvite(I,e.id);M.success?(alert("Convite cancelado com sucesso."),y()):alert("Erro ao cancelar convite: "+M.message)}},O=d.filter(I=>I.name.toLowerCase().includes(n.toLowerCase())||I.email.toLowerCase().includes(n.toLowerCase()));return l.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[l.jsx(yU,{isOpen:i,onClose:()=>s(!1),onSave:A,initialData:o}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Xc,{className:"text-indigo-600",size:28})," Gesto de Usurios"]}),l.jsxs("p",{className:"text-gray-500 mt-1",children:["Gerencie acessos e permisses da equipe de ",l.jsx("b",{children:e.name}),"."]})]}),l.jsxs("button",{onClick:_,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-lg font-medium transition-all shadow-sm flex items-center gap-2",children:[l.jsx(Ft,{size:18})," Novo Usurio"]})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:n,onChange:I=>a(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-800 bg-white"})]}),m.length>0&&l.jsxs("div",{className:"bg-orange-50 rounded-xl border border-orange-100 p-4",children:[l.jsxs("h3",{className:"text-sm font-bold text-orange-800 mb-3 flex items-center gap-2",children:[l.jsx(gv,{size:16})," Convites Pendentes"]}),l.jsx("div",{className:"space-y-2",children:m.map(I=>l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-orange-100 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600",children:l.jsx(Ol,{size:14})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.email}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:["Funo: ",Qd[I.role]||I.role]}),l.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 rounded",children:"Aguardando Cadastro"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>k(I.email,I.token,e.name),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Reenviar Email",children:l.jsx(J5,{size:16})}),l.jsx("button",{onClick:()=>j(I.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Cancelar Convite",children:l.jsx(Vg,{size:16})})]})]},I.id))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden min-h-[300px]",children:[x?l.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-gray-400",children:[l.jsx(Ia,{className:"animate-spin mb-2",size:32}),l.jsx("p",{children:"Carregando usurios..."})]}):l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Usurio"}),l.jsx("th",{className:"px-6 py-4",children:"Perfil"}),l.jsx("th",{className:"px-6 py-4",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:O.map(I=>{const M=I.id===t.id;return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[I.avatar?l.jsx("img",{src:I.avatar,alt:I.name,className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-sm",children:I.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-gray-900 flex items-center gap-2",children:[I.name,M&&l.jsx("span",{className:"bg-gray-200 text-gray-600 text-[10px] px-1.5 py-0.5 rounded",children:"VOC"})]}),l.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx(Ol,{size:10})," ",I.email]})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-medium border border-gray-200",children:Qd[I.role]||I.role})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-600",children:[l.jsx(sh,{size:14,className:"text-emerald-500"}),"Ativo"]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>N(I),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Alterar Permisses",children:l.jsx(_n,{size:16})}),!M&&l.jsx("button",{onClick:()=>D(I.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover Acesso",children:l.jsx(Bt,{size:16})})]})})]},I.id)})})]}),!x&&O.length===0&&l.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum usurio encontrado."})]})]})},kRe=({currentUser:e})=>{const[t,r]=S.useState(null),[n,a]=S.useState(""),[i,s]=S.useState(null),[o,u]=S.useState(!1),d=Nl.filter(A=>e.linkedCompanyIds.includes(A.id)),h=()=>{var D;const A=n||((D=d[0])==null?void 0:D.id);A&&(u(!0),s(null),setTimeout(()=>{const j=Nl.find(K=>K.id===A),O=ih.filter(K=>K.companyId===A),I=Yd.filter(K=>K.companyId===A),M=O.reduce((K,ae)=>K+ae.balance,0),R=new Date,z=I.filter(K=>K.type===et.EXPENSE&&K.status==="PENDING"&&new Date(K.date)<R),q=I.filter(K=>K.type===et.INCOME).reduce((K,ae)=>K+ae.amount,0),F=I.filter(K=>K.type===et.EXPENSE).reduce((K,ae)=>K+ae.amount,0),Y=q>0?(q-F)/q*100:0;let de=100;const ce=[];M<0&&(de-=30,ce.push({type:"CRITICAL",msg:"Saldo de caixa negativo."})),z.length>0&&(de-=z.length*5,ce.push({type:"WARNING",msg:`${z.length} contas atrasadas detectadas.`})),Y<5&&(de-=20,ce.push({type:"WARNING",msg:"Margem de lucro baixa (< 5%)."})),I.length===0&&(de=0,ce.push({type:"INFO",msg:"Sem movimentao registrada."})),s({companyName:j==null?void 0:j.name,score:Math.max(0,de),balance:M,pendingCount:z.length,profitMargin:Y,issues:ce}),u(!1)},1500))},[m,g]=S.useState([]),x=()=>{var D;const A=n||((D=d[0])==null?void 0:D.id);A&&(u(!0),setTimeout(()=>{let O=ih.filter(z=>z.companyId===A).reduce((z,q)=>z+q.balance,0);const I=Yd.filter(z=>z.companyId===A);F5(A);const M=new Date,R=[];for(let z=0;z<6;z++){const q=new Date(M.getFullYear(),M.getMonth()+z,1),F=new Date(M.getFullYear(),M.getMonth()+z+1,0),Y=I.filter(Z=>{const W=new Date(Z.date);return Z.status==="PENDING"&&W>=q&&W<=F}),ce=I.filter(Z=>Z.recurrence&&Z.recurrence.frequency==="MONTHLY").filter((Z,W,ee)=>W===ee.findIndex(H=>H.description===Z.description&&H.amount===Z.amount));let K=0,ae=0;Y.forEach(Z=>{Z.type===et.INCOME?K+=Z.amount:ae+=Z.amount}),ce.forEach(Z=>{Y.some(ee=>ee.description===Z.description&&Math.abs(ee.amount-Z.amount)<.1)||(Z.type===et.INCOME?K+=Z.amount:ae+=Z.amount)}),O+=K-ae,R.push({month:q.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),income:K,expense:ae,balance:O})}g(R),u(!1)},1e3))},b=A=>{a(""),s(null),g([]),A==="HEALTH_CHECK"?r("HEALTH_CHECK"):A==="FLUXO_CAIXA"?r("FLUXO_CAIXA"):alert("Esta ferramenta estar disponvel na prxima atualizao.")},y=[{id:"pricing",title:"Precificao",icon:os,color:"bg-emerald-500",items:[{id:"PRECIFICACAO_PRODUTOS",label:"Precificao de Produtos"},{id:"PRECIFICACAO_SERVICOS",label:"Precificao de Servios"},{id:"MARGEM_MARKUP",label:"Margem & Markup"},{id:"FICHA_TECNICA",label:"Ficha Tcnica"}]},{id:"simulators",title:"Simuladores Financeiros",icon:z5,color:"bg-blue-600",items:[{id:"FLUXO_CAIXA",label:"Fluxo de Caixa Projetado"},{id:"PONTO_EQUILIBRIO",label:"Ponto de Equilbrio"},{id:"HEALTH_CHECK",label:"Diagnstico de Sade"},{id:"INVESTIMENTOS",label:"Clculo de Investimentos"},{id:"EMPRESTIMOS",label:"Simulador de Emprstimos"}]},{id:"tax",title:"Tributao",icon:X5,color:"bg-purple-600",items:[{id:"SIMULADOR_IMPOSTOS",label:"Simulador de Impostos"},{id:"COMPARACAO_REGIME",label:"Comparao de Regime"}]},{id:"commercial",title:"Anlises Comerciais",icon:ri,color:"bg-orange-600",items:[{id:"METAS_VENDAS",label:"Metas de Vendas"},{id:"CAC_LTV_ROI",label:"CAC / LTV / ROI"},{id:"PRECO_VOLUME",label:"Preo x Volume"}]},{id:"assets",title:"Ativos e Patrimnio",icon:tS,color:"bg-indigo-600",items:[{id:"REGISTRO_ATIVOS",label:"Registro de Ativos"},{id:"DEPRECIACAO",label:"Depreciao"},{id:"VALORIZACAO_BENS",label:"Valorizao de Bens"}]},{id:"productivity",title:"Produtividade",icon:Wc,color:"bg-pink-600",items:[{id:"CALENDARIO_FIN",label:"Calendrio Financeiro"},{id:"CONTROLE_CONTRATOS",label:"Controle de Contratos"},{id:"ALERTAS",label:"Alertas e Lembretes"}]}],_=(A,D)=>l.jsxs("div",{className:"flex gap-4 items-end mb-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Selecione o Cliente"}),l.jsxs("select",{value:n,onChange:j=>a(j.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white text-black",children:[l.jsx("option",{value:"",children:"Selecione..."}),d.map(j=>l.jsx("option",{value:j.id,children:j.name},j.id))]})]}),l.jsxs("button",{onClick:A,disabled:o||!n,className:`px-6 py-2.5 rounded-lg text-white font-bold flex items-center gap-2 transition-all ${o||!n?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-lg"}`,children:[o?"Processando...":D," ",l.jsx(Wc,{size:18,className:o?"animate-spin":""})]})]}),N=()=>l.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[l.jsx("button",{onClick:()=>{r(null),s(null)},className:"text-sm text-gray-500 hover:text-indigo-600 flex items-center gap-1 mb-4",children:" Voltar para o menu"}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm max-w-3xl mx-auto",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mb-6",children:[l.jsx(uX,{className:"text-indigo-600"})," Diagnstico Financeiro Automtico"]}),_(h,"Rodar Diagnstico"),i&&l.jsxs("div",{className:"animate-in fade-in zoom-in duration-300 border-t border-gray-100 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Resultado para:"}),l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.companyName})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-4xl font-black ${i.score>=80?"text-green-500":i.score>=50?"text-yellow-500":"text-red-500"}`,children:i.score}),l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Score de Sade"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 text-center",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex justify-center items-center gap-1",children:[l.jsx(ts,{size:12})," Caixa Atual"]}),l.jsxs("p",{className:`font-bold ${i.balance>=0?"text-gray-900":"text-red-600"}`,children:["R$ ",i.balance.toLocaleString("pt-BR",{notation:"compact"})]})]}),l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 text-center",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex justify-center items-center gap-1",children:[l.jsx(Di,{size:12})," Atrasos"]}),l.jsxs("p",{className:`font-bold ${i.pendingCount>0?"text-red-600":"text-green-600"}`,children:[i.pendingCount," ttulos"]})]}),l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 text-center",children:[l.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex justify-center items-center gap-1",children:[l.jsx(du,{size:12})," Margem"]}),l.jsxs("p",{className:`font-bold ${i.profitMargin>10?"text-green-600":"text-yellow-600"}`,children:[i.profitMargin.toFixed(1),"%"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Diagnstico Detalhado"}),i.issues.length===0?l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-100 rounded-lg text-green-700",children:[l.jsx(Vn,{size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm",children:"Excelente!"}),l.jsx("p",{className:"text-xs",children:"Nenhum problema crtico detectado nos dados analisados."})]})]}):l.jsx("div",{className:"space-y-2",children:i.issues.map((A,D)=>l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border text-sm ${A.type==="CRITICAL"?"bg-red-50 border-red-100 text-red-700":A.type==="WARNING"?"bg-yellow-50 border-yellow-100 text-yellow-700":"bg-blue-50 border-blue-100 text-blue-700"}`,children:[A.type==="CRITICAL"?l.jsx(Vg,{size:18}):l.jsx(Di,{size:18}),A.msg]},D))})]})]})]})]}),k=()=>l.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[l.jsx("button",{onClick:()=>{r(null),g([])},className:"text-sm text-gray-500 hover:text-indigo-600 flex items-center gap-1 mb-4",children:" Voltar para o menu"}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm mx-auto",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2 mb-2",children:[l.jsx($5,{className:"text-indigo-600"})," Fluxo de Caixa Projetado"]}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Simulao automtica de saldo futuro baseada em contas a pagar/receber e recorrncias."}),_(x,"Gerar Projeo (6 Meses)"),m.length>0&&l.jsxs("div",{className:"animate-in fade-in zoom-in duration-300 space-y-6",children:[l.jsx("div",{className:"h-80 w-full bg-gray-50 rounded-xl p-4 border border-gray-100",children:l.jsx(Lv,{width:"100%",height:"100%",children:l.jsxs(xU,{data:m,children:[l.jsx(um,{strokeDasharray:"3 3",vertical:!1}),l.jsx(hm,{dataKey:"month"}),l.jsx(mm,{}),l.jsx(oy,{}),l.jsx(IS,{}),l.jsx(Pl,{dataKey:"income",name:"Entradas Previstas",fill:"#10b981",barSize:20,stackId:"a"}),l.jsx(Pl,{dataKey:"expense",name:"Sadas Previstas",fill:"#ef4444",barSize:20,stackId:"a"}),l.jsx(GB,{type:"monotone",dataKey:"balance",name:"Saldo Projetado",stroke:"#4f46e5",strokeWidth:3,dot:{r:4}})]})})}),l.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-xl",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 font-bold text-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:"Ms"}),l.jsx("th",{className:"p-3 text-right",children:"Entradas (R$)"}),l.jsx("th",{className:"p-3 text-right",children:"Sadas (R$)"}),l.jsx("th",{className:"p-3 text-right",children:"Saldo Final (R$)"})]})}),l.jsx("tbody",{children:m.map((A,D)=>l.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[l.jsx("td",{className:"p-3 font-medium text-gray-900",children:A.month}),l.jsx("td",{className:"p-3 text-right text-emerald-600",children:A.income.toLocaleString("pt-BR",{minimumFractionDigits:2})}),l.jsx("td",{className:"p-3 text-right text-red-600",children:A.expense.toLocaleString("pt-BR",{minimumFractionDigits:2})}),l.jsx("td",{className:`p-3 text-right font-bold ${A.balance>=0?"text-indigo-600":"text-red-500"}`,children:A.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})})]},D))})]})})]})]})]});return l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[!t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Ferramentas Financeiras"}),l.jsx("p",{className:"text-gray-500 mt-1 text-lg",children:"Calculadoras, simuladores e utilitrios para gesto financeira"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(A=>l.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-sm border border-gray-200 flex flex-col h-full hover:shadow-md transition-all",children:[l.jsx("div",{className:`${A.color} p-4 text-white`,children:l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(A.icon,{size:20,className:"opacity-90"}),l.jsx("h3",{className:"font-bold text-lg",children:A.title})]})}),l.jsx("div",{className:"p-4 space-y-2.5 flex-1",children:A.items.map(D=>l.jsxs("button",{onClick:()=>b(D.id),className:"w-full text-left px-4 py-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:border-gray-300 hover:shadow-md transition-all text-sm font-medium text-gray-700 flex justify-between items-center group",children:[D.label,l.jsx(Kc,{size:14,className:"text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:translate-x-1"})]},D.id))})]},A.id))})]}),t==="HEALTH_CHECK"&&N(),t==="FLUXO_CAIXA"&&k()]})},n5={dashboard:{component:Ime},crm:{component:Rme,permission:"VIEW_CRM"},tarefas:{component:GT,permission:"VIEW_TASKS"},leads:{component:Dme,permission:"VIEW_LEADS"},empresas:{component:jme,permission:"MANAGE_COMPANIES"},usuarios:{component:Mme,permission:"MANAGE_USERS"},configuracao:{component:Pme,permission:"VIEW_SETTINGS"}},a5={dashboard:{component:Ybe,permission:"VIEW_DASHBOARD"},lancamentos:{component:rRe,permission:"VIEW_TRANSACTIONS"},prolabore:{component:aRe,permission:"VIEW_TRANSACTIONS"},"centros-de-custo":{component:sRe,permission:"VIEW_COST_CENTERS"},metas:{component:lRe,permission:"VIEW_GOALS"},contas:{component:uRe,permission:"VIEW_SETTINGS"},agenda:{component:dRe,permission:"VIEW_TASKS"},"longo-prazo":{component:pRe,permission:"VIEW_TRANSACTIONS"},ativos:{component:yRe,permission:"VIEW_ASSETS"},configuracao:{component:TRe,permission:"VIEW_SETTINGS"},"ia-financeira":{component:NRe,permission:"USE_AI"},relatorios:{component:ARe,permission:"VIEW_REPORTS"},usuarios:{component:CRe,permission:"MANAGE_USERS"},ferramentas:{component:kRe,permission:"VIEW_SETTINGS"},tarefas:{component:GT,permission:"VIEW_TASKS"}};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i5="popstate";function IRe(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return V2("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Fh(a)}return RRe(t,r,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function us(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jRe(){return Math.random().toString(36).substring(2,10)}function s5(e,t){return{usr:e.state,key:e.key,idx:t}}function V2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Em(t):t,state:r,key:t&&t.key||n||jRe()}}function Fh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Em(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function RRe(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",u=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function m(){o="POP";let _=h(),N=_==null?null:_-d;d=_,u&&u({action:o,location:y.location,delta:N})}function g(_,N){o="PUSH";let k=V2(y.location,_,N);d=h()+1;let A=s5(k,d),D=y.createHref(k);try{s.pushState(A,"",D)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(D)}i&&u&&u({action:o,location:y.location,delta:1})}function x(_,N){o="REPLACE";let k=V2(y.location,_,N);d=h();let A=s5(k,d),D=y.createHref(k);s.replaceState(A,"",D),i&&u&&u({action:o,location:y.location,delta:0})}function b(_){return ORe(_)}let y={get action(){return o},get location(){return e(a,s)},listen(_){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(i5,m),u=_,()=>{a.removeEventListener(i5,m),u=null}},createHref(_){return t(a,_)},createURL:b,encodeLocation(_){let N=b(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(_){return s.go(_)}};return y}function ORe(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ln(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Fh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function E9(e,t,r="/"){return DRe(e,t,r,!1)}function DRe(e,t,r,n){let a=typeof t=="string"?Em(t):t,i=jo(a.pathname||"/",r);if(i==null)return null;let s=S9(e);MRe(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let d=qRe(i);o=HRe(s[u],d,n)}return o}function S9(e,t=[],r=[],n="",a=!1){let i=(s,o,u=a,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;ln(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=yo([n,h.relativePath]),g=r.concat(h);s.children&&s.children.length>0&&(ln(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),S9(s.children,t,g,m,u)),!(s.path==null&&!s.index)&&t.push({path:m,score:$Re(m,s.index),routesMeta:g})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let d of T9(s.path))i(s,o,!0,d)}),t}function T9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=T9(n.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function MRe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VRe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var PRe=/^:[\w-]+$/,LRe=3,FRe=2,BRe=1,URe=10,zRe=-2,o5=e=>e==="*";function $Re(e,t){let r=e.split("/"),n=r.length;return r.some(o5)&&(n+=zRe),t&&(n+=FRe),r.filter(a=>!o5(a)).reduce((a,i)=>a+(PRe.test(i)?LRe:i===""?BRe:URe),n)}function VRe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function HRe(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],d=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=uv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=uv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:yo([i,m.pathname]),pathnameBase:XRe(yo([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=yo([i,m.pathnameBase]))}return s}function uv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GRe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function GRe(e,t=!1,r=!0){us(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qRe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return us(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var N9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WRe=e=>N9.test(e);function KRe(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Em(e):e,i;if(r)if(WRe(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),us(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=l5(r.substring(1),"/"):i=l5(r,t)}else i=t;return{pathname:i,search:JRe(n),hash:ZRe(a)}}function l5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function eE(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YRe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function A9(e){let t=YRe(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function C9(e,t,r,n=!1){let a;typeof e=="string"?a=Em(e):(a={...e},ln(!a.pathname||!a.pathname.includes("?"),eE("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),eE("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),eE("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=KRe(a,o),d=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var yo=e=>e.join("/").replace(/\/\/+/g,"/"),XRe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JRe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZRe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,QRe=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function e4e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function t4e(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var k9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I9(e,t){let r=e;if(typeof r!="string"||!N9.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(k9)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=jo(s.pathname,t);s.origin===i.origin&&o!=null?r=o+s.search+s.hash:a=!0}catch{us(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j9=["POST","PUT","PATCH","DELETE"];new Set(j9);var r4e=["GET",...j9];new Set(r4e);var Cf=S.createContext(null);Cf.displayName="DataRouter";var Ny=S.createContext(null);Ny.displayName="DataRouterState";var n4e=S.createContext(!1),R9=S.createContext({isTransitioning:!1});R9.displayName="ViewTransition";var a4e=S.createContext(new Map);a4e.displayName="Fetchers";var i4e=S.createContext(null);i4e.displayName="Await";var $i=S.createContext(null);$i.displayName="Navigation";var Ay=S.createContext(null);Ay.displayName="Location";var Go=S.createContext({outlet:null,matches:[],isDataRoute:!1});Go.displayName="Route";var HN=S.createContext(null);HN.displayName="RouteError";var O9="REACT_ROUTER_ERROR",s4e="REDIRECT",o4e="ROUTE_ERROR_RESPONSE";function l4e(e){if(e.startsWith(`${O9}:${s4e}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function c4e(e){if(e.startsWith(`${O9}:${o4e}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new QRe(t.status,t.statusText,t.data)}catch{}}function u4e(e,{relative:t}={}){ln(Sm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext($i),{hash:a,pathname:i,search:s}=Tm(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:yo([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Sm(){return S.useContext(Ay)!=null}function Yl(){return ln(Sm(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ay).location}var D9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M9(e){S.useContext($i).static||S.useLayoutEffect(e)}function P9(){let{isDataRoute:e}=S.useContext(Go);return e?E4e():d4e()}function d4e(){ln(Sm(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Cf),{basename:t,navigator:r}=S.useContext($i),{matches:n}=S.useContext(Go),{pathname:a}=Yl(),i=JSON.stringify(A9(n)),s=S.useRef(!1);return M9(()=>{s.current=!0}),S.useCallback((u,d={})=>{if(us(s.current,D9),!s.current)return;if(typeof u=="number"){r.go(u);return}let h=C9(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:yo([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}S.createContext(null);function Tm(e,{relative:t}={}){let{matches:r}=S.useContext(Go),{pathname:n}=Yl(),a=JSON.stringify(A9(r));return S.useMemo(()=>C9(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function f4e(e,t,r,n,a){ln(Sm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext($i),{matches:s}=S.useContext(Go),o=s[s.length-1],u=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let k=m&&m.path||"";F9(d,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Yl(),x;x=g;let b=x.pathname||"/",y=b;if(h!=="/"){let k=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=E9(e,{pathname:y});return us(m||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),us(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),x4e(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:yo([h,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:yo([h,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),s,r,n,a)}function h4e(){let e=_4e(),t=e4e(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:a},r):null,s)}var m4e=S.createElement(h4e,null),L9=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=c4e(e.digest);r&&(e=r)}let t=e!==void 0?S.createElement(Go.Provider,{value:this.props.routeContext},S.createElement(HN.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?S.createElement(p4e,{error:e},t):t}};L9.contextType=n4e;var tE=new WeakMap;function p4e({children:e,error:t}){let{basename:r}=S.useContext($i);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=l4e(t.digest);if(n){let a=tE.get(t);if(a)throw a;let i=I9(n.location,r);if(k9&&!tE.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw tE.set(t,s),s}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function g4e({routeContext:e,match:t,children:r}){let n=S.useContext(Cf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Go.Provider,{value:e},r)}function x4e(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let h=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,u=-1;if(r)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:x}=r,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(h,m)=>{var g,x;n(h,{location:r.location,params:((x=(g=r.matches)==null?void 0:g[0])==null?void 0:x.params)??{},unstable_pattern:t4e(r.matches),errorInfo:m})}:void 0;return i.reduceRight((h,m,g)=>{let x,b=!1,y=null,_=null;r&&(x=s&&m.route.id?s[m.route.id]:void 0,y=m.route.errorElement||m4e,o&&(u<0&&g===0?(F9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):u===g&&(b=!0,_=m.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),k=()=>{let A;return x?A=y:b?A=_:m.route.Component?A=S.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,S.createElement(g4e,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:A})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?S.createElement(L9,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:d}):k()},null)}function GN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v4e(e){let t=S.useContext(Cf);return ln(t,GN(e)),t}function y4e(e){let t=S.useContext(Ny);return ln(t,GN(e)),t}function b4e(e){let t=S.useContext(Go);return ln(t,GN(e)),t}function qN(e){let t=b4e(e),r=t.matches[t.matches.length-1];return ln(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function w4e(){return qN("useRouteId")}function _4e(){var n;let e=S.useContext(HN),t=y4e("useRouteError"),r=qN("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function E4e(){let{router:e}=v4e("useNavigate"),t=qN("useNavigate"),r=S.useRef(!1);return M9(()=>{r.current=!0}),S.useCallback(async(a,i={})=>{us(r.current,D9),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var c5={};function F9(e,t,r){!t&&!c5[e]&&(c5[e]=!0,us(!1,r))}S.memo(S4e);function S4e({routes:e,future:t,state:r,onError:n}){return f4e(e,void 0,r,n,t)}function T4e({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){ln(!Sm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof r=="string"&&(r=Em(r));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:x="default"}=r,b=S.useMemo(()=>{let y=jo(d,o);return y==null?null:{location:{pathname:y,search:h,hash:m,state:g,key:x},navigationType:n}},[o,d,h,m,g,x,n]);return us(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement($i.Provider,{value:u},S.createElement(Ay.Provider,{children:t,value:b}))}var Mg="get",Pg="application/x-www-form-urlencoded";function Cy(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function N4e(e){return Cy(e)&&e.tagName.toLowerCase()==="button"}function A4e(e){return Cy(e)&&e.tagName.toLowerCase()==="form"}function C4e(e){return Cy(e)&&e.tagName.toLowerCase()==="input"}function k4e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I4e(e,t){return e.button===0&&(!t||t==="_self")&&!k4e(e)}var Sg=null;function j4e(){if(Sg===null)try{new FormData(document.createElement("form"),0),Sg=!1}catch{Sg=!0}return Sg}var R4e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rE(e){return e!=null&&!R4e.has(e)?(us(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pg}"`),null):e}function O4e(e,t){let r,n,a,i,s;if(A4e(e)){let o=e.getAttribute("action");n=o?jo(o,t):null,r=e.getAttribute("method")||Mg,a=rE(e.getAttribute("enctype"))||Pg,i=new FormData(e)}else if(N4e(e)||C4e(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?jo(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Mg,a=rE(e.getAttribute("formenctype"))||rE(o.getAttribute("enctype"))||Pg,i=new FormData(o,e),!j4e()){let{name:d,type:h,value:m}=e;if(h==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,m)}}else{if(Cy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Mg,n=null,a=Pg,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function WN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D4e(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&jo(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function M4e(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P4e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L4e(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await M4e(i,r);return s.links?s.links():[]}return[]}));return z4e(n.flat(1).filter(P4e).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function u5(e,t,r,n,a,i){let s=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,o=(u,d)=>{var h;return r[d].pathname!==u.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>s(u,d)||o(u,d)):i==="data"?t.filter((u,d)=>{var m;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function F4e(e,t,{includeHydrateFallback:r}={}){return B4e(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function B4e(e){return[...new Set(e)]}function U4e(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function z4e(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(U4e(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function B9(){let e=S.useContext(Cf);return WN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $4e(){let e=S.useContext(Ny);return WN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var KN=S.createContext(void 0);KN.displayName="FrameworkContext";function U9(){let e=S.useContext(KN);return WN(e,"You must render this element inside a <HydratedRouter> element"),e}function V4e(e,t){let r=S.useContext(KN),[n,a]=S.useState(!1),[i,s]=S.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=N=>{N.forEach(k=>{s(k.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[e]),S.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:R0(o,x),onBlur:R0(u,b),onMouseEnter:R0(d,x),onMouseLeave:R0(h,b),onTouchStart:R0(m,x)}]:[!1,g,{}]}function R0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function H4e({page:e,...t}){let{router:r}=B9(),n=S.useMemo(()=>E9(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?S.createElement(q4e,{page:e,matches:n,...t}):null}function G4e(e){let{manifest:t,routeModules:r}=U9(),[n,a]=S.useState([]);return S.useEffect(()=>{let i=!1;return L4e(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function q4e({page:e,matches:t,...r}){let n=Yl(),{future:a,manifest:i,routeModules:s}=U9(),{basename:o}=B9(),{loaderData:u,matches:d}=$4e(),h=S.useMemo(()=>u5(e,t,d,i,n,"data"),[e,t,d,i,n]),m=S.useMemo(()=>u5(e,t,d,i,n,"assets"),[e,t,d,i,n]),g=S.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,_=!1;if(t.forEach(k=>{var D;let A=i.routes[k.route.id];!A||!A.hasLoader||(!h.some(j=>j.route.id===k.route.id)&&k.route.id in u&&((D=s[k.route.id])!=null&&D.shouldRevalidate)||A.hasClientLoader?_=!0:y.add(k.route.id))}),y.size===0)return[];let N=D4e(e,o,a.unstable_trailingSlashAwareDataRequests,"data");return _&&y.size>0&&N.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[o,a.unstable_trailingSlashAwareDataRequests,u,n,i,h,t,e,s]),x=S.useMemo(()=>F4e(m,i),[m,i]),b=G4e(m);return S.createElement(S.Fragment,null,g.map(y=>S.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>S.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),b.map(({key:y,link:_})=>S.createElement("link",{key:y,nonce:r.nonce,..._})))}function W4e(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var K4e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K4e&&(window.__reactRouterVersion="7.12.0")}catch{}function Y4e({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=S.useRef();a.current==null&&(a.current=IRe({window:n,v5Compat:!0}));let i=a.current,[s,o]=S.useState({action:i.action,location:i.location}),u=S.useCallback(d=>{r===!1?o(d):S.startTransition(()=>o(d))},[r]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.createElement(T4e,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var z9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$9=S.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:u,to:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b){let{basename:y,unstable_useTransitions:_}=S.useContext($i),N=typeof d=="string"&&z9.test(d),k=I9(d,y);d=k.to;let A=u4e(d,{relative:a}),[D,j,O]=V4e(n,x),I=Q4e(d,{replace:s,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function M(z){t&&t(z),z.defaultPrevented||I(z)}let R=S.createElement("a",{...x,...O,href:k.absoluteURL||A,onClick:k.isExternal||i?t:M,ref:W4e(b,j),target:u,"data-discover":!N&&r==="render"?"true":void 0});return D&&!N?S.createElement(S.Fragment,null,R,S.createElement(H4e,{page:A})):R});$9.displayName="Link";var X4e=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:u,...d},h){let m=Tm(s,{relative:d.relative}),g=Yl(),x=S.useContext(Ny),{navigator:b,basename:y}=S.useContext($i),_=x!=null&&aOe(m)&&o===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(k=k.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&y&&(A=jo(A,y)||A);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let j=k===N||!a&&k.startsWith(N)&&k.charAt(D)==="/",O=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:j,isPending:O,isTransitioning:_},M=j?t:void 0,R;typeof n=="function"?R=n(I):R=[n,j?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(I):i;return S.createElement($9,{...d,"aria-current":M,className:R,ref:h,style:z,to:s,viewTransition:o},typeof u=="function"?u(I):u)});X4e.displayName="NavLink";var J4e=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=Mg,action:o,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b)=>{let{unstable_useTransitions:y}=S.useContext($i),_=rOe(),N=nOe(o,{relative:d}),k=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&z9.test(o),D=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let O=j.nativeEvent.submitter,I=(O==null?void 0:O.getAttribute("formmethod"))||s,M=()=>_(O||j.currentTarget,{fetcherKey:t,method:I,navigate:r,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g});y&&r!==!1?S.startTransition(()=>M()):M()};return S.createElement("form",{ref:b,method:k,action:N,onSubmit:n?u:D,...x,"data-discover":!A&&e==="render"?"true":void 0})});J4e.displayName="Form";function Z4e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V9(e){let t=S.useContext(Cf);return ln(t,Z4e(e)),t}function Q4e(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let d=P9(),h=Yl(),m=Tm(e,{relative:i});return S.useCallback(g=>{if(I4e(g,t)){g.preventDefault();let x=r!==void 0?r:Fh(h)===Fh(m),b=()=>d(e,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});u?S.startTransition(()=>b()):b()}},[h,d,m,r,n,t,e,a,i,s,o,u])}var eOe=0,tOe=()=>`__${String(++eOe)}__`;function rOe(){let{router:e}=V9("useSubmit"),{basename:t}=S.useContext($i),r=w4e(),n=e.fetch,a=e.navigate;return S.useCallback(async(i,s={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=O4e(i,t);if(s.navigate===!1){let g=s.fetcherKey||tOe();await n(g,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}function nOe(e,{relative:t}={}){let{basename:r}=S.useContext($i),n=S.useContext(Go);ln(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Tm(e||".",{relative:t})},s=Yl();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yo([r,i.pathname])),Fh(i)}function aOe(e,{relative:t}={}){let r=S.useContext(R9);ln(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V9("useViewTransitionState"),a=Tm(e,{relative:t});if(!r.isTransitioning)return!1;let i=jo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=jo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uv(a.pathname,s)!=null||uv(a.pathname,i)!=null}const iOe=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(!0),[a,i]=S.useState(()=>localStorage.getItem("fingestao_selected_company_id")),[s,o]=S.useState("dashboard"),[u,d]=S.useState(null),[h,m]=S.useState(0),[g,x]=S.useState([]),[b,y]=S.useState([]),[_,N]=S.useState([]),[k,A]=S.useState([]),[D,j]=S.useState([]),[O,I]=S.useState([]),[M,R]=S.useState([]),[z,q]=S.useState([]),[F,Y]=S.useState([]),[de,ce]=S.useState([]),K=P9(),ae=Yl();S.useEffect(()=>{const ue=ae.pathname;if(ue==="/login")return;if(ue==="/selecionar-empresa"){o("selection");return}const be=ue.match(/^\/app(?:\/(.+))?$/);if(be){const me=be[1]||"dashboard";if(!a){K("/selecionar-empresa");return}o(me);return}const Le=ue.match(/^\/global(?:\/(.+))?$/);if(Le){const me=Le[1]||"dashboard";a&&(i(null),localStorage.removeItem("fingestao_selected_company_id")),o(me);return}},[ae.pathname]),S.useEffect(()=>{(async()=>{try{const be=await Ug.getCurrentSessionUser();be&&(t(be),(ae.pathname==="/"||ae.pathname==="/login")&&Z(be))}catch(be){console.error("Session check failed",be)}finally{n(!1)}})()},[]),S.useEffect(()=>{(async()=>{if(!e)return;const be=await ka.fetchCompanies();be&&x(be)})()},[e,h]),S.useEffect(()=>{(async()=>{if(!a)return;const[be,Le,me,Re,je,We]=await Promise.all([Qr.fetchTransactions(a),Qr.fetchAccounts(a),Qr.fetchCategories(a),Qr.fetchCostCenters(a),Or.fetchLeads(a),Or.fetchTasks(a)]);be&&y(be),Le&&N(Le),me&&A(me),Re&&j(Re),je&&Y(je),We&&ce(We)})()},[a,h]),S.useEffect(()=>{(async()=>{if(a||!e||e.role!==Xe.BPO&&e.role!==Xe.CONSULTANT)return;const[be,Le]=await Promise.all([Or.fetchGlobalLeads(e.linkedCompanyIds),Or.fetchGlobalTasks(e.linkedCompanyIds)]);be&&Y(be),Le&&ce(Le)})()},[e,a,h]);const Z=ue=>{if(ue.role===Xe.SUPER_ADMIN){K(a?"/app/dashboard":"/global/companies");return}if(ue.role===Xe.BPO||ue.role===Xe.CONSULTANT){K(a?"/app/dashboard":"/global/dashboard");return}K(a?"/app/dashboard":"/selecionar-empresa")},W=ue=>{t(ue),Z(ue)},ee=async()=>{await Ug.signOut(),t(null),i(null),localStorage.removeItem("fingestao_selected_company_id"),o("dashboard"),d(null),m(0),K("/login")},H=ue=>{i(ue),localStorage.setItem("fingestao_selected_company_id",ue),K("/app/dashboard")},L=()=>{i(null),localStorage.removeItem("fingestao_selected_company_id"),K("/global/companies")},J=()=>{i(null),localStorage.removeItem("fingestao_selected_company_id"),K("/global/companies")},U=(ue,be)=>{if(d(be||null),ue==="selection"){K("/selecionar-empresa");return}K(a?`/app/${ue}`:`/global/${ue}`)},B=()=>{m(ue=>ue+1)},se=ue=>e?[Xe.ADMIN,Xe.SUPER_ADMIN,Xe.BPO,Xe.CONSULTANT].includes(e.role)?!0:e.permissions?e.permissions.includes(ue):!1:!1;if(r)return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[l.jsx(Ia,{className:"animate-spin text-indigo-600 mb-4",size:48}),l.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:"Iniciando sistema..."})]});if(!e)return l.jsx(CX,{onLogin:W});if(e.role===Xe.SUPER_ADMIN&&!a)return l.jsx(ew,{user:e,onLogout:ee,title:"Painel Super Admin",currentView:s,onNavigate:U,menuRefreshTrigger:h,companyId:null,children:l.jsx(Cme,{currentUser:e,onRefresh:B,currentView:s,onSelectCompany:H})});const fe=e.role===Xe.BPO||e.role===Xe.CONSULTANT||e.role===Xe.SUPER_ADMIN,Te=fe&&!!a;if(!a&&!fe)return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col animate-in fade-in duration-500",children:[l.jsxs("header",{className:"px-8 py-6 flex justify-between items-center bg-white border-b border-gray-100 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-indigo-200",children:"F"}),l.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"FinGesto"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.name}),l.jsx("p",{className:"text-xs text-gray-500",children:e.email})]}),l.jsx("div",{className:"h-8 w-px bg-gray-200 hidden sm:block"}),l.jsxs("button",{onClick:ee,className:"flex items-center gap-2 text-gray-500 hover:text-red-600 transition-colors text-sm font-medium px-3 py-2 rounded-lg hover:bg-red-50",children:[l.jsx(K5,{size:18})," ",l.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]}),l.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6",children:l.jsx(jX,{companies:g,onSelect:H,onRefresh:B})}),l.jsxs("footer",{className:"py-6 text-center text-xs text-gray-400",children:[" ",new Date().getFullYear()," FinGesto SaaS. Todos os direitos reservados."]})]});const te=a?g.find(ue=>ue.id===a):null,ge=b;if(a&&te&&!te.active&&!fe){const ue=e.linkedCompanyIds.length>1;return l.jsx(ew,{user:e,onLogout:ee,title:"Acesso Restrito",currentView:"denied",onNavigate:()=>{},menuRefreshTrigger:h,companyId:null,children:l.jsx(kme,{companyName:te.name,onBack:ue?L:void 0})})}const Se=ue=>{const be=(fe&&!a?n5:a5)[ue],Le=(be==null?void 0:be.label)||ue.charAt(0).toUpperCase()+ue.slice(1).replace("_"," ");return`${fe&&!a?"Viso Global":(te==null?void 0:te.name)||"Sistema"} - ${Le}`},G=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center animate-in fade-in duration-300",children:[l.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4 border border-red-100",children:l.jsx(ki,{size:48,className:"text-red-500"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Acesso No Autorizado"}),l.jsxs("p",{className:"text-gray-500 max-w-md",children:["Seu perfil de usurio (",e.role,") no possui permisso para visualizar esta pgina neste contexto."]}),l.jsx("button",{onClick:()=>U("dashboard"),className:"mt-6 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Voltar ao Dashboard"})]}),_e=()=>{const ue=fe&&!a,be=ue?n5:a5,Le=be[s];if(a&&!te&&!ue)return l.jsxs("div",{className:"flex flex-col items-center justify-center p-12 h-full text-gray-400",children:[l.jsx(Ia,{className:"animate-spin mb-4",size:48}),l.jsx("p",{className:"font-medium",children:"Carregando dados da empresa..."})]});if(!Le){const Oe=be.dashboard.component;return l.jsx(Oe,{company:te,currentUser:e,onNavigate:U,onRefresh:B,transactions:ge,role:e.role,messages:[],leads:F,tasks:de,companies:g})}if(Le.permission&&!se(Le.permission))return G();const me=Le.component,Re={currentUser:e,onRefresh:B,onNavigate:U,viewParams:u,onClearParams:()=>d(null)},je={company:te,transactions:b,categories:k,accountPlan:z,assets:O,longTermItems:M,accounts:_,costCenters:D,leads:F,tasks:de,companies:g,role:e.role,companyId:te==null?void 0:te.id},qe={...Re,...ue?{onSelectCompany:H,leads:F,tasks:de,company:{id:"GLOBAL",name:"Carteira Global",plan:"BPO",active:!0},companies:g}:je};return l.jsx(me,{...qe})};return l.jsx(ew,{user:e,onLogout:ee,title:Se(s),currentView:s,onNavigate:U,isBPOOperationalMode:Te,onExitOperationalMode:J,menuRefreshTrigger:h,companyId:a,onSwitchCompany:H,onManageCompanies:L,companies:g,children:_e()})},H9=document.getElementById("root");if(!H9)throw new Error("Could not find root element to mount to");const sOe=fH.createRoot(H9);sOe.render(l.jsx(dv.StrictMode,{children:l.jsx(Y4e,{children:l.jsx(iOe,{})})}));
